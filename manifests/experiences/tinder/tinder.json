{
  "title": "Tinder",
  "icon": "tinder.png",
  "dataPortal": "https://account.gotinder.com/data",
  "data": ["tinder-synthetic.json"],
  "hideSummary": true,
  "hideFileExplorer": true,
  "files": {
    "tinder": "**/*.json"
  },
  "collaborator": {
    "title": "The Dating Privacy Collective",
    "icon": "dating-privacy-collective.svg",
    "url": "https://dating-privacy.hestialabs.org/"
  },
  "defaultView": [
    {
      "key": "user-infos",
      "sql": "user-infos",
      "files": ["tinder"],
      "visualization": "TinderUserInfos.vue",
      "showTable": false,
      "title": "User infos"
    },
    {
      "key": "app-opens-vue",
      "sql": "app-opens",
      "files": ["tinder"],
      "postprocessor": "appOpensData",
      "visualization": "ChartViewHeatMapCalendar.vue",
      "vizProps": {
        "title": "Application usage over time",
        "legendOffset": 360,
        "dateAccessor": "date",
        "valueAccessor": "value",
        "legendLabel": "App Opened"
      },
      "showTable": false,
      "title": "Usage",
      "text": "See the number of times that you opened the app per day"
    },
    {
      "key": "likes-dislikes-vue",
      "sql": "likes-dislikes",
      "files": ["tinder"],
      "postprocessor": "likesDislikesData",
      "visualization": "ChartViewTimeSeries.vue",
      "vizProps": {
        "title": "Likes vs Passes over time",
        "legendOffset": 350,
        "dateAccessor": { "text": "Date", "value": "date" },
        "seriesAccessor": { "text": "Action", "value": "action" },
        "valueAccessor": "value"
      },
      "showTable": false,
      "title": "Likes and passes",
      "text": "See the number of likes and passes that you made over time."
    },
    {
      "key": "messages-activity",
      "sql": "messages",
      "files": ["tinder"],
      "visualization": "TinderMessageActivity.vue",
      "vizProps": {
        "dateAccessor": "sentDate"
      },
      "showTable": false,
      "title": "Messages",
      "text": "See at what time of the day and week you receive/send the most messages"
    },
    {
      "key": "donut",
      "sql": "all",
      "files": ["tinder"],
      "visualization": "donut-multiple-comparisons",
      "showTable": false,
      "title": "Comparison",
      "text": "Compare the different actions you perform in the application."
    },
    {
      "key": "likes-dislikes-open",
      "sql": "likes-dislikes-open",
      "files": ["tinder"],
      "visualization": "scatter-likes-passes-correlation",
      "showTable": false,
      "title": "Likes / passes correlation",
      "text": "Observe the possible correlation between the number of likes/passes and the number of times you open the app."
    }
  ],
  "databaseConfig": {
    "tables": [
      {
        "name": "Tinder",
        "columns": [
          ["action", "TEXT"],
          ["date", "TEXT"],
          ["amount", "INTEGER"]
        ]
      },
      {
        "name": "UserInfos",
        "columns": [
          ["ageFilterMax", "INTEGER"],
          ["ageFilterMin", "INTEGER"],
          ["birthDate", "TEXT"],
          ["createDate", "TEXT"],
          ["gender", "TEXT"],
          ["genderFilter", "TEXT"],
          ["interestedIn", "TEXT"],
          ["education", "TEXT"],
          ["college", "TEXT"],
          ["sexualOrientations", "TEXT"],
          ["descriptors", "TEXT"]
        ]
      },
      {
        "name": "Messages",
        "columns": [
          ["sender", "TEXT"],
          ["receiver", "TEXT"],
          ["message", "TEXT"],
          ["sentDate", "TEXT"]
        ]
      }
    ],
    "files": [
      {
        "id": "tinder",
        "path": "$.Usage..[?(@property.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/))]",
        "table": "Tinder",
        "options": {
          "resultType": "all",
          "callback": "value => value.grandparentProperty = value.pointer.split('/')[2]"
        },
        "getters": [
          {
            "column": "action",
            "path": "$.grandparentProperty"
          },
          {
            "column": "date",
            "path": "$.parentProperty"
          },
          {
            "column": "amount",
            "path": "$.value"
          }
        ]
      },
      {
        "id": "tinder",
        "path": "$.User",
        "table": "UserInfos",
        "getters": [
          {
            "column": "ageFilterMax",
            "path": "$.age_filter_max"
          },
          {
            "column": "ageFilterMin",
            "path": "$.age_filter_min"
          },
          {
            "column": "birthDate",
            "path": "$.birth_date"
          },
          {
            "column": "createDate",
            "path": "$.create_date"
          },
          {
            "column": "descriptors",
            "path": "$.descriptors"
          },
          {
            "column": "gender",
            "path": "$.gender"
          },
          {
            "column": "genderFilter",
            "path": "$.gender_filter"
          },
          {
            "column": "interestedIn",
            "path": "$.interested_in"
          },
          {
            "column": "education",
            "path": "$.education"
          },
          {
            "column": "college",
            "path": "$.college"
          },
          {
            "column": "sexualOrientations",
            "path": "$.sexual_orientations"
          }
        ]
      },
      {
        "id": "tinder",
        "path": "$.Messages[*].messages[*]",
        "table": "Messages",
        "getters": [
          {
            "column": "sender",
            "path": "$.from"
          },
          {
            "column": "receiver",
            "path": "$.to"
          },
          {
            "column": "sentDate",
            "path": "$.sent_date"
          },
          {
            "column": "message",
            "path": "$.message"
          }
        ]
      }
    ]
  }
}
