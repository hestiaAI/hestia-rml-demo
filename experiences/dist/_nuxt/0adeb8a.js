(window.webpackJsonp=window.webpackJsonp||[]).push([[19,72],{1197:function(t,e,r){"use strict";r.r(e);r(28),r(3),r(41),r(45),r(66),r(13),r(48),r(411),r(73);var n=r(708),o=r(1470),l={mixins:[r(705).default],props:{yAccessor:{type:String,required:!0},xAccessor:{type:String,default:""},dateAccessor:{type:String,default:""},yAxisMaxTickLength:{type:Number,default:20},margin:{type:Number,default:5},adjVertical:{type:Array,default:function(){return[5,50]}},adjHorizontal:{type:Array,default:function(){return[150,150]}},countLabel:{type:String,default:"records"},xLabel:{type:String,default:"records"},yLabel:{type:String,default:"companies"},dateFormat:{type:String,default:""}},data:function(){return{total:0,minDate:null,maxDate:null,records:[],topKSlider:null,othersCheck:!1}},computed:{validProps:function(){var t=!0;return this.values.length?(this.dateAccessor&&!Object.keys(this.values[0]).includes(this.dateAccessor)&&(console.error("Date Accessor not found"),t=!1),Object.keys(this.values[0]).includes(this.yAccessor)||(console.error("Y Accessor not found"),t=!1),this.xAccessor&&!Object.keys(this.values[0]).includes(this.xAccessor)&&(console.error("X Accessor not found"),t=!1),t):(console.error("Values is empty"),t=!1)}},methods:{draw:function(){var t=this,e=this.records.slice(0,this.othersCheck?this.topKSlider-1:this.topKSlider);this.othersCheck&&(e.push({key:"Others",value:n.I(this.records.slice(this.topKSlider),(function(t){return t.value}))}),e.sort((function(a,b){return n.e(a.value,b.value)}))),this.xScale.domain(n.h(e,(function(t){return t.value}))),this.yScale.domain(e.map((function(t){return t.key})));var r=this.svg.selectAll(".bars").data(e,(function(t){return t.key})),o=this;r.enter().append("rect").attr("class","bars").attr("x",5).attr("y",(function(e){return t.yScale(e.key)})).attr("width",0).attr("height",this.yScale.bandwidth()).attr("fill","#69b3a2").on("mouseover",(function(t,e){n.F(this).style("opacity",.7),n.F(this.parentNode).append("text").attr("class","barsLabel").text(e.value).attr("text-anchor","start").attr("alignment-baseline","middle").attr("x",o.xScale(e.value)+15).attr("y",o.yScale(e.key)+o.yScale.bandwidth()/2).style("font-size","0.8rem").style("font-weight","bold").style("fill","#0A0A0A")})).on("mouseleave",(function(t,e){n.F(this).style("opacity",1),n.F(".barsLabel").remove()})).merge(r).transition().duration(1e3).delay(200).attr("y",(function(e){return t.yScale(e.key)})).attr("width",(function(e){return t.xScale(e.value)+5})).attr("height",this.yScale.bandwidth()),r.exit().transition().duration(1e3).attr("width",0).remove(),n.F(".yAxis").transition().duration(1e3).delay(200).call(this.yAxis),n.G(".yAxis g text").transition().duration(1e3).delay(200).style("font-size",1.8/Math.log(this.topKSlider)+"rem"),n.F(".xAxis").transition().duration(1e3).delay(200).call(this.xAxis)},drawViz:function(){var t=this;if(this.validProps){var e=this.dateFormat?n.Q(this.dateFormat):function(t){return new Date(t)},r=n.L("%B %d, %Y");if(this.dateAccessor){var l=n.h(this.values,(function(r){return e(r[t.dateAccessor])}));l[0]&&l[1]?(this.minDate=r(l[0]),this.maxDate=r(l[1])):console.error("Unable to parse date fields")}this.total=this.xAccessor?n.I(this.values,(function(e){return e[t.xAccessor]})):this.values.length,this.topKSlider=Math.min(20,this.total),this.records=Object(o.b)().key((function(e){return e[t.yAccessor]})).rollup((function(e){return n.I(e,(function(e){return t.xAccessor?e[t.xAccessor]:1}))})).entries(this.values).sort((function(a,b){return n.e(a.value,b.value)}));n.F("#"+this.graphId+" svg").remove(),this.svg=n.F("#"+this.graphId).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.adjHorizontal[0]+" -"+this.adjVertical[0]+" "+(300+n.I(this.adjHorizontal))+" "+(380+n.I(this.adjVertical))).style("padding",this.padding).style("margin",this.margin).classed("svg-content",!0),this.xScale=n.z().range([0,300]),this.yScale=n.y().range([0,380]).paddingInner(.1);var c=n.c(this.yScale).tickFormat((function(e){return r=e,n=t.yAxisMaxTickLength,r.length>n?r.slice(0,n)+"..":r;var r,n})).tickSizeOuter(0),d=n.b(this.xScale).ticks(4);this.xAxis=d,this.yAxis=c,this.svg.append("g").attr("class","xAxis").attr("transform","translate(0,380)").call(d).append("text").attr("dy",".75em").attr("y",30).attr("x",150).style("text-anchor","middle").text(this.xLabel),this.svg.append("g").attr("class","yAxis").call(c),this.draw()}}}},c=(r(1588),r(33)),d=r(34),h=r.n(d),f=r(173),y=r(709),v=r(664),x=r(1247),m=r(837),A=r(656),S=r(680),V=r(271),w=r(679),k=r(645),_=r(1322),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.validProps?r("VContainer",[r("VRow",{attrs:{dense:""}},[r("VCol",{staticClass:"text-center",attrs:{cols:"12",md:"12"}},[r("p",[t._v("\n        In total we found "),r("strong",[t._v(t._s(t.total))]),t._v(" "+t._s(t.countLabel)+"\n        "),t.minDate&&t.maxDate?r("span",{},[t._v("\n          between "),r("strong",[t._v(t._s(t.minDate))]),t._v(" and\n          "),r("strong",[t._v(t._s(t.maxDate))])]):t._e()])])],1),t._v(" "),r("VRow",{attrs:{justify:"center",dense:""}},[r("VCol",{staticStyle:{position:"relative"},attrs:{cols:"12",md:"7"}},[r("VMenu",{attrs:{"offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("VBtn",t._g(t._b({staticStyle:{position:"absolute",right:"0","z-index":"10"},attrs:{icon:""}},"VBtn",o,!1),n),[r("VIcon",{attrs:{small:""}},[t._v("\n              $vuetify.icons.mdiCog\n            ")])],1)]}}],null,!1,405597846)},[t._v(" "),r("VCard",{staticStyle:{width:"300px"}},[r("VCardTitle",[t._v("Settings")]),t._v(" "),r("VDivider"),t._v(" "),r("VCardText",[r("VRow",{staticClass:"mt-3"},[r("VCol",[r("VSlider",{attrs:{label:"NÂ° of "+t.yLabel,"thumb-color":"primary","thumb-label":"always",min:"1",max:Math.min(t.total,50),"hide-details":"",dense:""},on:{change:t.draw},model:{value:t.topKSlider,callback:function(e){t.topKSlider=e},expression:"topKSlider"}})],1)],1),t._v(" "),r("VRow",[r("VCol",[r("VCheckbox",{attrs:{dense:"",label:"Display Others","hide-details":""},on:{change:t.draw},model:{value:t.othersCheck,callback:function(e){t.othersCheck=e},expression:"othersCheck"}})],1)],1)],1)],1)],1),t._v(" "),r("div",{staticStyle:{position:"relative"},attrs:{id:t.graphId}})],1)],1)],1):t._e()}),[],!1,null,"0808bfad",null);e.default=component.exports;h()(component,{VBtn:f.a,VCard:y.a,VCardText:v.c,VCardTitle:v.d,VCheckbox:x.a,VCol:m.a,VContainer:A.a,VDivider:S.a,VIcon:V.a,VMenu:w.a,VRow:k.a,VSlider:_.a})},1481:function(t,e,r){var content=r(1589);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("69056e26",content,!0,{sourceMap:!1})},1588:function(t,e,r){"use strict";r(1481)},1589:function(t,e,r){var n=r(20)(!1);n.push([t.i,"[data-v-0808bfad] .xAxis line,[data-v-0808bfad] .yAxis line{stroke:#706f6f;stroke-width:.5;shape-rendering:geometricPrecision}[data-v-0808bfad] .xAxis path,[data-v-0808bfad] .yAxis path{stroke:#706f6f;stroke-width:.7;shape-rendering:geometricPrecision}[data-v-0808bfad] .yAxis path{display:none}[data-v-0808bfad] .xAxis text,[data-v-0808bfad] .yAxis text{fill:#2b2929;font-weight:300}[data-v-0808bfad] .xAxis text{font-size:1rem}",""]),t.exports=n},705:function(t,e,r){"use strict";r.r(e),e.default={props:{values:{type:Array,default:function(){return[]}},headers:{type:Array,default:function(){return[]}}},data:function(){return{graphId:"graph_"+this._uid}},mounted:function(){this.drawViz()},watch:{values:function(){this.drawViz()}}}}}]);