"use strict";(("undefined"!=typeof self?self:this).webpackChunk_hestia_ai_data_experience=("undefined"!=typeof self?self:this).webpackChunk_hestia_ai_data_experience||[]).push([[3800,7473,6622,9814,5225],{43800:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var n=r(60194),l=r(40290),o=r(27473),c=r(49814),d=r(96622),h=r(85225);l.config.defaultColors(n.schemePaired);var m={components:{ChartViewTextSelectTimeRange:c.default,ChartViewFilters:d.default},mixins:[o.default],props:{dateAccessor:{type:String,required:!0},dateFormat:{type:String,default:""},valueAccessor:{type:String,default:""},defaultValue:{type:Number,default:0},cumulativeGroup:{type:Boolean,default:!1}},data(){const t={day:{name:"day",accessor:t=>n.timeDay(this.dateParser(t)),xUnits:n.timeDays,round:n.timeDay.round},month:{name:"month",accessor:t=>n.timeMonth(this.dateParser(t)),xUnits:n.timeMonths,round:n.timeMonth.round},year:{name:"year",accessor:t=>n.timeYear(this.dateParser(t)),xUnits:n.timeYears,round:n.timeYear.round}};return{timeUnits:t,timeUnit:t.day,dateFormatter:n.timeFormat("%B %d, %Y")}},computed:{dateParser(){return this.dateFormat?n.timeParse(this.dateFormat):t=>new Date(t)}},methods:{drawViz(){const t=new l.LineChart(`#area-chart-${this.graphId}`),e=new l.BarChart(`#range-chart-${this.graphId}`);n.select(`#area-chart-${this.graphId} a.reset`).on("click",(function(){t.filterAll(),e.filterAll(),l.redrawAll()}));const r=n.extent(this.ndx.all(),(t=>this.dateParser(t[this.dateAccessor])));r[0]=n.timeDay.offset(r[0],-1),r[1]=n.timeDay.offset(r[1],1);const o=n.timeMonth.count(...r);this.timeUnit=o>10?o>120?this.timeUnits.year:this.timeUnits.month:this.timeUnits.day;const c=this.ndx.dimension((t=>this.timeUnit.accessor(t[this.dateAccessor]))),d=this.valueAccessor?c.group().reduceSum((t=>t[this.valueAccessor])):c.group().reduceCount(),m=n.select(`#area-chart-${this.graphId}`).node().getBoundingClientRect().width;t.margins({top:20,left:40,right:20,bottom:20}).width(m).transitionDuration(1e3).turnOnControls(!1).curve(n.curveMonotoneX).xyTipsOn(!0).height(.8*(this.height-30)).brushOn(!1).renderArea(!0).dimension(c).group(this.cumulativeGroup?(0,h.createCumulativeGroup)(d):d).x(n.scaleTime().domain(r)).elasticY(!0).rangeChart(e).renderDataPoints({radius:3,fillOpacity:.8,strokeOpacity:0}).round(this.timeUnit.round).xUnits(this.timeUnit.xUnits).title((t=>`${this.dateFormatter(t.key)} : ${t.value} ${this.valueLabel}`)).clipPadding(10).yAxisLabel(`Total ${this.valueLabel}`).ordinalColors(this.colorPalette),t.xAxis().ticks(10),t.yAxis().ticks(6),t.filterAll(),e.width(m).height(.2*(this.height-30)).margins({top:0,right:10,bottom:20,left:40}).dimension(c).group(d).centerBar(!0).gap(1).x(n.scaleTime().domain(r)).valueAccessor((t=>t.value)).label((t=>t.key)).round(this.timeUnit.round).alwaysUseRounding(!0).xUnits(this.timeUnit.xUnits).ordinalColors(this.colorPalette).yAxis().ticks(0),l.renderAll()}}},f=(0,r(1001).Z)(m,(function(){var t=this,e=t._self._c;return e("VContainer",[e("div",{attrs:{id:`area-chart-${t.graphId}`}},[e("strong",[t._v(t._s(t.title))]),t.cumulativeGroup?[e("strong",{directives:[{name:"t",rawName:"v-t",value:"in total",expression:"'in total'"}],staticClass:"ml-1"})]:[e("strong",{directives:[{name:"t",rawName:"v-t",value:"per",expression:"'per'"}],staticClass:"ml-1"}),e("strong",{directives:[{name:"t",rawName:"v-t",value:t.timeUnit.name,expression:"timeUnit.name"}],staticClass:"ml-1"})],e("ChartViewFilters")],2),e("div",{staticClass:"range-chart",attrs:{id:`range-chart-${t.graphId}`}},[e("ChartViewTextSelectTimeRange")],1)])}),[],!1,null,null,null).exports},96622:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var n={},l=(0,r(1001).Z)(n,(function(){var t=this,e=t._self._c;return e("p",{staticClass:"filters"},[e("span",[t._v(" "+t._s(t.$t("Current filter"))+" "),e("span",{staticClass:"filter"})]),e("a",{directives:[{name:"t",rawName:"v-t",value:"reset",expression:"'reset'"}],staticClass:"reset",staticStyle:{display:"none"}})])}),[],!1,null,null,null).exports},49814:function(t,e,r){r.r(e),r.d(e,{default:function(){return n}});var n=(0,r(1001).Z)({},(function(){var t=this,e=t._self._c;return e("p",{staticClass:"muted pull-right text-subtitle-2 mr-4 mb-1"},[e("span",{domProps:{innerHTML:t._s(t.$t("select-time-range"))}}),t._t("default")],2)}),[],!1,null,null,null).exports},27473:function(t,e,r){r.r(e);var n=r(40290);e.default={props:{ndx:{type:Object,required:!0},title:{type:String,default:""},valueLabel:{type:String,default:"records"},height:{type:Number,default:250},position:{type:Number,required:!0},colorPalette:{type:Array,default:()=>["#bebada","#8dd3c7","#fb8072","#80b1d3","#fdb462","#b3de69","#bc80bd","#ccebc5"]}},data(){return{graphId:"graph_"+this._uid}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{createTextFilterWidget(t,e="Search"){const r=new n.TextFilterWidget(t);return r.placeHolder(this.$t(e)),r}}}},85225:function(t,e,r){r.r(e),r.d(e,{addPiePercentage:function(){return m},addXLabel:function(){return o},addYLabel:function(){return c},createCumulativeGroup:function(){return d},removeEmptyBins:function(){return h}});var n=r(60194),l=r(40290);function o(t,e){const r=t.svg().append("text").attr("class","x-axis-label").attr("text-anchor","middle").attr("x",t.width()/2).attr("y",t.height()-10).text(e),n=r.node().getBBox(),l=t.margins();r.attr("x",l.left+(t.width()-l.left-l.right)/2).attr("y",t.height()-Math.ceil(n.height)/2)}function c(t,e){const r=t.svg().append("text").attr("class","y-axis-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-t.height()/2).attr("y",10).text(e),n=r.node().getBBox(),l=t.margins();r.attr("x",-l.top-(t.height()-l.top-l.bottom)/2).attr("y",Math.max(Math.ceil(n.height),l.left-Math.ceil(n.height)-5))}function d(t){return{all(){const e={};return t.all().map((function(t){return e[t.key[0]]?e[t.key[0]]+=t.value:e[t.key[0]]=t.value,{key:t.key,value:e[t.key[0]]}}))}}}function h(t){return{top:e=>t.top(1/0).filter((function(t){return 0!==t.value.count&&0!==t.value})).slice(0,e)}}function m(t){t.selectAll("text.pie-slice.pie-label").call((function(t){t.each((function(t){const e=n.select(this);let text=e.text();text.length>14&&(text=text.substring(0,14)+".. "),text.length>0&&(text=text+" ("+l.utils.printSingleValue((t.endAngle-t.startAngle)/(2*Math.PI)*100)+"%)"),e.text(text)}))}))}}}]);