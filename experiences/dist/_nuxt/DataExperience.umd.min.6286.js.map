{"version":3,"file":"DataExperience.umd.min.6286.js","mappings":"4OAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,aAAa,CAACA,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,KAAO,OAAO,CAACF,EAAG,sBAAsBF,EAAIK,GAAG,CAAC,EAAE,sBAAsB,CAAEC,QAASN,EAAIO,OAAQC,MAAOR,EAAIS,UAAU,KAAS,IAAI,IAAI,EACtP,EACIC,EAAkB,G,gCCctB,GACEC,WAAY,CAAEC,oBAAmB,KACjCC,OAAQ,CAACC,EAAA,YACTC,MAAO,CAAC,EACRC,OACE,MAAO,CACLT,OAAQ,CACN,CAAEU,KAAM,aAAcC,MAAO,cAC7B,CAAED,KAAM,WAAYC,MAAO,YAC3B,CAAED,KAAM,eAAgBC,MAAO,cAC/B,CAAED,KAAM,QAASC,MAAO,cACxB,CAAED,KAAM,UAAWC,MAAO,YAE5BT,QAAS,GAEb,EACAU,QAAS,CACPC,UACE,MAAMC,EAAWpB,KAAKqB,OAAOC,QAAO,CAACC,EAAGC,KACtC,MAAMC,EAAc,IAAIC,KAAKF,EAAEG,OAAOC,UAChCC,EAAcN,EAAEO,IAAI,IAAM,KAChC,IAAKD,GAAeE,KAAKC,IAAIH,EAAYI,SAAWR,GAAe,IAAO,CACxE,MAAMS,EAAU,CACdC,WAAYV,EACZQ,SAAUR,EACVW,WAAY,EACZC,QAAS,CAACb,EAAEc,aAEdf,EAAEgB,KAAKL,EACT,MACEL,EAAYI,SAAWR,EACvBI,EAAYO,YAAc,EAC1BP,EAAYQ,QAAQE,KAAKf,EAAEc,YAE7B,OAAOf,IACN,IACHvB,KAAKQ,QAAUY,EAASoB,KAAKC,IACpB,IACFA,EACHC,WAAYX,KAAKY,KAAKF,EAAER,SAAWQ,EAAEN,YAAc,IAAM,GACzDA,YAAY,QAAkBM,EAAEN,YAChCF,UAAU,QAAkBQ,EAAER,cAGlCW,QAAQC,IAAI,OAAQ7C,KAAKQ,QAC3B,IC7D+I,I,UCO/IsC,GAAY,OACd,EACAhD,EACAW,GACA,EACA,KACA,KACA,MAIF,EAAeqC,EAAiB,O","sources":["webpack://DataExperience/./src/components/chart/view/ChartViewSession.vue?ae1a","webpack://DataExperience/src/components/chart/view/ChartViewSession.vue","webpack://DataExperience/./src/components/chart/view/ChartViewSession.vue?7865","webpack://DataExperience/./src/components/chart/view/ChartViewSession.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VContainer',[_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\"}},[_c('UnitFilterableTable',_vm._b({},'UnitFilterableTable',{ headers: _vm.header, items: _vm.results },false))],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <VContainer>\n    <VRow>\n      <VCol cols=\"12\">\n        <UnitFilterableTable v-bind=\"{ headers: header, items: results }\" />\n      </VCol>\n    </VRow>\n  </VContainer>\n</template>\n\n<script>\n// import * as d3 from 'd3'\nimport mixin from './mixin'\nimport { datetimeFormatter } from '@/utils/dates'\nimport UnitFilterableTable from '@/components/unit/filterable-table/UnitFilterableTable.vue'\n\nexport default {\n  components: { UnitFilterableTable },\n  mixins: [mixin],\n  props: {},\n  data() {\n    return {\n      header: [\n        { text: 'Start Date', value: 'start_date' },\n        { text: 'End Date', value: 'end_date' },\n        { text: 'Duration (s)', value: 'duration_s' },\n        { text: 'Count', value: 'nb_actions' },\n        { text: 'Actions', value: 'actions' }\n      ],\n      results: []\n    }\n  },\n  methods: {\n    drawViz() {\n      const sessions = this.values.reduce((r, o) => {\n        const currentDate = new Date(o._date).getTime()\n        const lastSession = r.at(-1) || null\n        if (!lastSession || Math.abs(lastSession.end_date - currentDate) > 60000) {\n          const session = {\n            start_date: currentDate,\n            end_date: currentDate,\n            nb_actions: 1,\n            actions: [o.actionType]\n          }\n          r.push(session)\n        } else {\n          lastSession.end_date = currentDate\n          lastSession.nb_actions += 1\n          lastSession.actions.push(o.actionType)\n        }\n        return r\n      }, [])\n      this.results = sessions.map((s) => {\n        return {\n          ...s,\n          duration_s: Math.max((s.end_date - s.start_date) / 1000, 1),\n          start_date: datetimeFormatter(s.start_date),\n          end_date: datetimeFormatter(s.end_date)\n        }\n      })\n      console.log('test', this.results)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewSession.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewSession.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewSession.vue?vue&type=template&id=9b127676&\"\nimport script from \"./ChartViewSession.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewSession.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","_b","headers","header","items","results","staticRenderFns","components","UnitFilterableTable","mixins","mixin","props","data","text","value","methods","drawViz","sessions","values","reduce","r","o","currentDate","Date","_date","getTime","lastSession","at","Math","abs","end_date","session","start_date","nb_actions","actions","actionType","push","map","s","duration_s","max","console","log","component"],"sourceRoot":""}