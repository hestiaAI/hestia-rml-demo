(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[3695],{73695:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(23279),s=n.n(r),a=n(55317),o=n(46187),u=n(35619),c=n(91303);function l(){return new Worker(n.p+"find-items.worker.462dd5d.js")}var f=n(45484),p=n(48832),d=n(84151),h={name:"UnitFileExplorerViewerJson",components:{BaseSearchBar:n(99262).Z},mixins:[o.Z,u.Z],data:()=>({jsonText:"",items:[],open:[],foundItems:[],error:!1,search:"",searchCooldownTime:200,filteredItems:[],searching:!1,useOldSearch:!1}),computed:{delayedUpdateFilteredItems(){return s()((async function(){this.searching=!0,await this.updateFilteredItems(),this.searching=!1}),this.searchCooldownTime)}},watch:{filename:{handler(e){this.getContentFromFilename(e)},immediate:!0},search(){this.delayedUpdateFilteredItems.cancel(),this.delayedUpdateFilteredItems()}},methods:{k:e=>`file-explorer.viewer.json.${e}`,onFoundItemRowClick(e){this.open=e.trail},createItemAcessor(e){const t=(0,p.cg)(this.filename),n=(0,d.Rn)(e.path);return(0,p.$0)(t,n)},copyAccessor(e){try{const t=JSON.stringify(this.createItemAcessor(e));navigator.clipboard.writeText(t)}catch(e){console.error(e)}},onNodeClick(e){try{this.$emit("select-accessor",this.createItemAcessor(e))}catch(e){console.error(e)}},iconForNode(e){switch(e){case d.zR.TREE:return a.UgG;case d.zR.LIST:return a.BkA;case d.zR.LEAF:return a.EaN}},isUndef:e=>void 0===e,async getContentFromFilename(e){this.setLoading(!0),this.jsonText=await this.fileManager.getPreprocessedText(e);try{this.items=await this.fileManager.getJsonItems(e),this.filteredItems=this.items,this.error=!1}catch(e){console.error(e),this.error=!0}this.setLoading(!1)},async updateFilteredItems(){this.search?this.useOldSearch?this.filteredItems=await(0,f.YX)(new c.Z,[this.jsonText,this.search]):this.foundItems=await(0,f.YX)(new l,[this.search,this.items]):this.filteredItems=this.items}}},m=h,v=(0,n(1001).Z)(m,(function(){var e=this,t=e._self._c;return e.loading?t("div",{directives:[{name:"t",rawName:"v-t",value:"Loading",expression:"'Loading'"}]}):e.error?t("div",[t("p",{directives:[{name:"t",rawName:"v-t",value:e.k("errorText"),expression:"k('errorText')"}]})]):t("div",[t("BaseSearchBar",{attrs:{loading:e.searching,label:e.$t(e.k("content-search-name")),placeholder:e.$t(e.k("content-search-placeholder"))},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("VExpandTransition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.foundItems.length>0,expression:"foundItems.length > 0"}]},[t("VDataTable",{staticClass:"elevation-1",attrs:{dense:"",headers:[{text:e.$t(e.k("found-items-header")),value:"item"}],items:e.foundItems,"items-per-page":5},on:{"click:row":e.onFoundItemRowClick},scopedSlots:e._u([{key:"item.item",fn:function({item:n}){return[t("div",{staticClass:"clickable"},[e.isUndef(n.name)?e._e():t("span",[e._v(" "+e._s(`${n.name}:`)+" ")]),t("span",{staticClass:"font-italic"},[e._v(e._s(n.value))])])]}}])})],1)]),t("VTreeview",{attrs:{dense:"",transition:"",items:e.filteredItems,open:e.open},on:{"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function({item:n}){return[e.isUndef(n.type)?e._e():t("VIcon",[e._v(" "+e._s(e.iconForNode(n.type))+" ")])]}},{key:"label",fn:function({item:n,leaf:r}){return[t("span",[r?t("span",{attrs:{title:n.value}},[e.isUndef(n.name)?e._e():t("span",[e._v(" "+e._s(`${n.name}:`)+" ")]),t("span",{staticClass:"font-italic"},[e._v(e._s(n.value))])]):t("span",[e._v(e._s(n.name))]),t("VTooltip",{attrs:{bottom:"","open-delay":"200"},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t("VIcon",e._g({staticClass:"clickable",on:{click:function(t){return e.copyAccessor(n)}}},r),[e._v(" $vuetify.icons.mdiContentCopy ")])]}}],null,!0)},[t("span",[e._v(e._s(e.$t(e.k("Copy accessor to clipboard"))))])]),t("VTooltip",{attrs:{bottom:"","open-delay":"200"},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t("VIcon",e._g({staticClass:"clickable",on:{click:function(t){return e.onNodeClick(n)}}},r),[e._v(" $vuetify.icons.mdiTable ")])]}}],null,!0)},[t("span",[e._v(e._s(e.$t(e.k("Show as table"))))])])],1)]}}])})],1)}),[],!1,null,"714a4d56",null),b=v.exports},62705:function(e,t,n){var i=n(55639).Symbol;e.exports=i},44239:function(e,t,n){var r=n(62705),i=n(89607),o=n(2333),c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?i(e):o(e)}},27561:function(e,t,n){var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},89607:function(e,t,n){var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:function(e,t,n){var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:function(e,t,n){var r=n(13218),i=n(7771),o=n(14841),a=Math.max,c=Math.min;e.exports=function(e,t,n){var u,l,f,d,p,h,m=0,v=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=u,r=l;return u=l=void 0,m=t,d=e.apply(r,n)}function b(e){return m=e,p=setTimeout(k,t),v?x(e):d}function w(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-m>=f}function k(){var e=i();if(w(e))return _(e);p=setTimeout(k,function(e){var i=t-(e-h);return y?c(i,f-(e-m)):i}(e))}function _(e){return p=void 0,g&&u?x(e):(u=l=void 0,d)}function I(){var e=i(),n=w(e);if(u=arguments,l=this,h=e,n){if(void 0===p)return b(h);if(y)return clearTimeout(p),p=setTimeout(k,t),x(h)}return void 0===p&&(p=setTimeout(k,t)),d}return t=o(t)||0,r(n)&&(v=!!n.leading,f=(y="maxWait"in n)?a(o(n.maxWait)||0,t):f,g="trailing"in n?!!n.trailing:g),I.cancel=function(){void 0!==p&&clearTimeout(p),m=0,u=h=l=p=void 0},I.flush=function(){return void 0===p?d:_(i())},I}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(55639);e.exports=function(){return r.Date.now()}},14841:function(e,t,n){var r=n(27561),i=n(13218),o=n(33448),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}}}]);