"use strict";(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[9592,1297],{29592:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var i=a(60194),r={mixins:[a(21297).default],props:{groupsAccessor:{type:String,required:!0},valuesAccessor:{type:Array,required:!0},title:{type:String,default:""},margin:{type:Number,default:5},adjVertical:{type:Array,default:()=>[20,50]},adjHorizontal:{type:Array,default:()=>[150,150]},xLabel:{type:String,default:"Sexual Orientation"},yLabel:{type:String,default:"Number of action per day and user"},formatNumber:{type:String,default:".2f"},colorPalette:{type:Array,default:()=>["#69B3A2","#C23636","#67A4BF"]}},data:()=>({}),computed:{validProps(){let t=!0;return this.values.length?(Object.keys(this.values[0]).includes(this.groupsAccessor)||(console.error("Group Accessor not found:",this.groupsAccessor),t=!1),this.valuesAccessor.forEach((e=>{Object.keys(this.values[0]).includes(e)||(console.error("X Accessor not found:",e),t=!1)})),t):(console.error("Values is empty"),!1)}},methods:{drawViz(){try{const t=500,e=380,a=i.format(this.formatNumber);i.select("#"+this.graphId+" svg").remove(),this.svg=i.select("#"+this.graphId).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.adjHorizontal[0]+" -"+this.adjVertical[0]+" "+(t+i.sum(this.adjHorizontal))+" "+(e+i.sum(this.adjVertical))).style("margin",this.margin).classed("svg-content",!0);const s=[...new Set(this.values.map((t=>t[this.groupsAccessor])))],r=i.scaleBand().domain(s).range([0,t]).padding([.2]);this.svg.append("g").attr("class","xAxis").attr("transform","translate(0,"+e+")").call(i.axisBottom(r).tickSize(0)).append("text").attr("y",30).attr("x",t/2).style("text-anchor","middle").text(this.xLabel);const l=i.max(this.values,(t=>Math.max(...this.valuesAccessor.map((e=>t[e]))))),n=i.scaleLinear().domain([0,l]).range([e,0]);this.svg.append("g").attr("class","yAxis").call(i.axisLeft(n)).append("text").attr("dy",".75em").attr("y",-50).attr("x",-e/2).attr("transform","rotate(-90)").style("text-anchor","middle").text(this.yLabel);const o=i.scaleBand().domain(this.valuesAccessor).range([0,r.bandwidth()]).padding([.05]),c=i.scaleOrdinal().domain(this.valuesAccessor).range(this.colorPalette);this.svg.append("g").selectAll("g").data(this.values).enter().append("g").attr("transform",(t=>"translate("+r(t[this.groupsAccessor])+",0)")).selectAll("rect").data((t=>this.valuesAccessor.map((function(e){return{key:e,value:t[e]}})))).enter().append("rect").attr("x",(t=>o(t.key))).attr("y",(function(t){return n(t.value)})).attr("width",o.bandwidth()).attr("height",(t=>e-n(t.value))).attr("fill",(t=>c(t.key))).on("mouseover",(function(t,e){i.select(this).style("opacity",.7),i.select(this.parentNode).append("text").attr("class","barsLabel").text(a(e.value)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("x",o(e.key)+o.bandwidth()/2).attr("y",n(e.value)-10).style("font-size","0.8rem").style("font-weight","bold").style("fill","#0A0A0A")})).on("mouseleave",(function(t,e){i.select(this).style("opacity",1),i.select(".barsLabel").remove()}));const d=10,u=t-20,h=0;this.svg.selectAll("legendSquare").data(this.valuesAccessor).enter().append("rect").attr("x",u).attr("y",(function(t,e){return h+e*(d+5)})).attr("width",d).attr("height",d).style("fill",(function(t){return c(t)})),this.svg.selectAll("legendLabels").data(this.valuesAccessor).enter().append("text").attr("x",u+1.2*d).attr("y",(function(t,e){return h+e*(d+5)+d/2})).style("fill",(function(t){return c(t)})).text((function(t){return t})).attr("text-anchor","left").style("alignment-baseline","middle")}catch(t){console.error(t)}}}},l=r,n=(0,a(1001).Z)(l,(function(){var t=this,e=t._self._c;return t.validProps?e("VContainer",[e("p",{staticClass:"overline font-weight-bold text-subtitle-1 text-center"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticStyle:{position:"relative"},attrs:{id:t.graphId}})]):t._e()}),[],!1,null,"748eb1d0",null),u=n.exports},21297:function(t,e,a){a.r(e);var s=a(40290),r=a(18651),i=a(659);const l={props:{values:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},messages:{type:Object,default:()=>({})}},data(){return{graphId:"graph_"+this._uid,totalCount:0,filterCount:0}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{drawViz(){},createTextFilterWidget(t,e="Search"){const a=new s.TextFilterWidget(t);return a.placeHolder(this.$tev(e,e)),a}}};e.default=(0,r.Z)(l,i.Z)}}]);