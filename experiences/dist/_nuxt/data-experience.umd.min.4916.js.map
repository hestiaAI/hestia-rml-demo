{"version":3,"file":"data-experience.umd.min.4916.js","mappings":"mPAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,IAAI,SACjF,EACIC,EAAkB,G,sBCQtB,SAASC,IACP,IAAIC,EAAQ,IACRC,EAAS,IACb,SAASC,EAAMC,GACbA,EAAUC,MAAK,SAASC,GAEtB,MAAMC,EAAM,SACFZ,MACPa,OAAO,OACPC,KAAK,QAASR,GACdQ,KAAK,SAAUP,GAEZQ,EAAYR,EAASI,EAAKK,OAC1BC,EAAQX,EAAQY,KAAKC,OAAOR,GAClCC,EACGQ,UAAU,QACVT,KAAKA,GACLU,QACAR,OAAO,QACPC,KAAK,IAAK,GACVA,KAAK,KAAK,CAACQ,EAAGC,IAAMA,EAAIR,IACxBD,KAAK,SAASU,GAAKA,EAAIP,EAAQ,OAC/BH,KAAK,SAAUC,GACfD,KAAK,OAAQ,QAChBF,EACGQ,UAAU,QACVT,KAAKA,GACLU,QACAR,OAAO,QACPY,MAAKD,GAAKA,IACVV,KAAK,IAAK,GACVA,KAAK,KAAK,CAACQ,EAAGC,IAAMA,EAAIR,EAAY,IACzC,GACF,CAcA,OAZAP,EAAMF,MAAQ,SAASgB,GACrB,OAAKI,UAAUV,QACfV,EAAQgB,EACDd,GAFyBF,CAGlC,EAEAE,EAAMD,OAAS,SAASe,GACtB,OAAKI,UAAUV,QACfT,EAASe,EACFd,GAFyBD,CAGlC,EAEOC,CACT,CAEA,OACEmB,OAAQ,CAACC,EAAA,YACTC,QAAS,CACPC,UAIE,MAAMC,EAAS,CAAC,GAAI,EAAG,GAAI,GAAI,GAAI,IAC7BvB,EAAQH,IAAWE,OAAO,KAAKD,MAAMN,KAAKgC,MAAMC,MAAMC,aAC5D,SAAUlC,KAAKgC,MAAMC,OAAOE,MAAMJ,GAAQK,KAAK5B,EACjD,ICtE2I,I,UCO3I6B,GAAY,OACd,EACAvC,EACAM,GACA,EACA,KACA,KACA,MAIF,EAAeiC,EAAiB,O,kECbhC,MAAMT,EAAQ,CACZU,MAAO,CACLP,OAAQ,CACNQ,KAAMC,MACNC,QAAS,IAAM,IAEjBC,QAAS,CACPH,KAAMC,MACNC,QAAS,IAAM,IAEjBE,SAAU,CACRJ,KAAMK,OACNH,QAAS,KAAM,CAAG,KAGtB9B,OACE,MAAO,CACLkC,QAAS,SAAW7C,KAAK8C,KACzBC,WAAY,EACZC,YAAa,EAEjB,EACAC,UACEjD,KAAK8B,SACP,EACAoB,MAAO,CACLnB,SACE/B,KAAK8B,SACP,GAEFD,QAAS,CACPC,UAAY,EACZqB,uBAAuBC,EAAQC,EAAc,UAC3C,MAAMC,EAAS,IAAI,EAAAC,iBAAiBH,GAEpC,OADAE,EAAOE,YAAYxD,KAAKyD,KAAKJ,EAAaA,IACnCC,CACT,IAIJ,cAAe,OAAM1B,EAAO,I","sources":["webpack://data-experience/./src/components/chart/view/ChartViewBar.vue?a5a7","webpack://data-experience/src/components/chart/view/ChartViewBar.vue","webpack://data-experience/./src/components/chart/view/ChartViewBar.vue?efe3","webpack://data-experience/./src/components/chart/view/ChartViewBar.vue","webpack://data-experience/./src/components/chart/view/mixin.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"graph\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"graph\" />\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport mixin from './mixin'\n\n// somewhat inspired by\n// https://bost.ocks.org/mike/chart/\nfunction barChart() {\n  let width = 440\n  let height = 120\n  function chart(selection) {\n    selection.each(function(data) {\n      // Select the svg element, if it exists.\n      const svg = d3\n        .select(this)\n        .append('svg')\n        .attr('width', width)\n        .attr('height', height)\n\n      const barHeight = height / data.length\n      const scale = width / Math.max(...data)\n      svg\n        .selectAll('rect')\n        .data(data)\n        .enter()\n        .append('rect')\n        .attr('x', 0)\n        .attr('y', (_, i) => i * barHeight)\n        .attr('width', d => d * scale + 'px')\n        .attr('height', barHeight)\n        .attr('fill', 'peru')\n      svg\n        .selectAll('text')\n        .data(data)\n        .enter()\n        .append('text')\n        .text(d => d)\n        .attr('x', 5)\n        .attr('y', (_, i) => i * barHeight + 16)\n    })\n  }\n\n  chart.width = function(_) {\n    if (!arguments.length) { return width }\n    width = _\n    return chart\n  }\n\n  chart.height = function(_) {\n    if (!arguments.length) { return height }\n    height = _\n    return chart\n  }\n\n  return chart\n}\n\nexport default {\n  mixins: [mixin],\n  methods: {\n    drawViz() {\n      // another chart should be using this.values\n      // but let's ignore it so we can use this one\n      // anywhere regardless of the input\n      const values = [44, 8, 15, 16, 23, 42]\n      const chart = barChart().height(200).width(this.$refs.graph.clientWidth)\n      d3.select(this.$refs.graph).datum(values).call(chart)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewBar.vue?vue&type=template&id=6d17e0ed&\"\nimport script from \"./ChartViewBar.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { TextFilterWidget } from 'dc'\nimport { merge } from 'lodash-es'\n\nimport kViewBlockMixin from '@/mixins/k-view-block'\n\nconst mixin = {\n  props: {\n    values: {\n      type: Array,\n      default: () => []\n    },\n    headers: {\n      type: Array,\n      default: () => []\n    },\n    messages: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      graphId: 'graph_' + this._uid,\n      totalCount: 0,\n      filterCount: 0\n    }\n  },\n  mounted() {\n    this.drawViz()\n  },\n  watch: {\n    values() {\n      this.drawViz()\n    }\n  },\n  methods: {\n    drawViz() { },\n    createTextFilterWidget(parent, placeholder = 'Search') {\n      const widget = new TextFilterWidget(parent)\n      widget.placeHolder(this.$tev(placeholder, placeholder))\n      return widget\n    }\n  }\n}\n\nexport default merge(mixin, kViewBlockMixin)\n"],"names":["render","_vm","this","_c","_self","ref","staticRenderFns","barChart","width","height","chart","selection","each","data","svg","append","attr","barHeight","length","scale","Math","max","selectAll","enter","_","i","d","text","arguments","mixins","mixin","methods","drawViz","values","$refs","graph","clientWidth","datum","call","component","props","type","Array","default","headers","messages","Object","graphId","_uid","totalCount","filterCount","mounted","watch","createTextFilterWidget","parent","placeholder","widget","TextFilterWidget","placeHolder","$tev"],"sourceRoot":""}