{"version":3,"file":"data-experience.common.4916.js","mappings":";;;;;;;;;;;;;;;AAAA,+BAA+B,6BAA6B,iBAAiB,YAAY;AACzF;AACA;;;;;;;;;ACGwB;AACG;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBACH;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yEAAe;AACf,WAAW,gBAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAS;AACf;AACA;AACA,CAAC;;;ACxE6I,CAAC,8EAAe,oCAAG,EAAC;;;;ACAvE;AAC3B;AACL;;;AAG3D;AACA,CAAyG;AACzG,gBAAgB,sCAAU;AAC1B,EAAE,yCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAe;;;;;;;;;;;;AClBsB;AACJ;AACjC;AACmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,wBAAwB;AACxB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,iBAAiB;AACjB;AACA,yBAAyB,gDAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,+DAAe,8DAAK,QAAQ,qEAAe,CAAC","sources":["webpack://data-experience/./src/components/chart/view/ChartViewBar.vue?a5a7","webpack://data-experience/src/components/chart/view/ChartViewBar.vue","webpack://data-experience/./src/components/chart/view/ChartViewBar.vue?efe3","webpack://data-experience/./src/components/chart/view/ChartViewBar.vue","webpack://data-experience/./src/components/chart/view/mixin.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"graph\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"graph\" />\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from 'd3'\r\nimport mixin from './mixin'\r\n\r\n// somewhat inspired by\r\n// https://bost.ocks.org/mike/chart/\r\nfunction barChart() {\r\n  let width = 440\r\n  let height = 120\r\n  function chart(selection) {\r\n    selection.each(function(data) {\r\n      // Select the svg element, if it exists.\r\n      const svg = d3\r\n        .select(this)\r\n        .append('svg')\r\n        .attr('width', width)\r\n        .attr('height', height)\r\n\r\n      const barHeight = height / data.length\r\n      const scale = width / Math.max(...data)\r\n      svg\r\n        .selectAll('rect')\r\n        .data(data)\r\n        .enter()\r\n        .append('rect')\r\n        .attr('x', 0)\r\n        .attr('y', (_, i) => i * barHeight)\r\n        .attr('width', d => d * scale + 'px')\r\n        .attr('height', barHeight)\r\n        .attr('fill', 'peru')\r\n      svg\r\n        .selectAll('text')\r\n        .data(data)\r\n        .enter()\r\n        .append('text')\r\n        .text(d => d)\r\n        .attr('x', 5)\r\n        .attr('y', (_, i) => i * barHeight + 16)\r\n    })\r\n  }\r\n\r\n  chart.width = function(_) {\r\n    if (!arguments.length) { return width }\r\n    width = _\r\n    return chart\r\n  }\r\n\r\n  chart.height = function(_) {\r\n    if (!arguments.length) { return height }\r\n    height = _\r\n    return chart\r\n  }\r\n\r\n  return chart\r\n}\r\n\r\nexport default {\r\n  mixins: [mixin],\r\n  methods: {\r\n    drawViz() {\r\n      // another chart should be using this.values\r\n      // but let's ignore it so we can use this one\r\n      // anywhere regardless of the input\r\n      const values = [44, 8, 15, 16, 23, 42]\r\n      const chart = barChart().height(200).width(this.$refs.graph.clientWidth)\r\n      d3.select(this.$refs.graph).datum(values).call(chart)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewBar.vue?vue&type=template&id=6d17e0ed&\"\nimport script from \"./ChartViewBar.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { TextFilterWidget } from 'dc'\r\nimport { merge } from 'lodash-es'\r\n\r\nimport kViewBlockMixin from '@/mixins/k-view-block'\r\n\r\nconst mixin = {\r\n  props: {\r\n    values: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    headers: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    messages: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      graphId: 'graph_' + this.$store.state.xp.currentTab,\r\n      totalCount: 0,\r\n      filterCount: 0\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawViz()\r\n  },\r\n  watch: {\r\n    values() {\r\n      this.drawViz()\r\n    }\r\n  },\r\n  methods: {\r\n    drawViz() { },\r\n    createTextFilterWidget(parent, placeholder = 'Search') {\r\n      const widget = new TextFilterWidget(parent)\r\n      widget.placeHolder(this.$tev(placeholder, placeholder))\r\n      return widget\r\n    }\r\n  }\r\n}\r\n\r\nexport default merge(mixin, kViewBlockMixin)\r\n"],"names":[],"sourceRoot":""}