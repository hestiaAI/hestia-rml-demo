{"version":3,"file":"data-experience.umd.min.868.js","mappings":"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","sources":["webpack://data-experience/./src/components/chart/view/ChartViewDashboard.vue?251b","webpack://data-experience/src/components/chart/view/ChartViewDashboard.vue","webpack://data-experience/./src/components/chart/view/ChartViewDashboard.vue?c4ce","webpack://data-experience/./src/components/chart/view/ChartViewDashboard.vue","webpack://data-experience/./src/components/chart/view/dc/ChartCaller.vue?4aaf","webpack://data-experience/src/components/chart/view/dc/ChartCaller.vue","webpack://data-experience/./src/components/chart/view/dc/ChartCaller.vue?2c09","webpack://data-experience/./src/components/chart/view/dc/ChartCaller.vue","webpack://data-experience/./src/components/chart/view/dc/ lazy ^\\.\\/.*$ namespace object","webpack://data-experience/./src/components/chart/view/mixin.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VContainer',[_c('VRow',[_vm._l((_vm.graphs),function(graph,idx){return _c('VCol',{key:idx,attrs:{\"cols\":\"12\",\"md\":graph.cols || '6',\"offset-md\":graph.offset || '0'}},[(_vm.ndx && graph.type)?_c('ChartCaller',{attrs:{\"type\":graph.type,\"viz-props\":{\n          values: _vm.values || [],\n          ndx: _vm.ndx,\n          position: idx,\n          ...graph\n        }}}):_vm._e()],1)}),_c('VCol',{staticClass:\"text-center\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"dc-data-count\",attrs:{\"id\":`dc-data-count-${_vm.graphId}`}})]),_c('VCol',{attrs:{\"cols\":\"12\"}},[_c('UnitFilterableTable',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTable),expression:\"showTable\"}]},'UnitFilterableTable',{ headers: _vm.headers, items: _vm.results },false))],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <VContainer>\n    <VRow>\n      <VCol v-for=\"graph, idx in graphs\" :key=\"idx\" cols=\"12\" :md=\"graph.cols || '6'\" :offset-md=\"graph.offset || '0'\">\n        <ChartCaller\n          v-if=\"ndx && graph.type\"\n          :type=\"graph.type\"\n          :viz-props=\"{\n            values: values || [],\n            ndx,\n            position: idx,\n            ...graph\n          }\"\n        />\n      </VCol>\n      <VCol cols=\"12\" class=\"text-center\">\n        <div :id=\"`dc-data-count-${graphId}`\" class=\"dc-data-count\" />\n      </VCol>\n      <VCol cols=\"12\">\n        <UnitFilterableTable v-show=\"showTable\" v-bind=\"{ headers: headers, items: results }\" />\n      </VCol>\n    </VRow>\n  </VContainer>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport * as dc from 'dc'\nimport crossfilter from 'crossfilter2'\nimport mixin from './mixin'\nimport ChartCaller from './dc/ChartCaller.vue'\nimport UnitFilterableTable from '@/components/unit/filterable-table/UnitFilterableTable.vue'\n\n// Remove warning on default colorscheme, even if not used..\ndc.config.defaultColors(d3.schemePaired)\n\nexport default {\n  components: { ChartCaller, UnitFilterableTable },\n  mixins: [mixin],\n  props: {\n    graphs: {\n      type: Array,\n      required: true\n    },\n    showTable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      ndx: null,\n      results: this.values\n    }\n  },\n  methods: {\n    resetAll() {\n      dc.filterAll()\n      dc.renderAll()\n    },\n    drawViz() {\n      this.ndx = crossfilter(this.results)\n      // Create and bind charts to their respective divs\n      const tableCount = new dc.DataCount(`#dc-data-count-${this.graphId}`)\n      const all = this.ndx.groupAll()\n      // Render counter and table\n      tableCount\n        .crossfilter(this.ndx)\n        .groupAll(all)\n        .html({\n          some: `<strong>%filter-count</strong> ${this.$t('selected-out-of')} <strong>%total-count</strong> ` +\n                    `${this.$t('records')} | <a class='resetAll'>${this.$t('Reset All')}</a>`,\n          all: `Total: <strong>%total-count</strong> ${this.$t('records')}. ${this.$t('click-graph')}`\n        })\n        .on('pretransition', (chart, filter) => {\n          this.results = this.ndx.allFiltered()\n          d3.select(`#dc-data-count-${this.graphId} a.resetAll`).on('click', this.resetAll)\n        })\n      dc.renderAll()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewDashboard.vue?vue&type=template&id=638abaa6&\"\nimport script from \"./ChartViewDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewDashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.component,_vm._b({tag:\"component\"},'component',_vm.vizProps,false))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <component\n    :is=\"component\"\n    v-bind=\"vizProps\"\n  />\n</template>\n\n<script>\nexport default {\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    vizProps: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  computed: {\n    component() {\n      return () => import(`@/components/chart/view/dc/${this.type}`)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartCaller.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartCaller.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartCaller.vue?vue&type=template&id=3484a7d7&\"\nimport script from \"./ChartCaller.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartCaller.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./ChartCaller\": [\n\t\t17344\n\t],\n\t\"./ChartCaller.vue\": [\n\t\t17344\n\t],\n\t\"./ChartViewDcFilterCount\": [\n\t\t92027,\n\t\t290,\n\t\t2027\n\t],\n\t\"./ChartViewDcFilterCount.vue\": [\n\t\t92027,\n\t\t290,\n\t\t2027\n\t],\n\t\"./HourChart\": [\n\t\t41734,\n\t\t290,\n\t\t1734\n\t],\n\t\"./HourChart.vue\": [\n\t\t41734,\n\t\t290,\n\t\t1734\n\t],\n\t\"./PieChart\": [\n\t\t63314,\n\t\t290,\n\t\t3314\n\t],\n\t\"./PieChart.vue\": [\n\t\t63314,\n\t\t290,\n\t\t3314\n\t],\n\t\"./TimelineChart\": [\n\t\t43800,\n\t\t290,\n\t\t3800\n\t],\n\t\"./TimelineChart.vue\": [\n\t\t43800,\n\t\t290,\n\t\t3800\n\t],\n\t\"./TopChart\": [\n\t\t26636,\n\t\t290,\n\t\t6636\n\t],\n\t\"./TopChart.vue\": [\n\t\t26636,\n\t\t290,\n\t\t6636\n\t],\n\t\"./WeekChart\": [\n\t\t62934,\n\t\t290,\n\t\t2934\n\t],\n\t\"./WeekChart.vue\": [\n\t\t62934,\n\t\t290,\n\t\t2934\n\t],\n\t\"./mixin\": [\n\t\t31690,\n\t\t290,\n\t\t1690\n\t],\n\t\"./mixin.js\": [\n\t\t31690,\n\t\t290,\n\t\t1690\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 40342;\nmodule.exports = webpackAsyncContext;","import { TextFilterWidget } from 'dc'\nimport { merge } from 'lodash-es'\n\nimport kViewBlockMixin from '@/mixins/k-view-block'\n\nconst mixin = {\n  props: {\n    values: {\n      type: Array,\n      default: () => []\n    },\n    headers: {\n      type: Array,\n      default: () => []\n    },\n    messages: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      graphId: 'graph_' + this._uid,\n      totalCount: 0,\n      filterCount: 0\n    }\n  },\n  mounted() {\n    this.drawViz()\n  },\n  watch: {\n    values() {\n      this.drawViz()\n    }\n  },\n  methods: {\n    drawViz() { },\n    createTextFilterWidget(parent, placeholder = 'Search') {\n      const widget = new TextFilterWidget(parent)\n      widget.placeHolder(this.$tev(placeholder, placeholder))\n      return widget\n    }\n  }\n}\n\nexport default merge(mixin, kViewBlockMixin)\n"],"names":["render","_vm","this","_c","_self","_l","graph","idx","key","attrs","cols","offset","ndx","type","values","position","_e","staticClass","graphId","_b","directives","name","rawName","value","expression","headers","items","results","staticRenderFns","dc","config","defaultColors","components","ChartCaller","mixins","mixin","props","graphs","Array","required","showTable","Boolean","default","data","methods","resetAll","filterAll","renderAll","drawViz","tableCount","DataCount","all","groupAll","crossfilter","html","some","$t","on","chart","filter","allFiltered","component","tag","vizProps","String","Object","computed","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","slice","keys","module","exports","messages","_uid","totalCount","filterCount","mounted","watch","createTextFilterWidget","parent","placeholder","widget","TextFilterWidget","placeHolder","$tev"],"sourceRoot":""}