"use strict";(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[552,8736,6622,1297,9814],{70552:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var r=a(46228),i=a(40290),n=a(26641),o=a(21297),l=a(18736),d=a(49814),u=a(96622),c=a(96963);i.config.defaultColors(r.xHP);var g={name:"ChartViewOverviewTwitter",components:{ChartViewVRowWebShare:l.default,ChartViewTextSelectTimeRange:d.default,ChartViewFilters:u.default,UnitFilterableTable:c.Z},mixins:[o.default],data:()=>({header:[{text:"Tweet ID",value:"tweetId"},{text:"Company",value:"companyName"},{text:"Date",value:"date_"},{text:"Promoted Tweet",value:"url"},{text:"Engagement",value:"engagedWith"},{text:"Targeting Criteria",value:"count"}],results:[]}),methods:{drawViz(){this.results=this.values;const t=["#0D4B7A","#248EB8","#7FCEF0","#4A659E"],e=new i.LineChart("#volume-chart"),a=new i.BarChart("#range-chart"+this.graphId),o=new i.DataCount(".dc-data-count"),s=new i.RowChart("#company-chart"),l=new i.PieChart("#engagement-chart"),d=new i.RowChart("#type-chart"),c=new i.RowChart("#value-chart"),u=this.createTextFilterWidget("#company-search"),h=this.createTextFilterWidget("#type-search"),g=this.createTextFilterWidget("#value-search");r.Ys("#volume-chart p a.reset").on("click",(function(){a.filterAll(),e.filterAll(),i.redrawAll()})),r.Ys("#company-chart p a.reset").on("click",(function(){s.filterAll(),i.redrawAll()})),r.Ys("#engagement-chart p a.reset").on("click",(function(){l.filterAll(),i.redrawAll()})),r.Ys("#type-chart p a.reset").on("click",(function(){d.filterAll(),i.redrawAll()})),r.Ys("#value-chart p a.reset").on("click",(function(){c.filterAll(),i.redrawAll()}));const p=r.Z1g("%Y-%m-%d %H:%M:%S"),m=r.i$Z("%B %d, %Y");this.results.forEach((t=>{t.targetingType=t.targetingType?t.targetingType:"Unknown",t.targetingValue=t.targetingValue?t.targetingValue:"Unknown",t.companyName=t.companyName?t.companyName:"",t.dateParsed=p(t.date_),t.day=r.rr1(t.dateParsed),t.dateStr=m(t.dateParsed),t.url="https://twitter.com/x/status/"+t.tweetId}));const f=r.VV$(this.results,(function(t){return t.day})),w=r.Fp7(this.results,(function(t){return t.day})),v=(0,n.Z)(this.results),C=v.groupAll(),y=v.dimension((t=>t.day)),x=v.dimension((t=>t.companyName)),b=v.dimension((t=>this.$t(t.engagedWith))),V=v.dimension((t=>t.targetingType)),_=v.dimension((t=>t.targetingValue));u.dimension(v.dimension((t=>t.companyName.toLowerCase()))),h.dimension(v.dimension((t=>t.targetingType.toLowerCase()))),g.dimension(v.dimension((t=>t.targetingValue.toLowerCase())));const A=()=>({count:0,dict:{}}),B=(t,e)=>(t.dict[e.tweetId+e.date_]=(t.dict[e.tweetId+e.date_]||0)+1,1===t.dict[e.tweetId+e.date_]&&t.count++,t),k=(t,e)=>(t.dict[e.tweetId+e.date_]-=1,0===t.dict[e.tweetId+e.date_]&&t.count--,t);function T(t){return t.count}const R=y.group().reduce(B,k,A).order(T),F=x.group().reduce(B,k,A).order(T),$=b.group().reduce(B,k,A).order(T),S=C.reduce(B,k,A),I=V.group().reduceCount(),Y=_.group().reduceCount();function Z(t){return{top:e=>t.top(1/0).filter((function(t){return 0!==t.value.count&&0!==t.value})).slice(0,e)}}e.renderArea(!0).width(r.Ys("#volume-chart").node().getBoundingClientRect().width).height(150).transitionDuration(1e3).margins({top:30,right:10,bottom:25,left:40}).group(R).dimension(y).x(r.Xf().domain([f,w])).valueAccessor((t=>t.value.count)).ordinalColors(t).brushOn(!1).elasticX(!1).elasticY(!0).xyTipsOn(!0).mouseZoomable(!1).rangeChart(a).renderHorizontalGridLines(!1).renderDataPoints({radius:3,fillOpacity:.8,strokeOpacity:0}).yAxisLabel("NÂ° of ads").clipPadding(10).title((t=>`${m(t.key)}: ${t.value.count}`)).yAxis().ticks(5),a.width(r.Ys("#volume-chart").node().getBoundingClientRect().width).height(40).margins({top:0,right:10,bottom:20,left:40}).dimension(y).group(R).centerBar(!0).gap(1).x(r.Xf().domain([f,w])).valueAccessor((t=>t.value.count)).label((t=>t.key)).round(r.rr1.round).alwaysUseRounding(!0).xUnits(r.Nus).ordinalColors(t).yAxis().ticks(0),s.width(r.Ys("#company-chart").node().getBoundingClientRect().width).height(240).margins({top:20,left:10,right:10,bottom:20}).group(Z(F)).dimension(x).ordinalColors(t).label((t=>t.key)).valueAccessor((t=>t.value.count)).data((t=>t.top(10))).title((t=>t.value.count)).elasticX(!0).xAxis().ticks(4);const P=r.Ys("#engagement-chart").node().getBoundingClientRect().width;l.width(P).height(220).radius(P/2.5).innerRadius(P/8).dimension(b).group($).valueAccessor((t=>t.value.count)).title((t=>t.value.count+" ads")).ordinalColors(t).label((t=>{if(l.hasFilter()&&!l.hasFilter(t.key))return`${t.key} (0%)`;let e=t.key;return C.value()&&(e+=` (${Math.round(t.value.count/S.value().count*100)}%)`),e})),d.width(r.Ys("#type-chart").node().getBoundingClientRect().width).height(240).margins({top:20,left:10,right:10,bottom:20}).group(Z(I)).dimension(V).ordinalColors(t).label((t=>t.key)).data((t=>t.top(10))).title((t=>t.value)).elasticX(!0).xAxis().ticks(4),c.width(r.Ys("#value-chart").node().getBoundingClientRect().width).height(240).margins({top:20,left:10,right:10,bottom:20}).group(Z(Y)).dimension(_).ordinalColors(t).label((t=>t.key)).data((t=>t.top(10))).title((t=>t.value)).elasticX(!0).xAxis().ticks(4);const D=S.value().count;o.crossfilter({size:()=>D}).groupAll({value:()=>S.value().count}).html({some:`<strong>%filter-count</strong> ${this.$t("selected-out-of")} <strong>%total-count</strong> ${this.messages.ads} | <a class='resetAll'>${this.$t("Reset All")}</a>`,all:`Total: <strong>%total-count</strong> ${this.messages.ads}. ${this.$t("click-graph")}`}).on("pretransition",((t,e)=>{const a=r.uTd(v.allFiltered(),(t=>t.length),(t=>t.tweetId),(t=>t.companyName),(t=>t.date_),(t=>t.url),(t=>t.engagedWith));this.results=a.map((t=>({tweetId:t[0],companyName:t[1],date_:t[2],url:t[3],engagedWith:t[4],count:t[5]}))),r.Ys("#dc-data-count a.reset").on("click",(function(){i.filterAll(),i.renderAll()}))})),i.renderAll()}}},p=g,h=(0,a(1001).Z)(p,(function(){var t=this,e=t._self._c;return e("VContainer",[e("ChartViewVRowWebShare",[e("VCol",{attrs:{cols:"12"}},[e("VRow",[e("VCol",{attrs:{cols:"12",sm:"8"}},[e("div",{attrs:{id:"volume-chart"}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages["ads-time"])}}),e("ChartViewFilters")],1),e("div",{staticClass:"range-chart",attrs:{id:"range-chart"+t.graphId}},[e("ChartViewTextSelectTimeRange")],1)]),e("VCol",{attrs:{cols:"12",sm:"4"}},[e("div",{attrs:{id:"company-chart"}},[e("div",{staticStyle:{display:"flex"}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages["top-adv"])}}),e("VSpacer"),e("div",{attrs:{id:"company-search"}})],1),e("ChartViewFilters")],1)])],1),e("VRow",[e("VCol",{attrs:{cols:"12",sm:"4"}},[e("div",{attrs:{id:"engagement-chart"}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages.interactions)}}),e("ChartViewFilters")],1)]),e("VCol",{attrs:{cols:"12",sm:"4"}},[e("div",{attrs:{id:"type-chart"}},[e("div",{staticStyle:{display:"flex"}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages["targeting-type"])}}),e("VSpacer"),e("div",{attrs:{id:"type-search"}})],1),e("ChartViewFilters")],1)]),e("VCol",{attrs:{cols:"12",sm:"4"}},[e("div",{attrs:{id:"value-chart"}},[e("div",{staticStyle:{display:"flex"}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages["targeting-criteria"])}}),e("VSpacer"),e("div",{attrs:{id:"value-search"}})],1),e("ChartViewFilters")],1)])],1),e("VRow",[e("div",{staticClass:"dc-data-count",attrs:{id:"dc-data-count"}})])],1)],1),e("VRow",[e("VCol",{attrs:{cols:"12"}},[e("UnitFilterableTable",t._b({},"UnitFilterableTable",{headers:t.header,items:t.results},!1))],1)],1)],1)}),[],!1,null,null,null),m=h.exports},18736:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var r=a(12555),i=a(4031),n=a(97888),o=a(9934),l={components:{BaseButton:i.Z,BaseButtonDownloadData:n.Z,BaseButtonShare:o.Z},mixins:[(0,r.Z)()]},d=(0,a(1001).Z)(l,(function(){var t=this,e=t._self._c;return e("VRow",t._b({ref:"domToImageNode"},"VRow",t.$attrs,!1),[t._t("default"),e("VCol",{staticClass:"dom-to-image-exclude",attrs:{cols:"12"}},[e("BaseButton",t._b({attrs:{icon:"mdiExport",text:"Export"},on:{click:t.exportImage}},"BaseButton",{progress:t.progress,status:t.status,error:t.error},!1)),e("BaseButtonDownloadData",t._b({},"BaseButtonDownloadData",{disabled:!t.blob,extension:t.extension,filename:t.filename,data:t.blob},!1)),e("BaseButtonShare",t._b({attrs:{"file-share":""}},"BaseButtonShare",{files:t.files,disabled:!t.files},!1))],1)],2)}),[],!1,null,null,null),g=d.exports},96622:function(t,e,a){a.r(e),a.d(e,{default:function(){return n}});var i={},r=(0,a(1001).Z)(i,(function(){var t=this,e=t._self._c;return e("p",{staticClass:"filters"},[e("span",[t._v(" "+t._s(t.$t("Current filter"))+" "),e("span",{staticClass:"filter"})]),e("a",{directives:[{name:"t",rawName:"v-t",value:"reset",expression:"'reset'"}],staticClass:"reset",staticStyle:{display:"none"}})])}),[],!1,null,null,null),n=r.exports},49814:function(t,e,a){a.r(e),a.d(e,{default:function(){return n}});var r=(0,a(1001).Z)({},(function(){var t=this,e=t._self._c;return e("p",{staticClass:"muted pull-right text-subtitle-2 mr-4 mb-1"},[e("span",{domProps:{innerHTML:t._s(t.$t("select-time-range"))}}),t._t("default")],2)}),[],!1,null,null,null),n=r.exports},21297:function(t,e,a){a.r(e);var r=a(40290),s=a(18651),n=a(659);const i={props:{values:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},messages:{type:Object,default:()=>({})}},data(){return{graphId:"graph_"+this.$store.state.xp.currentTab,totalCount:0,filterCount:0}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{drawViz(){},createTextFilterWidget(t,e="Search"){const a=new r.TextFilterWidget(t);return a.placeHolder(this.$tev(e,e)),a}}};e.default=(0,s.Z)(i,n.Z)}}]);