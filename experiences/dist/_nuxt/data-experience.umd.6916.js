"use strict";(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[6916,1297],{96916:function(t,e,l){l.r(e),l.d(e,{default:function(){return h}});var r=l(21297),n=l(99319),o=l(82768),d=l(18343),c={components:{UnitKepler:o.Z,UnitFilterableTable:d.Z},mixins:[r.default],props:{keplerConfig:{type:Object,default:()=>null},showButton:{type:Boolean,default:()=>!1},doKAnonymity:{type:Boolean,default:()=>!1},groupKey:{type:Array,default:()=>[]},otherKeys:{type:Array,default:()=>[]},label:{type:String,default:()=>""}},data(){return{menu:!1,sliderValue:0,filteredRows:[],results:this.doKAnonymity?(0,n.a)(this.values,this.groupKey,this.otherKeys):this.values,label_:this.label}},computed:{total(){return this.results.length},filtered(){return this.filteredRows.length},keplerData(){return{fields:this.headers.map((t=>({name:t}))),rows:this.filteredRows.map((t=>this.headers.map((e=>t[e]))))}},keplerArgs(){return{keplerData:this.keplerData,config:this.keplerConfig}}},methods:{k:t=>`chart-view.generic-map.${t}`,increment(){this.sliderValue+=1},decrement(){this.sliderValue-=1},addNoise(){this.menu=!1;const t=this.sliderValue;this.results=this.results.map((e=>({...e,longitude:e.longitude+(.5-Math.random())/(40075e3*Math.cos(Math.radians(e.latitude))/360)*2*t,latitude:e.latitude+(.5-Math.random())/111320*2*t})))},clear(){this.menu=!1,this.results=this.values,this.sliderValue=0},onTableFilter(t){this.filteredRows=t}}},h=(0,l(1001).Z)(c,(function(){var t=this,e=t._self._c;return t.values.length>0?e("VContainer",[e("VRow",[e("VCol",{attrs:{cols:"12"}},[0===t.total?e("p",{staticClass:"text-subtitle-2"},[t._v(" "+t._s(t.$t("no-records"))+" ")]):""!==t.label_?e("p",{staticClass:"text-subtitle-2"},[t._v(" "+t._s(t.$t("found"))+" "),e("strong",[t._v(t._s(t.total))]),t._v(" "+t._s(t.label_)+" "+t._s(t.$t("in-files"))+". ")]):t._e()])],1),t.total>0?[e("VRow",[e("VCol",{attrs:{cols:"12"}},[e("UnitKepler",{attrs:{args:t.keplerArgs}})],1)],1),1==t.showButton?[e("VMenu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:l,attrs:r}){return[e("VBtn",t._g(t._b({staticClass:"ma-2",attrs:{color:"primary",outlined:""}},"VBtn",r,!1),l),[t._v(" "+t._s(t.$t(t.k("add-noise")))+" ")])]}}],null,!1,13010733),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e("VCard",{staticClass:"mx-auto",attrs:{"max-width":"600"}},[e("VCardTitle",[t._v(t._s(t.$t(t.k("noise-level"))))]),e("VCardText",[e("VRow",{staticClass:"mb-4",attrs:{justify:"space-between"}},[e("VCol",{staticClass:"text-left"},[e("span",{staticClass:"text-h2 font-weight-light",domProps:{textContent:t._s(t.sliderValue)}}),e("span",{staticClass:"subheading font-weight-light mr-1"},[t._v(t._s(t.$t(t.k("meters"))))])])],1),e("VSlider",{attrs:{max:100,min:0,step:"1","track-color":"grey","always-dirty":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("VIcon",{on:{click:t.decrement}},[t._v(" $vuetify.icons.mdiMinus ")])]},proxy:!0},{key:"append",fn:function(){return[e("VIcon",{on:{click:t.increment}},[t._v(" $vuetify.icons.mdiPlus ")])]},proxy:!0}],null,!1,214408879),model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1),e("VCardActions",[e("VSpacer"),e("VBtn",{on:{click:t.clear}},[t._v(" "+t._s(t.$t("Clear"))+" ")]),e("VBtn",{attrs:{color:"primary"},on:{click:t.addNoise}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)]:t._e(),e("VRow",[e("VCol",{attrs:{cols:"12"}},[e("UnitFilterableTable",t._b({on:{"current-items":t.onTableFilter}},"UnitFilterableTable",{headers:t.headers,items:t.results},!1))],1)],1)]:t._e()],2):t._e()}),[],!1,null,null,null).exports},21297:function(t,e,l){l.r(e);var r=l(40290),n=l(18651),o=l(659);const d={props:{values:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},messages:{type:Object,default:()=>({})}},data(){return{graphId:"graph_"+this.$store.state.xp.currentTab,totalCount:0,filterCount:0}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{drawViz(){},createTextFilterWidget(t,e="Search"){const l=new r.TextFilterWidget(t);return l.placeHolder(this.$tev(e,e)),l}}};e.default=(0,n.Z)(d,o.Z)},99319:function(t,e,l){l.d(e,{a:function(){return d}});var r=l(15643);function n(t){let e=0;for(let l=1;l<=Math.max.apply(Math,t);l++){if(t.filter((t=>t<=l)).length>=l){e=l;break}}return e}function o(t,e){return t.filter((t=>t.k<=e))}function d(t,e,l){const table=[],d=(0,r.Z)(t,(t=>e.map((e=>t[e])))),c=Object.keys(d);for(let i=0;i<c.length;i++){const t=c[i],r={},f=t.split(",");for(let t=0;t<e.length;t++)r[e[t]]=f[t];const m=n(d[t].map((t=>t.k))),y=o(d[t],m);for(let t=0;t<l.length;t++)r[l[t]]=(h=y.map((e=>e[l[t]])),h.reduce(((a,b)=>a+b),0)/h.length||0);r.k=m,table.push(r)}var h;return table.filter((t=>t.k>0))}}}]);