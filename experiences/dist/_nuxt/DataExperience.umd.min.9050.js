"use strict";(("undefined"!=typeof self?self:this).webpackChunkDataExperience=("undefined"!=typeof self?self:this).webpackChunkDataExperience||[]).push([[9050,8795,6622,9814],{89050:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var i=a(60194),r=a(40290),o=a(26641),l=a(74097),n=a(38795),c=a(49814),d=a(96622),u=a(72824);r.config.defaultColors(i.schemePaired);var g={components:{ChartViewVRowWebShare:n.default,ChartViewTextSelectTimeRange:c.default,ChartViewFilters:d.default,UnitFilterableTable:u.Z},mixins:[l.default],data:()=>({header:[{text:"Date",value:"startTime"},{text:"Duration",value:"duration"},{text:"Content",value:"title"},{text:"User",value:"profileName"},{text:"Country",value:"country"}],results:[]}),methods:{k:t=>`chart-view.overview-netflix.${t}`,removeEmptyBins:t=>({top:e=>t.top(1/0).filter((function(t){return 0!==t.value.count&&0!==t.value})).slice(0,e),all:()=>t.all()}),drawViz(){const t=i.timeParse("%Y-%m-%d %H:%M:%S"),e=i.timeFormat("%B %d, %Y"),a=i.format(".1f");this.results=this.values.filter((t=>""===t.supplementalVideoType)),this.results.forEach((a=>{const r=a.duration.split(":");a.date=t(a.startTime),a.month=i.timeMonth(a.date),a.dateStr=e(a.day),a.hour=i.timeHour(a.date).getHours();const s=a.title.split(":");a.content=s[0].includes("HIDDEN TITLE")?s[1]:s[0],a.device=""===a.deviceType?"Unknown":a.deviceType,a.durationHour=+r[0]+ +r[1]/60+ +r[2]/60/60,a.user=a.profileName}));const l=(0,o.Z)(this.results),s=l.groupAll(),n=new r.LineChart("#watch-time-chart"+this.graphId),c=new r.BarChart("#range-chart"+this.graphId),d=new r.PieChart("#user-chart"+this.graphId),h=new r.RowChart("#country-chart"+this.graphId),u=new r.RowChart("#content-chart"+this.graphId),g=new r.RowChart("#week-chart"+this.graphId),p=new r.RowChart("#device-chart"+this.graphId),m=new r.BarChart("#hour-chart"+this.graphId),f=new r.DataCount("#dc-data-count"+this.graphId);i.select("#watch-time-chart"+this.graphId+" a.reset").on("click",(function(){c.filterAll(),n.filterAll(),r.redrawAll()})),i.select("#user-chart"+this.graphId+" a.reset").on("click",(function(){d.filterAll(),r.redrawAll()})),i.select("#country-chart"+this.graphId+" a.reset").on("click",(function(){h.filterAll(),r.redrawAll()})),i.select("#content-chart"+this.graphId+" a.reset").on("click",(function(){u.filterAll(),r.redrawAll()})),i.select("#week-chart"+this.graphId+" a.reset").on("click",(function(){g.filterAll(),r.redrawAll()})),i.select("#device-chart"+this.graphId+" a.reset").on("click",(function(){p.filterAll(),r.redrawAll()})),i.select("#hour-chart"+this.graphId+" a.reset").on("click",(function(){m.filterAll(),r.redrawAll()}));const w=l.dimension((t=>t.month)),v=l.dimension((t=>t.user)),C=l.dimension((t=>t.device)),x=l.dimension((t=>t.content)),b=l.dimension((t=>t.country)),y=l.dimension((t=>t.hour)),A=l.dimension((t=>{const e=t.date.getDay();return`${this.$days()[e]}`})),k=w.group().reduceSum((t=>t.durationHour)),I=v.group().reduceSum((t=>t.durationHour)),V=C.group().reduceSum((t=>t.durationHour)),B=x.group().reduceSum((t=>t.durationHour)),_=b.group().reduceSum((t=>t.durationHour)),R=y.group().reduceSum((t=>t.durationHour)),P=A.group().reduceSum((t=>t.durationHour)),H=w.bottom(1)[0].date,T=w.top(1)[0].date,S=k.top(1)[0].value+2;let D=i.select("#watch-time-chart"+this.graphId).node().getBoundingClientRect().width,$=150;n.renderArea(!0).width(D).height($).transitionDuration(1e3).margins({top:20,right:50,bottom:25,left:40}).group(k).dimension(w).curve(i.curveMonotoneX).x(i.scaleTime().domain([i.timeHour.offset(H,0),i.timeHour.offset(T,2)])).y(i.scaleLinear().domain([0,S])).ordinalColors([this.colorPalette[1]]).valueAccessor((t=>t.value)).title((t=>e(t.key)+": "+a(t.value)+" hours watched")).xUnits(i.timeHour).brushOn(!1).elasticX(!1).elasticY(!0).xyTipsOn(!0).mouseZoomable(!1).rangeChart(c).renderHorizontalGridLines(!1).renderDataPoints({radius:3,fillOpacity:.8,strokeOpacity:0}).yAxisLabel("Hours watched").clipPadding(10).yAxis().ticks(5),n.xAxis().ticks(5),c.width(D).height(30).margins({top:0,right:50,bottom:20,left:40}).dimension(w).group(k).centerBar(!0).elasticY(!0).gap(1).x(i.scaleTime().domain([i.timeHour.offset(H,0),i.timeHour.offset(T,2)])).round(i.timeDay.round).valueAccessor((t=>t.value)).alwaysUseRounding(!0).xUnits(i.timeDays).ordinalColors(this.colorPalette).yAxis().ticks(0),D=i.select("#user-chart"+this.graphId).node().getBoundingClientRect().width,$=250;const F=Math.min(D,$);d.width(D).height($).slicesCap(10).radius(F/4).innerRadius(F/8).externalLabels(50).dimension(v).group(I).valueAccessor((t=>t.value)).title((t=>t.key+": "+a(t.value)+" hours watched")).drawPaths(!0).minAngleForLabel(.1).ordinalColors(this.colorPalette),d.on("pretransition",(function(t){t.selectAll("text.pie-slice.pie-label").call((function(t){t.each((function(t){const e=i.select(this);let a=e.text();a.length>14&&(a=a.substring(0,14)+".. "),a.length>0&&(a=a+" ("+r.utils.printSingleValue((t.endAngle-t.startAngle)/(2*Math.PI)*100)+"%)"),e.text(a)}))}))})),D=i.select("#country-chart"+this.graphId).node().getBoundingClientRect().width,$=200,h.width(D).height($).margins({top:20,left:10,right:10,bottom:20}).group(_).dimension(b).ordinalColors(this.colorPalette).valueAccessor((t=>t.value)).label((t=>t.key)).data((t=>t.top(10))).title((t=>t.key+": "+a(t.value)+" hours watched")).elasticX(!0).xAxis().ticks(4),D=i.select("#week-chart"+this.graphId).node().getBoundingClientRect().width,$=150,g.width(D).height($).margins({top:20,left:10,right:10,bottom:20}).group(P).dimension(A).valueAccessor((t=>t.value)).ordinalColors(this.colorPalette).label((t=>t.key)).title((t=>a(t.value)+" hours watched")).elasticX(!0).xAxis().ticks(4),g.ordering((t=>this.$days().indexOf(t.key))),m.width(i.select("#hour-chart"+this.graphId).node().getBoundingClientRect().width).height(150).margins({top:20,right:10,bottom:20,left:40}).dimension(y).group(R).valueAccessor((t=>t.value)).centerBar(!1).gap(1).x(i.scaleLinear().domain([0,24])).ordinalColors(this.colorPalette).yAxisLabel("Hours watched").yAxis().ticks(5),m.xAxis().tickFormat((t=>t+":00")).ticks(7),D=i.select("#content-chart"+this.graphId).node().getBoundingClientRect().width,$=420,u.width(D).height($).margins({top:20,left:10,right:10,bottom:20}).group(B).dimension(x).ordinalColors([this.colorPalette[0]]).valueAccessor((t=>t.value)).title((t=>t.key+": "+a(t.value)+" hours watched")).label((t=>t.key)).data((t=>t.top(20))).elasticX(!0).xAxis().ticks(4),D=i.select("#device-chart"+this.graphId).node().getBoundingClientRect().width,$=200,p.width(D).height($).margins({top:20,left:10,right:10,bottom:20}).group(this.removeEmptyBins(V)).dimension(C).ordinalColors([this.colorPalette[2]]).valueAccessor((t=>t.value)).title((t=>e(t.key)+": "+a(t.value)+" hours watched")).label((t=>t.key)).data((t=>t.top(10))).title((t=>t.key+": "+a(t.value)+" hours watched")).elasticX(!0).xAxis().ticks(4),f.crossfilter(l).groupAll(s).html({some:`<strong>%filter-count</strong> ${this.$t("selected-out-of")} <strong>%total-count</strong> ${this.$t(this.k("views"))} | <a class='resetAll'>${this.$t("Reset All")}</a>`,all:`Total: <strong>%total-count</strong> ${this.$t(this.k("views"))}. ${this.$t("click-graph")}`}).on("pretransition",((t,e)=>{this.results=w.top(s.value()),i.select("#dc-data-count"+this.graphId+" a.resetAll").on("click",(()=>{r.filterAll(),r.renderAll()}))})),r.renderAll()}}},p=g,h=(0,a(1001).Z)(p,(function(){var t=this,e=t._self._c;return e("VContainer",[e("ChartViewVRowWebShare",{attrs:{dense:""}},[e("VCol",{attrs:{cols:"8"}},[e("VRow",{attrs:{dense:""}},[e("VCol",{attrs:{cols:"12"}},[e("div",{attrs:{id:"watch-time-chart"+t.graphId}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages["watch-time"])}}),e("ChartViewFilters")],1),e("div",{staticClass:"range-chart",attrs:{id:"range-chart"+t.graphId}},[e("ChartViewTextSelectTimeRange")],1)])],1),e("VRow",{attrs:{dense:""}},[e("VCol",{attrs:{cols:"8"}},[e("div",{attrs:{id:"hour-chart"+t.graphId}},[e("span",{directives:[{name:"t",rawName:"v-t",value:"time-of-day",expression:"'time-of-day'"}],staticClass:"font-weight-bold"}),e("ChartViewFilters")],1)]),e("VCol",{attrs:{cols:"4"}},[e("div",{attrs:{id:"week-chart"+t.graphId}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages.day)}}),e("ChartViewFilters")],1)])],1)],1),e("VCol",{attrs:{cols:"4"}},[e("div",{attrs:{id:"content-chart"+t.graphId}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages["most-watched"])}}),e("ChartViewFilters")],1)])],1),e("ChartViewVRowWebShare",{attrs:{dense:""}},[e("VCol",{attrs:{cols:"4"}},[e("div",{attrs:{id:"user-chart"+t.graphId}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages.Profiles)}}),e("ChartViewFilters")],1)]),e("VCol",{attrs:{cols:"4"}},[e("div",{attrs:{id:"country-chart"+t.graphId}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages.country)}}),e("ChartViewFilters")],1)]),e("VCol",{attrs:{cols:"4"}},[e("div",{attrs:{id:"device-chart"+t.graphId}},[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.messages.device)}}),e("ChartViewFilters")],1)])],1),e("VRow",[e("div",{staticClass:"dc-data-count",attrs:{id:"dc-data-count"+t.graphId}})]),e("UnitFilterableTable",t._b({},"UnitFilterableTable",{headers:t.header,items:t.results},!1))],1)}),[],!1,null,null,null),m=h.exports},38795:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var i=a(14226),r=a(87261),o=a(97888),l=a(9934),n={components:{BaseButton:r.Z,BaseButtonDownloadData:o.Z,BaseButtonShare:l.Z},mixins:[(0,i.Z)()]},u=(0,a(1001).Z)(n,(function(){var t=this,e=t._self._c;return e("VRow",t._b({ref:"domToImageNode"},"VRow",t.$attrs,!1),[t._t("default"),e("VCol",{staticClass:"dom-to-image-exclude webshare d-flex",attrs:{cols:"12"}},[e("div",{staticClass:"webshare__export-button"},[e("BaseButton",t._b({attrs:{icon:"mdiExport",text:"Export"},on:{click:t.exportImage}},"BaseButton",{progress:t.progress,status:t.status,error:t.error},!1))],1),e("div",{staticClass:"webshare__download-button"},[e("BaseButtonDownloadData",t._b({},"BaseButtonDownloadData",{disabled:!t.blob,extension:t.extension,filename:t.filename,data:t.blob},!1))],1),e("div",{staticClass:"webshare__share-button"},[e("BaseButtonShare",t._b({attrs:{"file-share":""}},"BaseButtonShare",{files:t.files,disabled:!t.files},!1))],1)])],2)}),[],!1,null,null,null),g=u.exports},96622:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var r={},o=(0,a(1001).Z)(r,(function(){var t=this,e=t._self._c;return e("p",{staticClass:"filters"},[e("span",[t._v(" "+t._s(t.$t("Current filter"))+" "),e("span",{staticClass:"filter"})]),e("a",{directives:[{name:"t",rawName:"v-t",value:"reset",expression:"'reset'"}],staticClass:"reset",staticStyle:{display:"none"}})])}),[],!1,null,null,null),l=o.exports},49814:function(t,e,a){a.r(e),a.d(e,{default:function(){return o}});var r=(0,a(1001).Z)({},(function(){var t=this,e=t._self._c;return e("p",{staticClass:"muted pull-right text-subtitle-2 mr-4 mb-1"},[e("span",{domProps:{innerHTML:t._s(t.$t("select-time-range"))}}),t._t("default")],2)}),[],!1,null,null,null),o=r.exports}}]);