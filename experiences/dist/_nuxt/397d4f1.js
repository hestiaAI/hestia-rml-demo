(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1264:function(e,t,r){"use strict";r(33);t.a={methods:{vueMeta:function(title){var content="".concat(title," | ").concat(this.$t("app.name"));return{title:title,meta:[{hid:"og:title",property:"og:title",content:content},{hid:"twitter:title",property:"twitter:title",content:content}]}}}}},1467:function(e,t,r){"use strict";r.r(t);var n=r(1250),o=r(1248),c=r(1231),l=r(1358),d=r(1835),m=r(1302),v=r(1834),h=r(1238),f=r(1285),_=r(111),w=r(488),x=(r(6),r(49),r(26)),k=(r(89),r(50),r(376),r(33),"https://serverless.hestia.ai/.netlify/functions/");function C(){return(C=Object(x.a)(regeneratorRuntime.mark((function e(t,r){var n,o,text,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k+"loginDashboard?"+new URLSearchParams({username:t,password:r}),e.next=3,fetch(n);case 3:if(200===(o=e.sent).status){e.next=9;break}return e.next=7,o.text();case 7:throw text=e.sent,new Error("Le serveur à retourner le code d'erreur ".concat(o.status," : ").concat(text));case 9:return e.next=11,o.json();case 11:return c=e.sent,e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y={name:"LoginScreen",data:function(){return{username:null,password:null,loading:!1,error:!1,errorMsg:"",success:!1,successMsg:""}},methods:{login:function(){var e=this;this.success=!1,this.error=!1,this.loading=!0,function(e,t){return C.apply(this,arguments)}(this.username,this.password).then((function(t){e.loading=!1,e.success=!0,e.successMsg="Successfully logged in!",e.$emit("success",t.presignedUrl)})).catch((function(t){e.loading=!1,e.error=!0,e.errorMsg=t}))}}},S=y,A=r(57),component=Object(A.a)(S,(function(){var e=this,t=e._self._c;return t(c.a,{attrs:{fluid:"","fill-height":""}},[t(v.a,{attrs:{"align-center":"","justify-center":"","fill-height":""}},[t(d.a,{attrs:{xs12:"",sm8:"",md4:""}},[t(n.a,{attrs:{flat:"","background-color":"primary"}},[t(_.a,{attrs:{flat:""}},[t(w.a,[e._v("Login")])],1),e._v(" "),t(l.a),e._v(" "),t(o.c,[t(m.a,[t(f.a,{attrs:{"prepend-icon":e.$vuetify.icons.values.mdiAccount,name:"username",label:"Username",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),t(f.a,{attrs:{id:"password","prepend-icon":e.$vuetify.icons.values.mdiLock,name:"password",label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),t(o.a,[e.error?t("span",{staticClass:"caption red--text mr-4"},[e._v(e._s(e.errorMsg))]):e.success?t("span",{staticClass:"caption green--text mr-4"},[e._v(e._s(e.successMsg))]):e._e(),e._v(" "),t(h.a),e._v(" "),t("BaseButton",e._b({attrs:{color:"primary"},on:{click:e.login}},"BaseButton",{error:e.error,success:e.success,progress:e.loading},!1),[e._v("\n            Login\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{BaseButton:r(667).default})},1578:function(e,t,r){var content=r(1837);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("750399af",content,!0,{sourceMap:!1})},1836:function(e,t,r){"use strict";r(1578)},1837:function(e,t,r){var n=r(30)((function(i){return i[1]}));n.push([e.i,".content-wrapper[data-v-528fcdd3] h1{font-weight:bolder;line-height:1.1;margin-bottom:1em;margin-top:1em;text-transform:uppercase;word-break:normal}@media screen and (min-width:601px){.content-wrapper[data-v-528fcdd3] h1{font-size:6rem}}@media screen and (max-width:600px){.content-wrapper[data-v-528fcdd3] h1{font-size:3rem}}.content-wrapper[data-v-528fcdd3] h2{font-size:2.5rem;font-size:2rem;font-weight:bolder;text-transform:uppercase}.border-bottom[data-v-528fcdd3]{border-bottom:3px solid #fff}.wrapper[data-v-528fcdd3]{background-color:var(--v-primary-base)!important;border-bottom:1pt solid #fff;color:#fff;font-size:1.5em;height:100%;padding-bottom:6rem;word-break:break-word}",""]),n.locals={},e.exports=n},1867:function(e,t,r){"use strict";r.r(t);var n=r(1876),o=r(1231),c=r(1238),l=r(26),d=(r(89),r(13),r(6),r(63),r(82),r(487),r(295)),m=r(1264),v={components:{LoginScreen:r(1467).default},mixins:[m.a],data:function(){return{data:null,showLogin:!0,paymentData:null,statusSelected:["P1","P2","P3"]}},computed:{timeGraphs:function(){return[{title:"Temps de connexion",valueLabel:"Heures",cols:"12",chart:"StackTimelineChart",typeAccessor:"status",dateAccessor:"begin",valueAccessor:"duration"}]},kilometersGraphs:function(){return[{title:"Kilomètres parcourus",valueLabel:"Km",cols:"12",chart:"StackTimelineChart",typeAccessor:"status",dateAccessor:"begin",valueAccessor:"distance"}]},paymentsGraphs:function(){return[{title:"Vos revenus totaux",valueLabel:"EUR",cols:"12",chart:"TimelineChart",dateAccessor:"begin",valueAccessor:"income"},{title:"Vos revenus par heure",valueLabel:"EUR / Heure",cols:"6",chart:"StackTimelineChart",typeAccessor:"status",dateAccessor:"begin",valueAccessor:"per_hour",valueAggregate:"avg"},{title:"Vos revenus par kilomètre",valueLabel:"EUR / Km",cols:"6",chart:"StackTimelineChart",typeAccessor:"status",dateAccessor:"begin",valueAccessor:"per_km",valueAggregate:"avg"}]},tripsGraphs:function(){return[{title:"Vos courses",valueLabel:"courses",cols:"12",chart:"TimelineChart",dateAccessor:"begin"},{valueLabel:"courses",cols:"6",chart:"WeekChart",dateAccessor:"begin"},{valueLabel:"courses",cols:"6",chart:"HourChart",dateAccessor:"begin"}]},tripsData:function(){return this.data.filter((function(e){return"P3"===e.status}))},timeData:function(){var e=this;return this.data.filter((function(t){return e.statusSelected.includes(t.status)}))}},methods:{fetchData:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.showLogin=!1,r.next=3,d.b(",",e,(function(data){var e=new Date(data.begin),t=new Date(data.end),r=+(+data.uber_paid).toFixed(2),n=+(+Math.abs(t.getTime()-e.getTime())/36e5).toFixed(2),o=+(+data.distance_km).toFixed(2),c=+(r/n).toFixed(2),l=+(r/o).toFixed(2);return{begin:e,end:t,duration:n,distance:o,income:r,per_hour:c<1/0?c:0,per_km:l<1/0?l:0,status:data.status}}));case 3:t.data=r.sent;case 4:case"end":return r.stop()}}),r)})))()}}},h=(r(1836),r(57)),component=Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper",attrs:{"fill-height":""}},[e.showLogin?t(o.a,{staticClass:"content-wrapper",attrs:{"fill-height":""}},[t("LoginScreen",{on:{success:e.fetchData}})],1):t(o.a,{staticClass:"content-wrapper"},[t("section",{attrs:{id:"header"}},[t("h1",[e._v("\n        Combien vous "),t("br"),e._v("rapporte Uber\n      ")]),e._v(" "),t("h2",{staticClass:"border-bottom mb-3"},[e._v("\n        Tableau de bord\n      ")]),e._v(" "),t("p",[e._v("\n        Tout sur votre activité Uber : le nombre de courses que vous faites par jour, vos kilomètres parcourus et temps de travail, en course (P3), en approche (P2) et en disponibilité (P1), le jour, la nuit, le week-end, et l'évolution de vos revenus : "),t("br"),e._v(" "),t("strong",[e._v("Combien gagnez vous par kilomètre ? Combien gagnez-vous par heure ?")]),t("br"),e._v(" "),t("strong",[e._v("Comparez vos gains à ceux des autres chauffeurs.")])])]),e._v(" "),t("section",{staticClass:"mt-6",attrs:{id:"when"}},[t("h3",{staticClass:"mb-3"},[e._v("\n        Vos courses\n      ")]),e._v(" "),e.data?t("Dashboard",e._b({},"Dashboard",{graphs:e.tripsGraphs,values:e.tripsData},!1)):e._e()],1),e._v(" "),t("section",{staticClass:"mt-6",attrs:{id:"income"}},[t("h3",{staticClass:"mb-3"},[e._v("\n        Vos Revenus\n      ")]),e._v(" "),e.data?t("Dashboard",e._b({},"Dashboard",{graphs:e.paymentsGraphs,values:e.data},!1)):e._e()],1),e._v(" "),t("section",{staticClass:"mt-6",attrs:{id:"time"}},[t("h3",{staticClass:"mb-3 d-flex"},[e._v("\n        Temps de connexion\n        "),t(c.a),e._v(" "),t("div",{staticClass:"d-flex"},[t(n.a,{staticClass:"ml-3",attrs:{label:"P1",value:"P1",dark:""},model:{value:e.statusSelected,callback:function(t){e.statusSelected=t},expression:"statusSelected"}}),e._v(" "),t(n.a,{staticClass:"ml-3",attrs:{label:"P2",value:"P2",dark:""},model:{value:e.statusSelected,callback:function(t){e.statusSelected=t},expression:"statusSelected"}}),e._v(" "),t(n.a,{staticClass:"ml-3",attrs:{label:"P3",value:"P3",dark:""},model:{value:e.statusSelected,callback:function(t){e.statusSelected=t},expression:"statusSelected"}})],1)],1),e._v(" "),e.data?t("Dashboard",e._b({},"Dashboard",{graphs:e.timeGraphs,values:e.timeData},!1)):e._e()],1),e._v(" "),t("section",{staticClass:"mt-6",attrs:{id:"km"}},[t("h3",{staticClass:"mb-3"},[e._v("\n        Kilomètres parcourus\n      ")]),e._v(" "),e.data?t("Dashboard",e._b({},"Dashboard",{graphs:e.kilometersGraphs,values:e.tripsData},!1)):e._e()],1)])],1)}),[],!1,null,"528fcdd3",null);t.default=component.exports;installComponents(component,{LoginScreen:r(1467).default})}}]);