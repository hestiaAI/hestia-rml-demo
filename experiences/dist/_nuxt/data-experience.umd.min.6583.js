"use strict";(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[6583,8736,6622,1297,9201],{96583:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var i=a(46228),r=a(40290),n=a(26641),l=a(21297),o=a(59201),u=a(18736),c=a(96622),d=a(96963);r.config.defaultColors(i.xHP);var p={components:{ChartViewVRowWebShare:u.default,ChartViewFilters:c.default,UnitFilterableTable:d.Z},mixins:[l.default],props:{},data:()=>({header:[{text:"Application",value:"app"},{text:"Resource",value:"category"},{text:"Identifier",value:"identifier"},{text:"Timestamp",value:"timestamp"}],results:[],colorPalette:["#58539E","#847CEB","#605BAB","#4A4685","#9498F2"]}),methods:{resetAll(){r.filterAll(),r.renderAll()},decodeDefault:t=>t?decodeURIComponent(escape(t)):"Unknown",createTopRowChart(t,e,a){const n=new r.RowChart(`#${e}-chart-${this.graphId}`),s=this.createTextFilterWidget(`#${e}-search-${this.graphId}`);i.Ys(`#${e}-chart-${this.graphId} a.reset`).on("click",(function(){n.filterAll(),s.filterAll(),r.redrawAll()}));const l=t.dimension((t=>t[e]));s.dimension(t.dimension((t=>t[e].toLowerCase())));const c=l.group().reduceSum((t=>a?t[a]:1)),u=i.Ys(`#${e}-chart-${this.graphId}`).node().getBoundingClientRect().width;n.width(u).height(400).margins({top:20,left:10,right:10,bottom:20}).group((0,o.removeEmptyBins)(c)).dimension(l).ordinalColors(this.colorPalette).label((t=>t.key)).data((t=>t.top(20))).title((t=>t.value)).elasticX(!0).xAxis().ticks(4)},createPieChart(t,e,a){const n=new r.PieChart(`#${e}-chart-${this.graphId}`);i.Ys(`#${e}-chart-${this.graphId} a.reset`).on("click",(function(){n.filterAll(),r.redrawAll()}));const s=t.dimension((t=>t[e])),l=s.group().reduceSum((t=>a?t[a]:1)),o=i.Ys(`#${e}-chart-${this.graphId}`).node().getBoundingClientRect().width;n.width(o).height(400).radius(o/2.5).innerRadius(o/8).dimension(s).group(l).valueAccessor((t=>t.value)).title((t=>t.key+": "+t.value+" records")).ordinalColors(this.colorPalette),n.on("pretransition",(function(t){t.selectAll("text.pie-slice.pie-label").call((function(t){t.each((function(t){const e=i.Ys(this);let a=e.text();a.length>14&&(a=a.substring(0,14)+".. "),a.length>0&&(a=a+" ("+r.utils.printSingleValue((t.endAngle-t.startAngle)/(2*Math.PI)*100)+"%)"),e.text(a)}))}))}))},drawViz(){this.results=this.values.map((t=>({app:this.decodeDefault(t.app),category:this.decodeDefault(t.category),identifier:this.decodeDefault(t.identifier),timestamp:this.decodeDefault(t.timestamp)})));const t=(0,n.Z)(this.results);this.createTopRowChart(t,"app"),this.createPieChart(t,"category");const e=t.groupAll(),a=t.dimension((t=>t));new r.DataCount(`#dc-data-count-${this.graphId}`).crossfilter(t).groupAll(e).html({some:`<strong>%filter-count</strong> ${this.$t("selected-out-of")} <strong>%total-count</strong>  | <a class='resetAll'>${this.$t("Reset All")}</a>`,all:`Total: <strong>%total-count</strong>. ${this.$t("click-graph")}`}).on("pretransition",((t,n)=>{this.results=a.top(e.value()),i.Ys(`#dc-data-count-${this.graphId} a.resetAll`).on("click",(()=>{r.filterAll(),r.renderAll()}))})),r.renderAll()}}},h=p,f=(0,a(1001).Z)(h,(function(){var t=this,e=t._self._c;return e("VContainer",[e("ChartViewVRowWebShare",[e("VCol",{attrs:{cols:"12"}},[e("VRow",[e("VCol",{attrs:{cols:"12",md:"6"}},[e("div",{attrs:{id:`app-chart-${t.graphId}`}},[e("div",{staticStyle:{display:"flex"}},[e("VTooltip",{attrs:{left:"","max-width":"200"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:r}){return[e("strong",t._g(t._b({},"strong",r,!1),a),[t._v("Application")])]}}])},[e("span",[t._v(t._s(t.$t("chart-view.ios-access.app-info")))])]),e("VSpacer"),e("div",{attrs:{id:`app-search-${t.graphId}`}})],1),e("ChartViewFilters")],1)]),e("VCol",{attrs:{cols:"12",md:"6"}},[e("div",{attrs:{id:`category-chart-${t.graphId}`}},[e("div",{staticStyle:{display:"flex"}},[e("VTooltip",{attrs:{left:"","max-width":"200"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:r}){return[e("strong",t._g(t._b({},"strong",r,!1),a),[t._v("Resource")])]}}])},[e("span",[t._v(t._s(t.$t("chart-view.ios-access.resource-info")))])])],1),e("ChartViewFilters")],1)])],1)],1)],1),e("VRow",[e("div",{staticClass:"dc-data-count",attrs:{id:`dc-data-count-${t.graphId}`}})]),e("VRow",[e("VCol",{attrs:{cols:"12"}},[e("UnitFilterableTable",t._b({},"UnitFilterableTable",{headers:t.header,items:t.results},!1))],1)],1)],1)}),[],!1,null,null,null),m=f.exports},18736:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var i=a(12555),r=a(4031),n=a(97888),l=a(9934),u={components:{BaseButton:r.Z,BaseButtonDownloadData:n.Z,BaseButtonShare:l.Z},mixins:[(0,i.Z)()]},o=(0,a(1001).Z)(u,(function(){var t=this,e=t._self._c;return e("VRow",t._b({ref:"domToImageNode"},"VRow",t.$attrs,!1),[t._t("default"),e("VCol",{staticClass:"dom-to-image-exclude",attrs:{cols:"12"}},[e("BaseButton",t._b({attrs:{icon:"mdiExport",text:"Export"},on:{click:t.exportImage}},"BaseButton",{progress:t.progress,status:t.status,error:t.error},!1)),e("BaseButtonDownloadData",t._b({},"BaseButtonDownloadData",{disabled:!t.blob,extension:t.extension,filename:t.filename,data:t.blob},!1)),e("BaseButtonShare",t._b({attrs:{"file-share":""}},"BaseButtonShare",{files:t.files,disabled:!t.files},!1))],1)],2)}),[],!1,null,null,null),p=o.exports},96622:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var r={},n=(0,a(1001).Z)(r,(function(){var t=this,e=t._self._c;return e("p",{staticClass:"filters"},[e("span",[t._v(" "+t._s(t.$t("Current filter"))+" "),e("span",{staticClass:"filter"})]),e("a",{directives:[{name:"t",rawName:"v-t",value:"reset",expression:"'reset'"}],staticClass:"reset",staticStyle:{display:"none"}})])}),[],!1,null,null,null),l=n.exports},21297:function(t,e,a){a.r(e);var r=a(40290),s=a(18651),i=a(659);const n={props:{values:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},messages:{type:Object,default:()=>({})}},data(){return{graphId:"graph_"+this.$store.state.xp.currentTab,totalCount:0,filterCount:0}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{drawViz(){},createTextFilterWidget(t,e="Search"){const a=new r.TextFilterWidget(t);return a.placeHolder(this.$tev(e,e)),a}}};e.default=(0,s.Z)(n,i.Z)},59201:function(t,e,a){a.r(e),a.d(e,{addPiePercentage:function(){return c},addXLabel:function(){return i},addYLabel:function(){return n},createCumulativeGroup:function(){return l},removeEmptyBins:function(){return o}});var r=a(46228),s=a(40290);function i(t,e){const a=t.svg().append("text").attr("class","x-axis-label").attr("text-anchor","middle").attr("x",t.width()/2).attr("y",t.height()-10).text(e),r=a.node().getBBox(),s=t.margins();a.attr("x",s.left+(t.width()-s.left-s.right)/2).attr("y",t.height()-Math.ceil(r.height)/2)}function n(t,e){const a=t.svg().append("text").attr("class","y-axis-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-t.height()/2).attr("y",10).text(e),r=a.node().getBBox(),s=t.margins();a.attr("x",-s.top-(t.height()-s.top-s.bottom)/2).attr("y",Math.max(Math.ceil(r.height),s.left-Math.ceil(r.height)-5))}function l(t){return{all(){const e={};return t.all().map((function(t){return e[t.key[0]]?e[t.key[0]]+=t.value:e[t.key[0]]=t.value,{key:t.key,value:e[t.key[0]]}}))}}}function o(t){return{top:e=>t.top(1/0).filter((function(t){return 0!==t.value.count&&0!==t.value})).slice(0,e)}}function c(t){t.selectAll("text.pie-slice.pie-label").call((function(t){t.each((function(t){const e=r.Ys(this);let a=e.text();a.length>14&&(a=a.substring(0,14)+".. "),a.length>0&&(a=a+" ("+s.utils.printSingleValue((t.endAngle-t.startAngle)/(2*Math.PI)*100)+"%)"),e.text(a)}))}))}}}]);