"use strict";(("undefined"!=typeof self?self:this).webpackChunkDataExperience=("undefined"!=typeof self?self:this).webpackChunkDataExperience||[]).push([[9592],{29592:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var r=a(60194),i={mixins:[a(74097).default],props:{groupsAccessor:{type:String,required:!0},valuesAccessor:{type:Array,required:!0},title:{type:String,default:""},margin:{type:Number,default:5},adjVertical:{type:Array,default:()=>[20,50]},adjHorizontal:{type:Array,default:()=>[150,150]},xLabel:{type:String,default:"Sexual Orientation"},yLabel:{type:String,default:"Number of action per day and user"},formatNumber:{type:String,default:".2f"},colorPalette:{type:Array,default:()=>["#69B3A2","#C23636","#67A4BF"]}},data:()=>({}),computed:{validProps(){let t=!0;return this.values.length?(Object.keys(this.values[0]).includes(this.groupsAccessor)||(console.error("Group Accessor not found:",this.groupsAccessor),t=!1),this.valuesAccessor.forEach((e=>{Object.keys(this.values[0]).includes(e)||(console.error("X Accessor not found:",e),t=!1)})),t):(console.error("Values is empty"),!1)}},methods:{drawViz(){try{const t=500,e=380,a=r.format(this.formatNumber);r.select("#"+this.graphId+" svg").remove(),this.svg=r.select("#"+this.graphId).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.adjHorizontal[0]+" -"+this.adjVertical[0]+" "+(t+r.sum(this.adjHorizontal))+" "+(e+r.sum(this.adjVertical))).style("margin",this.margin).classed("svg-content",!0);const s=[...new Set(this.values.map((t=>t[this.groupsAccessor])))],l=r.scaleBand().domain(s).range([0,t]).padding([.2]);this.svg.append("g").attr("class","xAxis").attr("transform","translate(0,"+e+")").call(r.axisBottom(l).tickSize(0)).append("text").attr("y",30).attr("x",t/2).style("text-anchor","middle").text(this.xLabel);const n=r.max(this.values,(t=>Math.max(...this.valuesAccessor.map((e=>t[e]))))),i=r.scaleLinear().domain([0,n]).range([e,0]);this.svg.append("g").attr("class","yAxis").call(r.axisLeft(i)).append("text").attr("dy",".75em").attr("y",-50).attr("x",-e/2).attr("transform","rotate(-90)").style("text-anchor","middle").text(this.yLabel);const o=r.scaleBand().domain(this.valuesAccessor).range([0,l.bandwidth()]).padding([.05]),c=r.scaleOrdinal().domain(this.valuesAccessor).range(this.colorPalette);this.svg.append("g").selectAll("g").data(this.values).enter().append("g").attr("transform",(t=>"translate("+l(t[this.groupsAccessor])+",0)")).selectAll("rect").data((t=>this.valuesAccessor.map((function(e){return{key:e,value:t[e]}})))).enter().append("rect").attr("x",(t=>o(t.key))).attr("y",(function(t){return i(t.value)})).attr("width",o.bandwidth()).attr("height",(t=>e-i(t.value))).attr("fill",(t=>c(t.key))).on("mouseover",(function(t,e){r.select(this).style("opacity",.7),r.select(this.parentNode).append("text").attr("class","barsLabel").text(a(e.value)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("x",o(e.key)+o.bandwidth()/2).attr("y",i(e.value)-10).style("font-size","0.8rem").style("font-weight","bold").style("fill","#0A0A0A")})).on("mouseleave",(function(t,e){r.select(this).style("opacity",1),r.select(".barsLabel").remove()}));const d=10,u=t-20,p=0;this.svg.selectAll("legendSquare").data(this.valuesAccessor).enter().append("rect").attr("x",u).attr("y",(function(t,e){return p+e*(d+5)})).attr("width",d).attr("height",d).style("fill",(function(t){return c(t)})),this.svg.selectAll("legendLabels").data(this.valuesAccessor).enter().append("text").attr("x",u+1.2*d).attr("y",(function(t,e){return p+e*(d+5)+d/2})).style("fill",(function(t){return c(t)})).text((function(t){return t})).attr("text-anchor","left").style("alignment-baseline","middle")}catch(t){console.error(t)}}}},l=i,n=(0,a(1001).Z)(l,(function(){var t=this,e=t._self._c;return t.validProps?e("VContainer",[e("p",{staticClass:"overline font-weight-bold text-subtitle-1 text-center"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticStyle:{position:"relative"},attrs:{id:t.graphId}})]):t._e()}),[],!1,null,"748eb1d0",null),u=n.exports}}]);