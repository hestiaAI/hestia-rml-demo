"use strict";(("undefined"!=typeof self?self:this).webpackChunkDataExperience=("undefined"!=typeof self?self:this).webpackChunkDataExperience||[]).push([[3800,7473,6622,9814,5225],{43800:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var r=a(60194),s=a(40290),n=a(27473),l=a(49814),u=a(96622),o=a(85225);s.config.defaultColors(r.schemePaired);var c={components:{ChartViewTextSelectTimeRange:l.default,ChartViewFilters:u.default},mixins:[n.default],props:{dateAccessor:{type:String,required:!0},dateFormat:{type:String,default:""},valueAccessor:{type:String,default:""},defaultValue:{type:Number,default:0},cumulativeGroup:{type:Boolean,default:!1}},data(){const t={day:{name:"day",accessor:t=>r.timeDay(this.dateParser(t)),xUnits:r.timeDays,round:r.timeDay.round},month:{name:"month",accessor:t=>r.timeMonth(this.dateParser(t)),xUnits:r.timeMonths,round:r.timeMonth.round},year:{name:"year",accessor:t=>r.timeYear(this.dateParser(t)),xUnits:r.timeYears,round:r.timeYear.round}};return{timeUnits:t,timeUnit:t.day,dateFormatter:r.timeFormat("%B %d, %Y")}},computed:{dateParser(){return this.dateFormat?r.timeParse(this.dateFormat):t=>new Date(t)}},methods:{drawViz(){const t=new s.LineChart(`#area-chart-${this.graphId}`),e=new s.BarChart(`#range-chart-${this.graphId}`);r.select(`#area-chart-${this.graphId} a.reset`).on("click",(function(){t.filterAll(),e.filterAll(),s.redrawAll()}));const a=r.extent(this.ndx.all(),(t=>this.dateParser(t[this.dateAccessor])));a[0]=r.timeDay.offset(a[0],-1),a[1]=r.timeDay.offset(a[1],1);const n=r.timeMonth.count(...a);this.timeUnit=n>10?n>120?this.timeUnits.year:this.timeUnits.month:this.timeUnits.day;const i=this.ndx.dimension((t=>this.timeUnit.accessor(t[this.dateAccessor]))),l=this.valueAccessor?i.group().reduceSum((t=>t[this.valueAccessor])):i.group().reduceCount(),c=r.select(`#area-chart-${this.graphId}`).node().getBoundingClientRect().width;t.margins({top:20,left:40,right:20,bottom:20}).width(c).transitionDuration(1e3).turnOnControls(!1).curve(r.curveMonotoneX).xyTipsOn(!0).height(.8*(this.height-30)).brushOn(!1).renderArea(!0).dimension(i).group(this.cumulativeGroup?(0,o.createCumulativeGroup)(l):l).x(r.scaleTime().domain(a)).elasticY(!0).rangeChart(e).renderDataPoints({radius:3,fillOpacity:.8,strokeOpacity:0}).round(this.timeUnit.round).xUnits(this.timeUnit.xUnits).title((t=>`${this.dateFormatter(t.key)} : ${t.value} ${this.valueLabel}`)).clipPadding(10).yAxisLabel(`Total ${this.valueLabel}`).ordinalColors(this.colorPalette),t.xAxis().ticks(10),t.yAxis().ticks(6),t.filterAll(),e.width(c).height(.2*(this.height-30)).margins({top:0,right:10,bottom:20,left:40}).dimension(i).group(l).centerBar(!0).gap(1).x(r.scaleTime().domain(a)).valueAccessor((t=>t.value)).label((t=>t.key)).round(this.timeUnit.round).alwaysUseRounding(!0).xUnits(this.timeUnit.xUnits).ordinalColors(this.colorPalette).yAxis().ticks(0),s.renderAll()}}},d=c,p=(0,a(1001).Z)(d,(function(){var t=this,e=t._self._c;return e("VContainer",[e("div",{attrs:{id:`area-chart-${t.graphId}`}},[e("strong",[t._v(t._s(t.title))]),t.cumulativeGroup?[e("strong",{directives:[{name:"t",rawName:"v-t",value:"in total",expression:"'in total'"}],staticClass:"ml-1"})]:[e("strong",{directives:[{name:"t",rawName:"v-t",value:"per",expression:"'per'"}],staticClass:"ml-1"}),e("strong",{directives:[{name:"t",rawName:"v-t",value:t.timeUnit.name,expression:"timeUnit.name"}],staticClass:"ml-1"})],e("ChartViewFilters")],2),e("div",{staticClass:"range-chart",attrs:{id:`range-chart-${t.graphId}`}},[e("ChartViewTextSelectTimeRange")],1)])}),[],!1,null,null,null),h=p.exports},96622:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var s={},r=(0,a(1001).Z)(s,(function(){var t=this,e=t._self._c;return e("p",{staticClass:"filters"},[e("span",[t._v(" "+t._s(t.$t("Current filter"))+" "),e("span",{staticClass:"filter"})]),e("a",{directives:[{name:"t",rawName:"v-t",value:"reset",expression:"'reset'"}],staticClass:"reset",staticStyle:{display:"none"}})])}),[],!1,null,null,null),u=r.exports},49814:function(t,e,a){a.r(e),a.d(e,{default:function(){return n}});var r=(0,a(1001).Z)({},(function(){var t=this,e=t._self._c;return e("p",{staticClass:"muted pull-right text-subtitle-2 mr-4 mb-1"},[e("span",{domProps:{innerHTML:t._s(t.$t("select-time-range"))}}),t._t("default")],2)}),[],!1,null,null,null),n=r.exports},27473:function(t,e,a){a.r(e);var r=a(40290);e.default={props:{ndx:{type:Object,required:!0},title:{type:String,default:""},valueLabel:{type:String,default:"records"},height:{type:Number,default:250},position:{type:Number,required:!0},colorPalette:{type:Array,default:()=>["#bebada","#8dd3c7","#fb8072","#80b1d3","#fdb462","#b3de69","#bc80bd","#ccebc5"]}},data(){return{graphId:"graph_"+this._uid}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{createTextFilterWidget(t,e="Search"){const a=new r.TextFilterWidget(t);return a.placeHolder(this.$t(e)),a}}}},85225:function(t,e,a){a.r(e),a.d(e,{addPiePercentage:function(){return u},addXLabel:function(){return n},addYLabel:function(){return s},createCumulativeGroup:function(){return l},removeEmptyBins:function(){return o}});var r=a(60194),i=a(40290);function n(t,e){const a=t.svg().append("text").attr("class","x-axis-label").attr("text-anchor","middle").attr("x",t.width()/2).attr("y",t.height()-10).text(e),r=a.node().getBBox(),i=t.margins();a.attr("x",i.left+(t.width()-i.left-i.right)/2).attr("y",t.height()-Math.ceil(r.height)/2)}function s(t,e){const a=t.svg().append("text").attr("class","y-axis-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-t.height()/2).attr("y",10).text(e),r=a.node().getBBox(),i=t.margins();a.attr("x",-i.top-(t.height()-i.top-i.bottom)/2).attr("y",Math.max(Math.ceil(r.height),i.left-Math.ceil(r.height)-5))}function l(t){return{all(){const e={};return t.all().map((function(t){return e[t.key[0]]?e[t.key[0]]+=t.value:e[t.key[0]]=t.value,{key:t.key,value:e[t.key[0]]}}))}}}function o(t){return{top:e=>t.top(1/0).filter((function(t){return 0!==t.value.count&&0!==t.value})).slice(0,e)}}function u(t){t.selectAll("text.pie-slice.pie-label").call((function(t){t.each((function(t){const e=r.select(this);let a=e.text();a.length>14&&(a=a.substring(0,14)+".. "),a.length>0&&(a=a+" ("+i.utils.printSingleValue((t.endAngle-t.startAngle)/(2*Math.PI)*100)+"%)"),e.text(a)}))}))}}}]);