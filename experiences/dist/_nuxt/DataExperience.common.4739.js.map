{"version":3,"file":"DataExperience.common.4739.js","mappings":";;;;;;;;;;;;;;;AAAA,+BAA+B,6BAA6B,iBAAiB,wBAAwB,8BAA8B,kDAAkD,kDAAkD,kBAAkB,oCAAoC,UAAU,cAAc,OAAO,2BAA2B,kBAAkB,OAAO,eAAe,mCAAmC,iCAAiC,gEAAgE,qDAAqD,yEAAyE,sBAAsB,8DAA8D,aAAa,OAAO,YAAY,aAAa,OAAO,0CAA0C,KAAK,yBAAyB,oBAAoB,2DAA2D,OAAO,aAAa,oCAAoC,yBAAyB,yCAAyC,4BAA4B,sBAAsB,gKAAgK,sBAAsB,6KAA6K,OAAO,0CAA0C,QAAQ,4CAA4C,eAAe,sBAAsB,YAAY,0BAA0B,YAAY,sBAAsB,gDAAgD,IAAI,yBAAyB,qBAAqB,uIAAuI,sBAAsB,mDAAmD,qBAAqB,yBAAyB,OAAO,eAAe,QAAQ,oDAAoD,qCAAqC,8BAA8B,yBAAyB,OAAO,aAAa,QAAQ,kDAAkD,mCAAmC,4BAA4B,gHAAgH,sBAAsB,mGAAmG,OAAO,sGAAsG,+CAA+C,OAAO,4GAA4G,wEAAwE,OAAO,yEAAyE,QAAQ,iDAAiD,kCAAkC,2BAA2B,kGAAkG,sBAAsB,qGAAqG,OAAO,4LAA4L,mEAAmE,OAAO,mEAAmE,QAAQ,+CAA+C,gCAAgC,yBAAyB,qGAAqG,sBAAsB,mGAAmG,OAAO,qDAAqD,6BAA6B,oBAAoB,QAAQ,kDAAkD,mCAAmC,4BAA4B,+GAA+G,sBAAsB,wJAAwJ,OAAO,YAAY,aAAa,OAAO,YAAY,sDAAsD,OAAO,YAAY,mBAAmB,OAAO,yCAAyC,QAAQ,wDAAwD,yCAAyC,kCAAkC,iBAAiB,OAAO,YAAY,mBAAmB,OAAO,2CAA2C,QAAQ,0DAA0D,2CAA2C,oCAAoC,qBAAqB,OAAO,YAAY,aAAa,OAAO,YAAY,sDAAsD,OAAO,YAAY,mBAAmB,OAAO,yCAAyC,QAAQ,wDAAwD,yCAAyC,kCAAkC,iBAAiB,OAAO,YAAY,mBAAmB,OAAO,2CAA2C,QAAQ,0DAA0D,2CAA2C,oCAAoC;AAC7jL;AACA;;;;;;;;ACFA,IAAI,oDAAM,qBAAqB,6BAA6B,mBAAmB,kBAAkB,oHAAoH,sBAAsB,8BAA8B,WAAW,EAAE,uCAAuC,OAAO,mDAAmD,QAAQ,mDAAmD,sBAAsB,6BAA6B,eAAe,wCAAwC,eAAe,UAAU,0CAA0C,aAAa,oBAAoB,oBAAoB,OAAO,cAAc,KAAK,wBAAwB,QAAQ,0CAA0C,aAAa,oBAAoB;AACzxB;AACA,IAAI,6DAAe;;;;;;;ACyBK;AACxB,6EAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAa;AAC1C,uBAAuB,cAAa;AACpC,sBAAsB,aAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;ACvE8I,CAAC,kFAAe,wCAAG,EAAC;;;;ACApE;AAC3B;AACL;;;AAG/D;AACA,CAAsG;AACtG,gBAAgB,sCAAU;AAC1B,EAAE,6CAAM;AACR,EAAE,oDAAM;AACR,EAAE,6DAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAe;;;;;;;ACgJY;AACiE;AACvB;AAC7C;AACY;AACK;AACzC,0FAAe;AACf,mCAAmC,sDAAkB;AACrD,WAAW,gBAAK;AAChB;AACA;AACA,uBAAuB,aAAY;AACnC,uBAAuB,UAAS;AAChC;AACA;AACA;AACA,uBAAuB,UAAS;AAChC;AACA,cAAc,cAAa;AAC3B,eAAe,cAAa;AAC5B,cAAc,cAAa;AAC3B,aAAa,cAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kCAAI;AACzB;AACA,kBAAkB,aAAY;AAC9B;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAM;AACxB,sBAAsB,OAAM;AAC5B,mBAAmB,OAAM;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAK;AACtB;AACA;AACA;AACA;AACA,iBAAiB,gBAAK;AACtB;AACA;AACA;AACA;AACA,iBAAiB,gBAAK;AACtB;AACA;AACA;AACA;AACA,iBAAiB,gBAAK;AACtB;AACA;AACA;AACA;AACA,iBAAiB,gBAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,oBAAS;AACtB;AACA;AACA;AACA;AACA,CAAC;;;AClT8J,CAAC,+FAAe,qDAAG,EAAC;;ACAvE;AAC3B;AACL;;;AAG5E;AACA,CAAyG;AACzG,IAAI,uCAAS,GAAG,sCAAU;AAC1B,EAAE,0DAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,kEAAe,uCAAS","sources":["webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewUberDriverAccounting.vue?0a4a","webpack://@hestia.ai/data-experience/./src/components/base/BaseDateSelector.vue?cce3","webpack://@hestia.ai/data-experience/src/components/base/BaseDateSelector.vue","webpack://@hestia.ai/data-experience/./src/components/base/BaseDateSelector.vue?f062","webpack://@hestia.ai/data-experience/./src/components/base/BaseDateSelector.vue","webpack://@hestia.ai/data-experience/src/components/chart/view/ChartViewUberDriverAccounting.vue","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewUberDriverAccounting.vue?d039","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewUberDriverAccounting.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ma-0 pa-0\"},[_c('VContainer',[_c('VRow',{staticClass:\"d-flex align-stretch justify-center\"},[_vm._l((_vm.overviews),function(overview,index){return _c('VCol',{key:index,staticClass:\"pa-0\",attrs:{\"cols\":2}},[_c('VCard',{attrs:{\"height\":\"100%\",\"flat\":\"\"}},[_c('VListItem',{attrs:{\"two-line\":\"\"}},[_c('VListItemContent',[_c('div',{staticClass:\"text-overline mb-1\"},[_vm._v(\" \"+_vm._s(overview.title)+\" \")]),_c('VListItemTitle',{staticClass:\"text-h4 text--primary font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.numberFormatter(overview.value))+\" \"),_c('span',{staticClass:\"caption\"},[_vm._v(\" \"+_vm._s(overview.suffix)+\" \")])])],1)],1)],1)],1)}),_c('VCol',{attrs:{\"cols\":\"2\"}},[_c('VBtn',{attrs:{\"color\":\"primary\",\"outlined\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.drawer = true}}},[_vm._v(\" More Options \")])],1)],2),_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\"}},[_c('UnitFilterableTable',_vm._b({},'UnitFilterableTable',{ headers: _vm.header, items: _vm.results },false))],1)],1),_c('span',{staticClass:\"caption\"},[_vm._v(\"* Km Cost to be covered: This value is computed with the following formula: \"),_c('strong',[_vm._v(\"Km * Cost per kilometre\")])]),_c('br'),_c('span',{staticClass:\"caption\"},[_vm._v(\"** Theoritical wage: This value is computed with the following formula: \"),_c('strong',[_vm._v(\"Time * Multiplying factor * Wage\")])])],1),_c('VNavigationDrawer',{attrs:{\"fixed\":\"\",\"width\":\"280px\",\"temporary\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('div',{staticClass:\"d-flex ma-3\"},[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Options\")]),_c('VSpacer'),_c('VIcon',{on:{\"click\":function($event){_vm.drawer = false}}},[_vm._v(\"$vuetify.icons.mdiClose\")])],1),_c('VListItem',[_c('VListItemContent',[_c('VListItemTitle',[_vm._v(\"Date range\")]),_c('div',{staticClass:\"caption\"},[_vm._v(\"The date range to include.\")]),_c('div',{staticClass:\"d-flex\"},[_c('BaseDateSelector',{attrs:{\"label\":\"From\"},model:{value:(_vm.form.startDate),callback:function ($$v) {_vm.$set(_vm.form, \"startDate\", $$v)},expression:\"form.startDate\"}}),_c('BaseDateSelector',{attrs:{\"label\":\"To\"},model:{value:(_vm.form.endDate),callback:function ($$v) {_vm.$set(_vm.form, \"endDate\", $$v)},expression:\"form.endDate\"}})],1)],1)],1),_c('VListItem',[_c('VListItemContent',[_c('VListItemTitle',[_vm._v(\"Kilometric cost\")]),_c('div',{staticClass:\"caption\"},[_vm._v(\" The average cost per kilometre is at 0.70CHF in Switzerland according to the \"),_c('a',{attrs:{\"href\":\"https://www.tcs.ch/fr/le-tcs/presse/communiques-de-presse-2021/couts-kilometriques-2021.php\"}},[_vm._v(\"TCS\")]),_vm._v(\".\"),_c('br'),_c('a',{attrs:{\"href\":\"https://www.tcs.ch/fr/tests-conseils/conseils/achat-vente-vehicule/recherche-auto-comparaison.php\"}},[_vm._v(\"Calculate yours according to your car.\")])]),_c('VTextField',{attrs:{\"label\":\"Costs per kilometre\",\"step\":0.01,\"type\":\"number\",\"prefix\":\"CHF\"},model:{value:(_vm.form.kmCost),callback:function ($$v) {_vm.$set(_vm.form, \"kmCost\", $$v)},expression:\"form.kmCost\"}})],1)],1),_c('VListItem',[_c('VListItemContent',[_c('VListItemTitle',[_vm._v(\"Wages\")]),_c('div',{staticClass:\"caption\"},[_vm._v(\" The minimum wage salary in Geneva since 1 november 2020 is CHF 23.27. \"),_c('br'),_c('a',{attrs:{\"href\":\"https://www.eda.admin.ch/missions/mission-onu-geneve/en/home/manual-regime-privileges-and-immunities/introduction/manual-labour-law/Salaire-minimum-dans-le-canton-de-Geneve.html\"}},[_vm._v(\"eda.admin.ch\")]),_vm._v(\".\"),_c('br')]),_c('VTextField',{attrs:{\"label\":\"Costs per hour\",\"step\":0.1,\"type\":\"number\",\"prefix\":\"CHF\"},model:{value:(_vm.form.wage),callback:function ($$v) {_vm.$set(_vm.form, \"wage\", $$v)},expression:\"form.wage\"}})],1)],1),_c('VListItem',[_c('VListItemContent',[_c('VListItemTitle',[_vm._v(\"Group by\")]),_c('div',{staticClass:\"caption\"},[_vm._v(\" Decide on the temporal granularity at which you will group the data. \")]),_c('VSelect',{attrs:{\"items\":Object.keys(_vm.aggregations),\"menu-props\":{ bottom: true, offsetY: true },\"label\":\"Group by\"},model:{value:(_vm.form.groupBy),callback:function ($$v) {_vm.$set(_vm.form, \"groupBy\", $$v)},expression:\"form.groupBy\"}})],1)],1),_c('VListItem',[_c('VListItemContent',[_c('VListItemTitle',[_vm._v(\"Multiplying factor\")]),_c('div',{staticClass:\"caption\"},[_vm._v(\" Depending on your situation, working at night or at weekends is not paid in the same way, please adapt the multipliers here. \")]),_c('VRow',{attrs:{\"dense\":\"\"}},[_c('VCol',{attrs:{\"cols\":\"4\"}},[_c('VSubheader',[_vm._v(\"WeekDay\")])],1),_c('VCol',{attrs:{\"cols\":\"4\"}},[_c('VTextField',{attrs:{\"label\":\"Day\",\"step\":0.1,\"type\":\"number\"},model:{value:(_vm.form.c.weekday.day),callback:function ($$v) {_vm.$set(_vm.form.c.weekday, \"day\", $$v)},expression:\"form.c.weekday.day\"}})],1),_c('VCol',{attrs:{\"cols\":\"4\"}},[_c('VTextField',{attrs:{\"label\":\"Night\",\"step\":0.1,\"type\":\"number\"},model:{value:(_vm.form.c.weekday.night),callback:function ($$v) {_vm.$set(_vm.form.c.weekday, \"night\", $$v)},expression:\"form.c.weekday.night\"}})],1)],1),_c('VRow',{attrs:{\"dense\":\"\"}},[_c('VCol',{attrs:{\"cols\":\"4\"}},[_c('VSubheader',[_vm._v(\"WeekEnd\")])],1),_c('VCol',{attrs:{\"cols\":\"4\"}},[_c('VTextField',{attrs:{\"label\":\"Day\",\"step\":0.1,\"type\":\"number\"},model:{value:(_vm.form.c.weekend.day),callback:function ($$v) {_vm.$set(_vm.form.c.weekend, \"day\", $$v)},expression:\"form.c.weekend.day\"}})],1),_c('VCol',{attrs:{\"cols\":\"4\"}},[_c('VTextField',{attrs:{\"label\":\"Night\",\"step\":0.1,\"type\":\"number\"},model:{value:(_vm.form.c.weekend.night),callback:function ($$v) {_vm.$set(_vm.form.c.weekend, \"night\", $$v)},expression:\"form.c.weekend.night\"}})],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VMenu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('VTextField',_vm._g(_vm._b({attrs:{\"persistent-hint\":\"\",\"prepend-icon\":\"mdi-calendar\"},model:{value:(_vm.dateFormatted),callback:function ($$v) {_vm.dateFormatted=$$v},expression:\"dateFormatted\"}},'VTextField',{label: _vm.label, hint: _vm.hint, attrs},false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('VDatePicker',{attrs:{\"no-title\":\"\"},on:{\"input\":_vm.handleInput},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <VMenu\n    ref=\"menu\"\n    v-model=\"menu\"\n    :close-on-content-click=\"false\"\n    transition=\"scale-transition\"\n    offset-y\n    max-width=\"290px\"\n    min-width=\"auto\"\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <VTextField\n        v-model=\"dateFormatted\"\n        v-bind=\"{label, hint, attrs}\"\n        v-on=\"on\"\n        persistent-hint\n        prepend-icon=\"mdi-calendar\"\n      ></VTextField>\n    </template>\n    <VDatePicker\n      v-model=\"date\"\n      no-title\n      @input=\"handleInput\"\n    ></VDatePicker>\n  </VMenu>\n</template>\n<script>\nimport * as d3 from 'd3'\nexport default {\n  props: {\n    value: {\n      type: Date,\n      default: () => new Date()\n    },\n    label: {\n      type: String,\n      default: 'Date'\n    },\n    hint: {\n      type: String,\n      default: ''\n    },\n    dateFormat: {\n      type: String,\n      default: '%d/%m/%Y'\n    }\n  },\n  data() {\n    const formatDateCustom = d3.timeFormat(this.dateFormat)\n    const formatDate = d3.timeFormat('%Y-%m-%d')\n    const parseDate = d3.timeParse('%Y-%m-%d')\n    return {\n      date: formatDate(this.value),\n      dateFormatted: formatDateCustom(this.value),\n      menu: false,\n      formatDate,\n      parseDate,\n      formatDateCustom\n    }\n  },\n  watch: {\n    date() {\n      this.dateFormatted = this.formatDateCustom(this.parseDate(this.date))\n    }\n  },\n  methods: {\n    handleInput() {\n      this.menu = false\n      this.$emit('input', this.parseDate(this.date))\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseDateSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseDateSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseDateSelector.vue?vue&type=template&id=18c6c658&\"\nimport script from \"./BaseDateSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseDateSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"ma-0 pa-0\">\n  <VContainer>\n    <VRow class=\"d-flex  align-stretch justify-center\">\n      <VCol v-for=\"(overview, index) in overviews\" :key=\"index\" :cols=\"2\" class=\"pa-0\">\n        <VCard height=\"100%\" flat>\n            <VListItem two-line>\n              <VListItemContent>\n                <div class=\"text-overline mb-1\">\n                  {{overview.title}}\n                </div>\n                <VListItemTitle class=\"text-h4 text--primary font-weight-bold\">\n                    {{numberFormatter(overview.value)}}\n                    <span class=\"caption\">\n                    {{overview.suffix}}\n                  </span>\n                </VListItemTitle>\n              </VListItemContent>\n          </VListItem>\n        </VCard>\n      </VCol>\n      <VCol cols=\"2\">\n        <VBtn\n          color=\"primary\"\n          outlined\n          dark\n          @click=\"drawer = true\"\n        >\n          More Options\n        </VBtn>\n      </VCol>\n    </VRow>\n    <VRow>\n      <VCol cols=\"12\">\n        <UnitFilterableTable v-bind=\"{ headers: header, items: results }\" />\n      </VCol>\n    </VRow>\n    <span class=\"caption\">* Km Cost to be covered: This value is computed with the following formula: <strong>Km * Cost per kilometre</strong></span><br>\n    <span class=\"caption\">** Theoritical wage: This value is computed with the following formula: <strong>Time * Multiplying factor * Wage</strong></span>\n  </VContainer>\n  <VNavigationDrawer\n      v-model=\"drawer\"\n      fixed\n      width=\"280px\"\n      temporary\n    >\n      <div class=\"d-flex ma-3\">\n        <div class=\"text-h6\">Options</div>\n        <VSpacer/>\n        <VIcon @click=\"drawer = false\">$vuetify.icons.mdiClose</VIcon>\n      </div>\n      <VListItem>\n        <VListItemContent>\n          <VListItemTitle>Date range</VListItemTitle>\n          <div class=\"caption\">The date range to include.</div>\n          <div class=\"d-flex\">\n            <BaseDateSelector v-model=\"form.startDate\" label=\"From\"></BaseDateSelector>\n            <BaseDateSelector v-model=\"form.endDate\" label=\"To\"></BaseDateSelector>\n          </div>\n        </VListItemContent>\n      </VListItem>\n       <VListItem>\n        <VListItemContent>\n          <VListItemTitle>Kilometric cost</VListItemTitle>\n          <div class=\"caption\">\n            The average cost per kilometre is at 0.70CHF in Switzerland according to the <a href=\"https://www.tcs.ch/fr/le-tcs/presse/communiques-de-presse-2021/couts-kilometriques-2021.php\">TCS</a>.<br>\n            <a href=\"https://www.tcs.ch/fr/tests-conseils/conseils/achat-vente-vehicule/recherche-auto-comparaison.php\">Calculate yours according to your car.</a>\n          </div>\n          <VTextField\n            label=\"Costs per kilometre\"\n            v-model=\"form.kmCost\"\n            :step=\"0.01\"\n            type=\"number\"\n            prefix=\"CHF\"\n          ></VTextField>\n        </VListItemContent>\n      </VListItem>\n      <VListItem>\n        <VListItemContent>\n          <VListItemTitle>Wages</VListItemTitle>\n          <div class=\"caption\">\n            The minimum wage salary in Geneva since 1 november 2020 is CHF 23.27. <br>\n            <a href=\"https://www.eda.admin.ch/missions/mission-onu-geneve/en/home/manual-regime-privileges-and-immunities/introduction/manual-labour-law/Salaire-minimum-dans-le-canton-de-Geneve.html\">eda.admin.ch</a>.<br>\n          </div>\n          <VTextField\n            label=\"Costs per hour\"\n            v-model=\"form.wage\"\n            :step=\"0.1\"\n            type=\"number\"\n            prefix=\"CHF\"\n          ></VTextField>\n        </VListItemContent>\n      </VListItem>\n      <VListItem>\n        <VListItemContent>\n          <VListItemTitle>Group by</VListItemTitle>\n          <div class=\"caption\">\n            Decide on the temporal granularity at which you will group the data.\n          </div>\n          <VSelect\n            :items=\"Object.keys(aggregations)\"\n            :menu-props=\"{ bottom: true, offsetY: true }\"\n            v-model=\"form.groupBy\"\n            label=\"Group by\"\n          ></VSelect>\n        </VListItemContent>\n      </VListItem>\n      <VListItem>\n        <VListItemContent>\n          <VListItemTitle>Multiplying factor</VListItemTitle>\n          <div class=\"caption\">\n            Depending on your situation, working at night or at weekends is not paid in the same way, please adapt the multipliers here.\n          </div>\n          <VRow dense>\n            <VCol cols=\"4\">\n              <VSubheader>WeekDay</VSubheader>\n            </VCol>\n            <VCol cols=\"4\">\n              <VTextField\n                v-model=\"form.c.weekday.day\"\n                label=\"Day\"\n                :step=\"0.1\"\n                type=\"number\"\n              ></VTextField>\n            </VCol>\n            <VCol cols=\"4\">\n              <VTextField\n                v-model=\"form.c.weekday.night\"\n                label=\"Night\"\n                :step=\"0.1\"\n                type=\"number\"\n              ></VTextField>\n            </VCol>\n          </VRow>\n          <VRow dense>\n            <VCol cols=\"4\">\n              <VSubheader>WeekEnd</VSubheader>\n            </VCol>\n            <VCol cols=\"4\">\n              <VTextField\n                v-model=\"form.c.weekend.day\"\n                label=\"Day\"\n                :step=\"0.1\"\n                type=\"number\"\n              ></VTextField>\n            </VCol>\n            <VCol cols=\"4\">\n              <VTextField\n                v-model=\"form.c.weekend.night\"\n                label=\"Night\"\n                :step=\"0.1\"\n                type=\"number\"\n              ></VTextField>\n            </VCol>\n          </VRow>\n        </VListItemContent>\n      </VListItem>\n  </VNavigationDrawer>\n  </div>\n</template>\n\n<script>\nimport mixin from './mixin'\nimport UnitFilterableTable from '@/components/unit/filterable-table/UnitFilterableTable.vue'\nimport BaseDateSelector from '@/components/base/BaseDateSelector.vue'\nimport * as d3 from 'd3'\nimport { nest } from 'd3-collection'\nimport { sumBy, mapValues } from 'lodash'\nexport default {\n  components: { UnitFilterableTable, BaseDateSelector },\n  mixins: [mixin],\n  props: {},\n  data() {\n    const timeParser = d3.timeParse('%s')\n    const dateExtent = d3.extent(this.values, v => timeParser(v.begin_ts))\n    return {\n      drawer: false,\n      timeParser,\n      numberFormatter: d3.format('.2s'),\n      aggregations: {\n        Year: d3.timeFormat('%Y'),\n        Month: d3.timeFormat('%Y/%m'),\n        Week: d3.timeFormat('%Y week-%V'),\n        Day: d3.timeFormat('%Y/%m/%d')\n      },\n      form: {\n        startDate: dateExtent[0],\n        endDate: dateExtent[1],\n        groupBy: 'Year',\n        kmCost: 0.7,\n        wage: 23.27,\n        c: {\n          weekday: {\n            day: 1,\n            night: 1.2\n          },\n          weekend: {\n            day: 1,\n            night: 1.5\n          }\n        }\n      },\n      allValues: []\n    }\n  },\n  computed: {\n    results() {\n      // GroupBy\n      const rollup = nest()\n        .key(d => d[this.form.groupBy])\n        .sortKeys(d3.ascending)\n        .key(d => d.status)\n        .key(d => d.type)\n        .key(d => d.period)\n        .rollup((values) => {\n          return {\n            time: d3.sum(values, l => l.time),\n            distance: d3.sum(values, l => l.distance),\n            price: d3.sum(values, l => l.price)\n          }\n        })\n        .entries(this.allValues.filter(v => v.date >= this.form.startDate && v.date <= this.form.endDate))\n\n      // Flatten to array of object\n      const results = rollup.flatMap((groupBy) => {\n        const _groupBy = groupBy.key\n        return groupBy.values.flatMap((status) => {\n          const _status = status.key\n          return status.values.flatMap((type) => {\n            const _type = type.key\n            return type.values.map(period => (\n              {\n                [this.form.groupBy]: _groupBy,\n                Status: _status,\n                Type: _type,\n                Period: period.key,\n                Km: period.value.distance,\n                'Time (hr)': period.value.time,\n                'Km Cost to be covered*': period.value.distance * this.form.kmCost,\n                'Theoritical wage**': this.form.c[_type][period.key] * period.value.time * this.form.wage,\n                'Uber Income': period.value.price\n              }\n            ))\n          })\n        })\n      })\n      return results\n    },\n    header() {\n      if (this.results.length) {\n        return Object.keys(this.results[0])\n      } else {\n        return []\n      }\n    },\n    overviews() {\n      return [\n        {\n          title: 'Kilometers',\n          value: sumBy(this.results, 'Km'),\n          suffix: 'km'\n        },\n        {\n          title: 'Time',\n          value: sumBy(this.results, 'Time (hr)'),\n          suffix: 'hours'\n        },\n        {\n          title: 'Km Expenses',\n          value: sumBy(this.results, 'Km Cost to be covered*'),\n          suffix: 'CHF'\n        },\n        {\n          title: 'Estimated wages',\n          value: sumBy(this.results, 'Theoritical wage**'),\n          suffix: 'CHF'\n        },\n        {\n          title: 'Uber Income',\n          value: sumBy(this.results, 'Uber Income'),\n          suffix: 'CHF'\n        }\n      ]\n    }\n  },\n  methods: {\n    drawViz() {\n      // Precompute the agg values for better performances\n      this.allValues = this.values.map((e) => {\n        const time = Math.max(0, e.end_ts - e.begin_ts) / (1000 * 60 * 60)\n        const date = this.timeParser(e.begin_ts)\n        const type = date.getDay() > 4 ? 'weekend' : 'weekday'\n        const period = date.getHours() > 22 || date.getHours() < 7 ? 'night' : 'day'\n        return {\n          date,\n          type,\n          period,\n          time,\n          status: e.status,\n          distance: e.distance,\n          price: e.price,\n          ...mapValues(this.aggregations, formatAgg => formatAgg(date))\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewUberDriverAccounting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewUberDriverAccounting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewUberDriverAccounting.vue?vue&type=template&id=650b3a64&\"\nimport script from \"./ChartViewUberDriverAccounting.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewUberDriverAccounting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":[],"sourceRoot":""}