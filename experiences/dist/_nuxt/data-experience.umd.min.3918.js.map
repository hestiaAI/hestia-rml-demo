{"version":3,"file":"data-experience.umd.min.3918.js","mappings":"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","sources":["webpack://data-experience/./src/components/chart/view/ChartViewOverviewUber.vue?5fb3","webpack://data-experience/src/components/chart/view/ChartViewOverviewUber.vue","webpack://data-experience/./src/components/chart/view/ChartViewOverviewUber.vue?59f5","webpack://data-experience/./src/components/chart/view/ChartViewOverviewUber.vue","webpack://data-experience/./src/components/chart/view/ChartViewVRowWebShare.vue?ea0d","webpack://data-experience/src/components/chart/view/ChartViewVRowWebShare.vue","webpack://data-experience/./src/components/chart/view/ChartViewVRowWebShare.vue?2101","webpack://data-experience/./src/components/chart/view/ChartViewVRowWebShare.vue","webpack://data-experience/./src/components/chart/view/filters/ChartViewFilters.vue?cff0","webpack://data-experience/src/components/chart/view/filters/ChartViewFilters.vue","webpack://data-experience/./src/components/chart/view/filters/ChartViewFilters.vue?e912","webpack://data-experience/./src/components/chart/view/filters/ChartViewFilters.vue","webpack://data-experience/./src/components/chart/view/text/ChartViewTextSelectTimeRange.vue?13ad","webpack://data-experience/./src/components/chart/view/text/ChartViewTextSelectTimeRange.vue","webpack://data-experience/./src/components/chart/view/mixin.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VContainer',[_c('VRow',{staticClass:\"justify-center\"},[_c('p',[_c('span',{domProps:{\"textContent\":_vm._s(_vm.messages['select-currency'])}}),_c('VSelect',{attrs:{\"items\":_vm.currencies},on:{\"input\":_vm.filterCurrency},model:{value:(_vm.currentCurrency),callback:function ($$v) {_vm.currentCurrency=$$v},expression:\"currentCurrency\"}})],1)]),_c('ChartViewVRowWebShare',[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('div',{attrs:{\"id\":\"price-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Cumulative expenses'])}}),_c('ChartViewFilters')],1),_c('div',{attrs:{\"id\":\"hour-chart\"}},[_c('ChartViewTextSelectTimeRange',[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('reset'),expression:\"'reset'\"}],staticClass:\"reset\",staticStyle:{\"display\":\"none\"}})])],1)])],1),_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('div',{attrs:{\"id\":\"service-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Service used'])}}),_c('ChartViewFilters')],1)]),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('div',{attrs:{\"id\":\"week-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Day of week'])}}),_c('ChartViewFilters')],1)]),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('div',{attrs:{\"id\":\"address-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Begin trip address'])}}),_c('ChartViewFilters')],1)])],1)],1),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('VCard',{staticClass:\"general-info\"},[_c('VCardTitle',[_vm._v(_vm._s(_vm.messages['General information']))]),_c('VCardSubtitle'),_c('VCardText',[_c('VContainer',[_c('VRow',{attrs:{\"dense\":\"\"}},[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('VCard',{attrs:{\"color\":\"#385F73\",\"dark\":\"\"}},[_c('VCardTitle',{staticClass:\"justify-center text-caption\"},[_vm._v(\" \"+_vm._s(_vm.messages['Orders'])+\" \")]),_c('VCardSubtitle'),_c('VCardText',{staticClass:\"text-h4 text-center\"},[_c('div',{attrs:{\"id\":\"number-trip\"}}),_c('span',{staticClass:\"text-subtitle-1\",domProps:{\"textContent\":_vm._s(_vm.messages['trips'])}})])],1)],1),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('VCard',{attrs:{\"color\":\"#385F73\",\"dark\":\"\"}},[_c('VCardTitle',{staticClass:\"justify-center text-caption\"},[_vm._v(\" \"+_vm._s(_vm.messages['Speed'])+\" \")]),_c('VCardSubtitle'),_c('VCardText',{staticClass:\"text-h4 text-center\"},[_c('div',{staticClass:\"font-weight-bold\",attrs:{\"id\":\"number-speed-avg\"}}),_c('span',{staticClass:\"text-subtitle-1\",domProps:{\"textContent\":_vm._s(_vm.messages['mph'])}})])],1)],1)],1)],1),_c('VSimpleTable',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"}),_c('th',{staticClass:\"text-left\",domProps:{\"textContent\":_vm._s(_vm.messages['Total'])}}),_c('th',{staticClass:\"text-left\",domProps:{\"textContent\":_vm._s(_vm.messages['Average'])}})])]),_c('tbody',[_c('tr',[_c('td',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Price'])}}),_c('td',{staticClass:\"text-h6\",domProps:{\"textContent\":_vm._s(_vm.priceTotalNumber)}}),_c('td',{staticClass:\"text-h6\",domProps:{\"textContent\":_vm._s(_vm.priceAvgNumber)}})]),_vm._l((_vm.generalInformationRows),function({ heading, ids, metric }){return _c('tr',{key:heading},[_c('td',{domProps:{\"textContent\":_vm._s(_vm.messages[heading])}}),_vm._l((ids),function(id){return _c('td',{key:id},[_c('span',{staticClass:\"text-h6\",attrs:{\"id\":id}}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.messages[metric])}})])})],2)})],2)]},proxy:true}])})],1),_c('VCardActions',[_c('BaseButton',{attrs:{\"elevation\":\"2\",\"block\":\"\"},on:{\"click\":function($event){return _vm.resetAll()}}},[_vm._v(\" \"+_vm._s(_vm.messages['Reset all filters'])+\" \")])],1)],1)],1)],1),_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\"}},[_c('UnitFilterableTable',_vm._b({},'UnitFilterableTable',{ headers: _vm.header, items: _vm.results, kViewBlock: _vm.kViewBlock },false))],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <VContainer>\r\n    <VRow class=\"justify-center\">\r\n      <p>\r\n        <span v-text=\"messages['select-currency']\" />\r\n        <VSelect\r\n          v-model=\"currentCurrency\"\r\n          :items=\"currencies\"\r\n          @input=\"filterCurrency\"\r\n        />\r\n      </p>\r\n    </VRow>\r\n    <ChartViewVRowWebShare>\r\n      <VCol cols=\"12\" md=\"8\">\r\n        <VRow>\r\n          <VCol cols=\"12\" md=\"12\">\r\n            <div id=\"price-chart\">\r\n              <span class=\"font-weight-bold\" v-text=\"messages['Cumulative expenses']\" />\r\n              <ChartViewFilters />\r\n            </div>\r\n            <div id=\"hour-chart\">\r\n              <ChartViewTextSelectTimeRange>\r\n                <a v-t=\"'reset'\" class=\"reset\" style=\"display: none\" />\r\n              </ChartViewTextSelectTimeRange>\r\n            </div>\r\n          </VCol>\r\n        </VRow>\r\n        <VRow>\r\n          <VCol cols=\"12\" md=\"4\">\r\n            <div id=\"service-chart\">\r\n              <span class=\"font-weight-bold\" v-text=\"messages['Service used']\" />\r\n              <ChartViewFilters />\r\n            </div>\r\n          </VCol>\r\n          <VCol cols=\"12\" md=\"4\">\r\n            <div id=\"week-chart\">\r\n              <span class=\"font-weight-bold\" v-text=\"messages['Day of week']\" />\r\n              <ChartViewFilters />\r\n            </div>\r\n          </VCol>\r\n          <VCol cols=\"12\" md=\"4\">\r\n            <div id=\"address-chart\">\r\n              <span class=\"font-weight-bold\" v-text=\"messages['Begin trip address']\" />\r\n              <ChartViewFilters />\r\n            </div>\r\n          </VCol>\r\n        </VRow>\r\n      </VCol>\r\n      <VCol cols=\"12\" md=\"4\">\r\n        <VCard class=\"general-info\">\r\n          <VCardTitle>{{ messages['General information'] }}</VCardTitle>\r\n          <VCardSubtitle />\r\n          <VCardText>\r\n            <VContainer>\r\n              <VRow dense>\r\n                <VCol cols=\"12\" md=\"6\">\r\n                  <VCard color=\"#385F73\" dark>\r\n                    <VCardTitle class=\"justify-center text-caption\">\r\n                      {{ messages['Orders'] }}\r\n                    </VCardTitle>\r\n                    <VCardSubtitle />\r\n                    <VCardText class=\"text-h4 text-center\">\r\n                      <div id=\"number-trip\" />\r\n                      <span class=\"text-subtitle-1\" v-text=\"messages['trips']\" />\r\n                    </VCardText>\r\n                  </VCard>\r\n                </VCol>\r\n                <VCol cols=\"12\" md=\"6\">\r\n                  <VCard color=\"#385F73\" dark>\r\n                    <VCardTitle class=\"justify-center text-caption\">\r\n                      {{ messages['Speed'] }}\r\n                    </VCardTitle>\r\n                    <VCardSubtitle />\r\n                    <VCardText class=\"text-h4 text-center\">\r\n                      <div id=\"number-speed-avg\" class=\"font-weight-bold\" />\r\n                      <span class=\"text-subtitle-1\" v-text=\"messages['mph']\" />\r\n                    </VCardText>\r\n                  </VCard>\r\n                </VCol>\r\n              </VRow>\r\n            </VContainer>\r\n            <VSimpleTable dense>\r\n              <template #default>\r\n                <thead>\r\n                  <tr>\r\n                    <th class=\"text-left\" />\r\n                    <th class=\"text-left\" v-text=\"messages['Total']\" />\r\n                    <th class=\"text-left\" v-text=\"messages['Average']\" />\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td class=\"font-weight-bold\" v-text=\"messages['Price']\" />\r\n                    <td class=\"text-h6\" v-text=\"priceTotalNumber\" />\r\n                    <td class=\"text-h6\" v-text=\"priceAvgNumber\" />\r\n                  </tr>\r\n                  <tr\r\n                    v-for=\"{ heading, ids, metric } in generalInformationRows\"\r\n                    :key=\"heading\"\r\n                  >\r\n                    <td v-text=\"messages[heading]\" />\r\n                    <td v-for=\"id in ids\" :key=\"id\">\r\n                      <span :id=\"id\" class=\"text-h6\" /> <span v-text=\"messages[metric]\" />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </template>\r\n            </VSimpleTable>\r\n          </VCardText>\r\n          <VCardActions>\r\n            <BaseButton elevation=\"2\" block @click=\"resetAll()\">\r\n              {{ messages['Reset all filters'] }}\r\n            </BaseButton>\r\n          </VCardActions>\r\n        </VCard>\r\n      </VCol>\r\n    </ChartViewVRowWebShare>\r\n    <VRow>\r\n      <VCol cols=\"12\">\r\n        <UnitFilterableTable v-bind=\"{ headers: header, items: results, kViewBlock }\" />\r\n      </VCol>\r\n    </VRow>\r\n  </VContainer>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from 'd3'\r\nimport * as dc from 'dc'\r\nimport crossfilter from 'crossfilter2'\r\nimport mixin from './mixin'\r\nimport { findNumberFormatIETFCode } from '@/i18n/vue-i18n-number-formats'\r\nimport ChartViewVRowWebShare from './ChartViewVRowWebShare.vue'\r\nimport ChartViewTextSelectTimeRange from './text/ChartViewTextSelectTimeRange.vue'\r\nimport ChartViewFilters from './filters/ChartViewFilters.vue'\r\nimport BaseButton from '@/components/base/button/BaseButton.vue'\r\nimport UnitFilterableTable from '@/components/unit/filterable-table/UnitFilterableTable.vue'\r\n// import regression from 'regression'\r\n\r\n// Remove warning on default colorscheme, even if not used..\r\ndc.config.defaultColors(d3.schemePaired)\r\n\r\nexport default {\r\n  components: { ChartViewVRowWebShare, ChartViewTextSelectTimeRange, ChartViewFilters, BaseButton, UnitFilterableTable },\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      header: [\r\n        ['City', 'city'],\r\n        ['Service', 'service'],\r\n        ['Status', 'tripOrOrderStatus'],\r\n        ['Request Time', 'dateRequestStr'],\r\n        ['From', 'beginTripAddress'],\r\n        ['To', 'dropoffAddress'],\r\n        ['Waiting time (min)', 'waitingTime'],\r\n        ['Distance (miles)', 'distanceMiles'],\r\n        ['Duration (min)', 'duration'],\r\n        ['Price', 'priceStr']\r\n      ].map(([text, value]) => ({ text, value })),\r\n      generalInformationRows: [{\r\n        heading: 'Distance',\r\n        metric: 'miles',\r\n        ids: ['number-distance-total', 'number-distance-avg']\r\n      }, {\r\n        heading: 'Duration',\r\n        metric: 'min',\r\n        ids: ['number-duration-total', 'number-duration-avg']\r\n      }, {\r\n        heading: 'Waiting time',\r\n        metric: 'min',\r\n        ids: ['number-waiting-total', 'number-waiting-avg']\r\n      }],\r\n      results: [],\r\n      currencies: [],\r\n      currentCurrency: null,\r\n      currencyDimension: null,\r\n      priceAvgNumber: null,\r\n      priceTotalNumber: null\r\n    }\r\n  },\r\n  methods: {\r\n    k(key, prefix = '') {\r\n      return `chart-view.overview-uber.${prefix ? `${prefix}.` : ''}${key}`\r\n    },\r\n    filterCurrency(newCurr) {\r\n      this.currencyDimension.filter(newCurr)\r\n      this.currentCurrency = newCurr\r\n      this.resetAll()\r\n    },\r\n    resetAll() {\r\n      dc.filterAll()\r\n      dc.renderAll()\r\n    },\r\n    drawViz() {\r\n      // Add data to table\r\n      this.results = this.values.filter(d => d.tripOrOrderStatus === 'COMPLETED')\r\n      // Define color palette for the graphs\r\n      const colorPalette = [\r\n        '#254b7f',\r\n        '#1c6488',\r\n        '#287a8c',\r\n        '#40908e',\r\n        '#59a590',\r\n        '#7dba91'\r\n      ]\r\n      // Parse and format data\r\n      const dateFormatParser = d3.timeParse('%Y-%m-%d %H:%M:%S %Z UTC')\r\n      const formatTime = d3.timeFormat(`%B %d, %Y ${this.$t('at')} %H:%M:%S`)\r\n      this.results.forEach((d) => {\r\n        d.service =\r\n                    d.productType.charAt(0).toUpperCase() + d.productType.slice(1)\r\n        d.dateRequest = dateFormatParser(d.requestTime)\r\n        d.dateStart = dateFormatParser(d.beginTripTime)\r\n        d.dateEnd = dateFormatParser(d.dropoffTime)\r\n        d.dateRequestStr = formatTime(d.dateRequest)\r\n        d.dateStartStr = formatTime(d.dateStart)\r\n        d.dateEndStr = formatTime(d.dateEnd)\r\n        d.day = d3.timeDay(d.dateStart) // pre-calculate days for better performance\r\n        d.hour = d3.timeHour(d.dateStart).getHours()\r\n        d.duration = d3.timeMinute.count(d.dateStart, d.dateEnd)\r\n        d.waitingTime = d3.timeMinute.count(d.dateRequest, d.dateStart)\r\n        // https://kazupon.github.io/vue-i18n/guide/number.html#number-localization\r\n        d.priceStr = this.$n(Number(d.fareAmount), 'currency', d.fareCurrency)\r\n        d.price = +d.fareAmount\r\n        d.distance = +d.distanceMiles\r\n        d.address = d.beginTripAddress.replace(/[0-9]/g, '').split(',')[0]\r\n      })\r\n      // Create and bind charts to their respective divs\r\n      const hourChart = new dc.BarChart('#hour-chart')\r\n      const serviceChart = new dc.PieChart('#service-chart')\r\n      const weekChart = new dc.RowChart('#week-chart')\r\n      const priceChart = new dc.LineChart('#price-chart')\r\n      const addressChart = new dc.RowChart('#address-chart')\r\n      const tripNumber = new dc.NumberDisplay('#number-trip')\r\n      const speedNumber = new dc.NumberDisplay('#number-speed-avg')\r\n      const distanceTotalNumber = new dc.NumberDisplay('#number-distance-total')\r\n      const distanceAvgNumber = new dc.NumberDisplay('#number-distance-avg')\r\n      const durationTotalNumber = new dc.NumberDisplay('#number-duration-total')\r\n      const durationAvgNumber = new dc.NumberDisplay('#number-duration-avg')\r\n      const waitingTotalNumber = new dc.NumberDisplay('#number-waiting-total')\r\n      const waitingAvgNumber = new dc.NumberDisplay('#number-waiting-avg')\r\n      // Bind reset filters links\r\n      d3.select('#hour-chart a.reset').on('click', function() {\r\n        hourChart.filterAll()\r\n        dc.redrawAll()\r\n      })\r\n      d3.select('#service-chart a.reset').on('click', function() {\r\n        serviceChart.filterAll()\r\n        dc.redrawAll()\r\n      })\r\n      d3.select('#week-chart a.reset').on('click', function() {\r\n        weekChart.filterAll()\r\n        dc.redrawAll()\r\n      })\r\n      d3.select('#price-chart a.reset').on('click', function() {\r\n        priceChart.filterAll()\r\n        dc.redrawAll()\r\n      })\r\n      d3.select('#address-chart a.reset').on('click', function() {\r\n        addressChart.filterAll()\r\n        dc.redrawAll()\r\n      })\r\n      const ndx = crossfilter(this.results)\r\n      // Create dimensions\r\n      const allDimension = ndx.groupAll()\r\n      const dayOfWeekDimension = ndx.dimension((d) => {\r\n        const day = d.dateStart.getDay()\r\n        const name = this.$days()\r\n        return `${name[day]}`\r\n      })\r\n      const serviceDimension = ndx.dimension(d => d.service)\r\n      const addressDimension = ndx.dimension(d => d.address)\r\n      const dayDimension = ndx.dimension(d => d.day)\r\n      const hourDimension = ndx.dimension(d => d.hour)\r\n      this.currencyDimension = ndx.dimension(d => d.fareCurrency)\r\n      // Create groups\r\n      const allGroup = allDimension.reduce(\r\n        /* Add elem to dim */\r\n        (p, v) => {\r\n          ++p.count\r\n          p.distanceTotal += v.distance\r\n          p.waitingTotal += v.waitingTime\r\n          p.priceTotal += v.price\r\n          p.durationTotal += v.duration\r\n          return p\r\n        },\r\n        /* Remove elem from dim */\r\n        (p, v) => {\r\n          --p.count\r\n          p.distanceTotal -= v.distance\r\n          p.waitingTotal -= v.waitingTime\r\n          p.priceTotal -= v.price\r\n          p.durationTotal -= v.duration\r\n          return p\r\n        },\r\n        /* initialize p */\r\n        () => ({\r\n          count: 0,\r\n          distanceTotal: 0,\r\n          waitingTotal: 0,\r\n          durationTotal: 0,\r\n          priceTotal: 0\r\n        }))\r\n      const dayOfWeekGroup = dayOfWeekDimension.group().reduceCount()\r\n      const serviceGroup = serviceDimension.group().reduceCount()\r\n      const priceGroup = dayDimension.group().reduceSum(d => d.price)\r\n      const addressGroup = addressDimension.group().reduceCount()\r\n      const hourGroup = hourDimension.group().reduceCount()\r\n      const currencyGroup = this.currencyDimension.group()\r\n      this.currentCurrency = currencyGroup.top(1)[0].key\r\n      this.currencyDimension.filter(this.currentCurrency)\r\n      currencyGroup.top(Infinity).forEach(({ key }) => {\r\n        const currencySymbol = this.$n(undefined, 'currency', findNumberFormatIETFCode(key)).replace(/\\s*NaN\\s*/, '')\r\n        const text = currencySymbol ? `${key} (${currencySymbol})` : key\r\n        this.currencies.push({\r\n          value: key,\r\n          text\r\n        })\r\n      })\r\n      // Render general Information numbers\r\n      tripNumber\r\n        .group(allGroup)\r\n        .valueAccessor(p => p.count)\r\n        .formatNumber(d3.format('~s'))\r\n        .on('pretransition', (chart, filter) => {\r\n          this.results = serviceDimension.top(Infinity)\r\n        })\r\n      speedNumber\r\n        .group(allGroup)\r\n        .valueAccessor((p) => {\r\n          return p.durationTotal ? (p.distanceTotal * 60) / p.durationTotal : 0\r\n        })\r\n        .formatNumber(d3.format('.1f'))\r\n      const { priceTotal, count } = allGroup.value()\r\n      const numberFormatIETF = findNumberFormatIETFCode(this.currentCurrency)\r\n      this.priceAvgNumber = this.$n(count ? priceTotal / count : 0, { key: 'currency', locale: numberFormatIETF, maximumFractionDigits: 1 })\r\n      this.priceTotalNumber = this.$n(priceTotal, { key: 'currency', locale: numberFormatIETF, maximumSignificantDigits: 3 })\r\n      distanceAvgNumber\r\n        .group(allGroup)\r\n        .valueAccessor(p => (p.count ? p.distanceTotal / p.count : 0))\r\n        .formatNumber(d3.format('.1f'))\r\n      distanceTotalNumber\r\n        .group(allGroup)\r\n        .valueAccessor(p => p.distanceTotal)\r\n        .formatNumber(d3.format('.3s'))\r\n      durationTotalNumber\r\n        .group(allGroup)\r\n        .valueAccessor(p => p.durationTotal)\r\n        .formatNumber(d3.format('.3s'))\r\n      durationAvgNumber\r\n        .group(allGroup)\r\n        .valueAccessor(p => (p.durationTotal ? p.durationTotal / p.count : 0))\r\n        .formatNumber(d3.format('.1f'))\r\n      waitingTotalNumber\r\n        .group(allGroup)\r\n        .valueAccessor(p => p.waitingTotal)\r\n        .formatNumber(d3.format('.3s'))\r\n      waitingAvgNumber\r\n        .group(allGroup)\r\n        .valueAccessor(p => (p.count ? p.waitingTotal / p.count : 0))\r\n        .formatNumber(d3.format('.1f'))\r\n      // Render hour bar chart\r\n      hourChart\r\n        .width(d3.select('#hour-chart').node().getBoundingClientRect().width)\r\n        .height(40)\r\n        .margins({ top: 0, right: 10, bottom: 20, left: 40 })\r\n        .dimension(hourDimension)\r\n        .group(hourGroup)\r\n        .centerBar(true)\r\n        .gap(1)\r\n        .x(d3.scaleLinear().domain([0, 23]))\r\n        .ordinalColors(colorPalette)\r\n        .yAxis()\r\n        .ticks(0)\r\n      hourChart\r\n        .xAxis()\r\n        .tickFormat(d => d + ':00')\r\n        .ticks(7)\r\n      // Render days of week row chart\r\n      function removeEmptyBins(group) {\r\n        return {\r\n          top(n) {\r\n            return group\r\n              .top(Infinity)\r\n              .filter(function(d) {\r\n                return d.value.count !== 0 && d.value !== 0\r\n              })\r\n              .slice(0, n)\r\n          }\r\n        }\r\n      }\r\n      weekChart\r\n        .width(d3.select('#week-chart').node().getBoundingClientRect().width)\r\n        .height(180)\r\n        .margins({ top: 10, left: 10, right: 10, bottom: 20 })\r\n        .group(dayOfWeekGroup)\r\n        .dimension(dayOfWeekDimension)\r\n        .ordinalColors(colorPalette)\r\n        .label(d => d.key)\r\n        .title(d => d.value)\r\n        .elasticX(true)\r\n        .xAxis()\r\n        .ticks(4)\r\n      weekChart.ordering(d => this.$days().indexOf(d.key))\r\n      // Render service pie chart\r\n      serviceChart\r\n        .width(d3.select('#service-chart').node().getBoundingClientRect().width)\r\n        .height(180)\r\n        .radius(180 / 2)\r\n        .innerRadius(0)\r\n        .dimension(serviceDimension)\r\n        .group(serviceGroup)\r\n        .valueAccessor((d) => {\r\n          return d.value\r\n        })\r\n        .title(d => d.key + ': ' + d.value + ' trips')\r\n        .ordinalColors(colorPalette)\r\n        .label((d) => {\r\n          let label = d.key\r\n          if (label.length > 8) {\r\n            label = label.substring(0, 8) + '.. '\r\n          }\r\n          if (serviceChart.hasFilter() && !serviceChart.hasFilter(d.key)) {\r\n            return `${label} (0%)`\r\n          }\r\n          if (allDimension.value()) {\r\n            label += ` (${Math.round((d.value / allGroup.value().count) * 100)}%)`\r\n          }\r\n          return label\r\n        })\r\n      // Render CumPrice line chart\r\n      const minDate = dayDimension.bottom(1).length > 0 ? dayDimension.bottom(1)[0].day : null\r\n      const maxDate = dayDimension.top(1).length > 0 ? dayDimension.top(1)[0].day : null\r\n      function createCumulativeGroup(group) {\r\n        return {\r\n          all() {\r\n            const cumulate = {}\r\n            return group.all().map(function(d) {\r\n              if (cumulate[d.key[0]]) {\r\n                cumulate[d.key[0]] += d.value\r\n              } else {\r\n                cumulate[d.key[0]] = d.value\r\n              }\r\n              return { key: d.key, value: cumulate[d.key[0]] }\r\n            })\r\n          }\r\n        }\r\n      }\r\n      priceChart\r\n        .margins({ top: 20, left: 40, right: 20, bottom: 20 })\r\n        .width(d3.select('#price-chart').node().getBoundingClientRect().width)\r\n        .turnOnControls(false)\r\n        .curve(d3.curveMonotoneX)\r\n        .xyTipsOn(true)\r\n        .height(180)\r\n        .brushOn(false)\r\n        .renderArea(true)\r\n        .dimension(dayDimension)\r\n        .group(createCumulativeGroup(priceGroup))\r\n        .x(d3.scaleTime().domain([minDate, maxDate]))\r\n        .elasticX(true)\r\n        .elasticY(true)\r\n        .renderDataPoints({\r\n          radius: 3,\r\n          fillOpaaddress: 0.8,\r\n          strokeOpaaddress: 0\r\n        })\r\n        .clipPadding(10)\r\n        .yAxisLabel(this.$t(this.k('Total price')))\r\n        .brushOn(true)\r\n        .ordinalColors(colorPalette)\r\n      priceChart.xAxis().ticks(10)\r\n      priceChart.yAxis().ticks(6)\r\n      priceChart.filterAll()\r\n      // Render address row chart\r\n      addressChart\r\n        .width(d3.select('#address-chart').node().getBoundingClientRect().width)\r\n        .height(180)\r\n        .margins({ top: 20, left: 10, right: 10, bottom: 20 })\r\n        .group(removeEmptyBins(addressGroup))\r\n        .dimension(addressDimension)\r\n        .ordinalColors(colorPalette)\r\n        .label(d => d.key)\r\n        .title(d => d.value)\r\n        .data(group => group.top(10))\r\n        .elasticX(true)\r\n        .xAxis()\r\n        .ticks(4)\r\n      dc.renderAll()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n::v-deep #hour-chart g.y {\r\n  display: none;\r\n}\r\n\r\n::v-deep ul.list-inline {\r\n  list-style: none;\r\n  padding-left: 0;\r\n}\r\n\r\n::v-deep ul.list-inline > li {\r\n  display: inline-block;\r\n}\r\n\r\n::v-deep li.border-right {\r\n  border-right: 1px solid #90a4ae;\r\n}\r\n\r\n::v-deep .pl-2 {\r\n  padding-left: 1.5rem;\r\n}\r\n::v-deep .pr-2 {\r\n  padding-right: 1.5rem;\r\n}\r\n\r\n::v-deep .stat-info {\r\n  font-style: italic;\r\n  font-size: 0.8em;\r\n}\r\n::v-deep p.stat-title {\r\n  margin: 0.5rem;\r\n  padding: 0;\r\n}\r\n\r\n::v-deep .stat-elem {\r\n  padding: 1rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewOverviewUber.vue?vue&type=template&id=ae173470&scoped=true&\"\nimport script from \"./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChartViewOverviewUber.vue?vue&type=style&index=0&id=ae173470&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae173470\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VRow',_vm._b({ref:\"domToImageNode\"},'VRow',_vm.$attrs,false),[_vm._t(\"default\"),_c('VCol',{staticClass:\"dom-to-image-exclude\",attrs:{\"cols\":\"12\"}},[_c('BaseButton',_vm._b({attrs:{\"icon\":\"mdiExport\",\"text\":\"Export\"},on:{\"click\":_vm.exportImage}},'BaseButton',{ progress: _vm.progress, status: _vm.status, error: _vm.error },false)),_c('BaseButtonDownloadData',_vm._b({},'BaseButtonDownloadData',{ disabled: !_vm.blob, extension: _vm.extension, filename: _vm.filename, data: _vm.blob },false)),_c('BaseButtonShare',_vm._b({attrs:{\"file-share\":\"\"}},'BaseButtonShare',{ files: _vm.files, disabled: !_vm.files },false))],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <VRow ref=\"domToImageNode\" v-bind=\"$attrs\">\r\n    <slot />\r\n    <VCol cols=\"12\" class=\"dom-to-image-exclude\">\r\n      <BaseButton\r\n        icon=\"mdiExport\"\r\n        text=\"Export\"\r\n        v-bind=\"{ progress, status, error }\"\r\n        @click=\"exportImage\"\r\n      />\r\n      <BaseButtonDownloadData\r\n        v-bind=\"{ disabled: !blob, extension, filename, data: blob }\"\r\n      />\r\n      <BaseButtonShare file-share v-bind=\"{ files, disabled: !files }\" />\r\n    </VCol>\r\n  </VRow>\r\n</template>\r\n\r\n<script>\r\nimport exportImageMixinFactory from '@/mixins/export-image-mixin-factory'\r\nimport BaseButton from '@/components/base/button/BaseButton.vue'\r\nimport BaseButtonDownloadData from '@/components/base/button/download/BaseButtonDownloadData.vue'\r\nimport BaseButtonShare from '@/components/base/button/BaseButtonShare.vue'\r\n\r\nexport default {\r\n  components: { BaseButton, BaseButtonDownloadData, BaseButtonShare },\r\n  mixins: [exportImageMixinFactory()]\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewVRowWebShare.vue?vue&type=template&id=53512c70&\"\nimport script from \"./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"filters\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('Current filter'))+\" \"),_c('span',{staticClass:\"filter\"})]),_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('reset'),expression:\"'reset'\"}],staticClass:\"reset\",staticStyle:{\"display\":\"none\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <p class=\"filters\">\r\n    <span>\r\n      {{ $t('Current filter') }}\r\n      <span class=\"filter\" />\r\n    </span>\r\n    <a v-t=\"'reset'\" class=\"reset\" style=\"display: none\" />\r\n  </p>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewFilters.vue?vue&type=template&id=2f9280d1&\"\nimport script from \"./ChartViewFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewFilters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"muted pull-right text-subtitle-2 mr-4 mb-1\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$t('select-time-range'))}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ChartViewTextSelectTimeRange.vue?vue&type=template&id=46f28fc2&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { TextFilterWidget } from 'dc'\r\nimport { merge } from 'lodash-es'\r\n\r\nimport kViewBlockMixin from '@/mixins/k-view-block'\r\n\r\nconst mixin = {\r\n  props: {\r\n    values: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    headers: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    messages: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      graphId: 'graph_' + this.$store.state.xp.currentTab,\r\n      totalCount: 0,\r\n      filterCount: 0\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawViz()\r\n  },\r\n  watch: {\r\n    values() {\r\n      this.drawViz()\r\n    }\r\n  },\r\n  methods: {\r\n    drawViz() { },\r\n    createTextFilterWidget(parent, placeholder = 'Search') {\r\n      const widget = new TextFilterWidget(parent)\r\n      widget.placeHolder(this.$tev(placeholder, placeholder))\r\n      return widget\r\n    }\r\n  }\r\n}\r\n\r\nexport default merge(mixin, kViewBlockMixin)\r\n"],"names":["render","_vm","this","_c","_self","staticClass","domProps","_s","messages","attrs","currencies","on","filterCurrency","model","value","callback","$$v","currentCurrency","expression","directives","name","rawName","staticStyle","_v","scopedSlots","_u","key","fn","priceTotalNumber","priceAvgNumber","_l","heading","ids","metric","id","proxy","$event","resetAll","_b","headers","header","items","results","kViewBlock","staticRenderFns","dc","config","defaultColors","components","ChartViewVRowWebShare","mixins","mixin","data","map","text","generalInformationRows","currencyDimension","methods","k","prefix","newCurr","filter","filterAll","renderAll","drawViz","values","d","tripOrOrderStatus","colorPalette","dateFormatParser","formatTime","$t","forEach","service","productType","charAt","toUpperCase","slice","dateRequest","requestTime","dateStart","beginTripTime","dateEnd","dropoffTime","dateRequestStr","dateStartStr","dateEndStr","day","hour","getHours","duration","waitingTime","priceStr","$n","Number","fareAmount","fareCurrency","price","distance","distanceMiles","address","beginTripAddress","replace","split","hourChart","BarChart","serviceChart","PieChart","weekChart","RowChart","priceChart","LineChart","addressChart","tripNumber","NumberDisplay","speedNumber","distanceTotalNumber","distanceAvgNumber","durationTotalNumber","durationAvgNumber","waitingTotalNumber","waitingAvgNumber","redrawAll","ndx","allDimension","groupAll","dayOfWeekDimension","dimension","getDay","$days","serviceDimension","addressDimension","dayDimension","hourDimension","allGroup","reduce","p","v","count","distanceTotal","waitingTotal","priceTotal","durationTotal","dayOfWeekGroup","group","reduceCount","serviceGroup","priceGroup","reduceSum","addressGroup","hourGroup","currencyGroup","top","Infinity","currencySymbol","undefined","push","valueAccessor","formatNumber","chart","numberFormatIETF","removeEmptyBins","n","locale","maximumFractionDigits","maximumSignificantDigits","width","node","getBoundingClientRect","height","margins","right","bottom","left","centerBar","gap","x","domain","ordinalColors","yAxis","ticks","xAxis","tickFormat","label","title","elasticX","ordering","indexOf","radius","innerRadius","length","substring","hasFilter","Math","round","minDate","maxDate","createCumulativeGroup","all","cumulate","turnOnControls","curve","xyTipsOn","brushOn","renderArea","elasticY","renderDataPoints","fillOpaaddress","strokeOpaaddress","clipPadding","yAxisLabel","component","ref","$attrs","_t","exportImage","progress","status","error","disabled","blob","extension","filename","files","BaseButton","script","props","type","Array","default","Object","graphId","$store","state","xp","currentTab","totalCount","filterCount","mounted","watch","createTextFilterWidget","parent","placeholder","widget","TextFilterWidget","placeHolder","$tev"],"sourceRoot":""}