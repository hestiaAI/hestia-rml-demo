{"version":3,"file":"DataExperience.umd.min.233.js","mappings":"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","sources":["webpack://DataExperience/./src/components/chart/view/ChartViewDirectedGraph.vue?69f3","webpack://DataExperience/src/components/chart/view/ChartViewDirectedGraph.vue","webpack://DataExperience/./src/components/chart/view/ChartViewDirectedGraph.vue?69c5","webpack://DataExperience/./src/components/chart/view/ChartViewDirectedGraph.vue","webpack://DataExperience/./node_modules/amator/index.js","webpack://DataExperience/./node_modules/bezier-easing/src/index.js","webpack://DataExperience/./node_modules/ngraph.events/index.js","webpack://DataExperience/./node_modules/panzoom/index.js","webpack://DataExperience/./node_modules/panzoom/lib/createTextSelectionInterceptor.js","webpack://DataExperience/./node_modules/panzoom/lib/domController.js","webpack://DataExperience/./node_modules/panzoom/lib/kinetic.js","webpack://DataExperience/./node_modules/panzoom/lib/svgController.js","webpack://DataExperience/./node_modules/panzoom/lib/transform.js","webpack://DataExperience/./node_modules/wheel/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VContainer',[_c('div',{staticClass:\"svg-container\",attrs:{\"id\":_vm.graphId}}),_c('div',[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('directed-graph-disclaimer'))+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <VContainer>\n    <div :id=\"graphId\" class=\"svg-container\"/>\n    <div>\n      <p>\n        {{ $t('directed-graph-disclaimer') }}\n      </p>\n    </div>\n  </VContainer>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport mixin from './mixin'\nimport panzoom from 'panzoom'\nexport default {\n  name: 'NetworkXGraph',\n  mixins: [mixin],\n  props: {\n    width: {\n      type: Number,\n      default: () => 900\n    },\n    height: {\n      type: Number,\n      default: () => 500\n    },\n    padding: {\n      type: Number,\n      default: () => 0\n    },\n    margin: {\n      type: Number,\n      default: () => 0\n    },\n    nodeStrength: {\n      type: Number,\n      default: -400\n    }\n  },\n  data() {\n    return {\n      jsonData: this.values[0].jsonData || { nodes: [], links: {} }\n    }\n  },\n  methods: {\n    zoomToFit() {\n      const bounds = this.svg.node().getBBox()\n      const parent = this.svg.node().parentElement\n      const fullWidth = parent.clientWidth\n      const fullHeight = parent.clientHeight\n      const width = bounds.width\n      const height = bounds.height\n      const midX = bounds.x + width / 2\n      const midY = bounds.y + height / 2\n      if (width === 0 || height === 0) return // nothing to fit\n      const scale = (0.9) / Math.max(width / fullWidth, height / fullHeight)\n      const translate = [fullWidth / 2 - (scale * midX), fullHeight / 2 - (scale * midY)]\n\n      const transform = d3.zoomIdentity\n        .translate(translate[0], translate[1])\n        .scale(scale)\n\n      this.svg.attr('transform', transform)\n    },\n    drawViz() {\n      // Init of everything\n      // Init Svg container\n\n      const height = Math.max(window.innerHeight / 2, 500)\n      d3.select('#' + this.graphId + ' svg').remove()\n      this.svg = d3\n        .select('#' + this.graphId)\n        .append('svg')\n        .attr('width', '100%')\n        .attr('height', height)\n        // .attr('preserveAspectRatio', 'xMinYMin meet')\n        // .attr('viewBox', '0 0 ' + this.width + ' ' + this.height)\n        .classed('svg-content', true)\n        .append('g')\n        .attr('id', `g-${this.graphId}`)\n      this.updateViz()\n    },\n    updateViz() {\n      // Nodes size scale\n      const sizeExtent = d3.extent(this.jsonData.links, d => +d.weight)\n      const size = d3.scaleLinear().domain(sizeExtent).range([10, 40])\n\n      // Edges size scale\n      const weightExtent = d3.extent(this.jsonData.links, d => +d.weight)\n      const weight = d3.scaleLinear().domain(weightExtent).range([1, 10])\n\n      // Init forces\n      const forceNode = d3.forceManyBody()\n      const forceLink = d3.forceLink().id(d => d.id)\n      const forceCollide = d3.forceCollide().radius(d => 16 + size(d.size)).iterations(2)\n      if (this.nodeStrength) forceNode.strength(this.nodeStrength)\n      if (this.linkStrength) forceLink.strength(this.linkStrength)\n\n      // Init simulation\n      const simulation = d3\n        .forceSimulation()\n        .force('link', forceLink)\n        .force('charge', forceNode)\n        .force('center', d3.forceCenter(this.width / 2, this.height / 2))\n        .force('collide', forceCollide)\n\n      // Draw links\n      const link = this.svg\n        .append('g')\n        .attr('id', 'links')\n        .selectAll('line')\n        .data(this.jsonData.links)\n        .enter()\n        .append('line')\n        .attr('stroke-width', d => weight(d.weight))\n        .attr('stroke', 'grey')\n        .attr('fill', 'none')\n\n      // Draw nodes\n      const node = this.svg\n        .append('g')\n        .attr('class', 'nodes')\n        .selectAll('g')\n        .data(this.jsonData.nodes)\n        .enter()\n        .append('g')\n\n      node\n        .append('circle')\n        .attr('r', d => size(d.size))\n        .attr('fill', d => d.color)\n        .attr('stroke', 'white')\n        .attr('stroke-opacity', 1)\n        .attr('stroke-width', function(d) {\n          return 0.05 * size(d.size)\n        })\n        .call(\n          d3\n            .drag()\n            .on('start', dragstarted)\n            .on('drag', dragged)\n            .on('end', dragended)\n        )\n\n      // Draw labels of nodes\n      node\n        .append('text')\n        .text(d => d.id)\n        .attr('x', 0)\n        .attr('y', 3)\n        .attr('text-anchor', 'middle')\n        .attr('text-baseline', 'middle')\n        // prevent text-selection\n        .style('user-select', 'none')\n        // prevent pointer events on text node\n        // to enable dragging the circle element\n        // when the text element is clicked\n        .style('pointer-events', 'none')\n\n      // Title for nodes\n      node.append('title').text(d => d.id)\n\n      // Start simulation\n      simulation.nodes(this.jsonData.nodes).on('tick', ticked)\n      simulation.force('link').links(this.jsonData.links)\n\n      function ticked() {\n        node.attr('transform', function(d) {\n          // radius = 3 + Math.sqrt(d.size)*2;\n          return 'translate(' + d.x + ',' + d.y + ')'\n        })\n\n        link\n          .attr('x1', function(d) {\n            return d.source.x\n          })\n          .attr('y1', function(d) {\n            return d.source.y\n          })\n          .attr('x2', function(d) {\n            return d.target.x\n          })\n          .attr('y2', function(d) {\n            return d.target.y\n          })\n      }\n\n      // Add Legend\n      /*\n      svg.append(\"g\")\n        .attr(\"class\", \"legend\")\n        .style(\"font-size\", \"0.5rem\")\n        .attr(\"transform\", \"translate(20,20)\");\n\n      const colorLegend = d3.legendColor()\n        .labelFormat(d3.format(\".0f\"))\n        .shape(\"path\", d3.symbol().type(d3.symbolCircle).size(150)())\n        .cells(3)\n        .title(\"\")\n        .labelWrap(40)\n        .titleWidth(60)\n        .orient(\"vertical\")\n        .scale(color)\n        .labelOffset(12);\n\n      svg.select(\".legend\")\n        .call(colorLegend);\n      */\n      function dragstarted(evt) {\n        if (!evt.active) { simulation.alphaTarget(0.3).restart() }\n        evt.subject.fx = evt.subject.x\n        evt.subject.fy = evt.subject.y\n      }\n\n      function dragged(evt) {\n        evt.subject.fx = evt.x\n        evt.subject.fy = evt.y\n      }\n\n      function dragended(evt) {\n        if (!evt.active) { simulation.alphaTarget(0) }\n        evt.subject.fx = null\n        evt.subject.fy = null\n      }\n\n      // Add pan & zoom\n      const element = document.getElementById(`g-${this.graphId}`)\n      panzoom(element)\n    }\n  }\n}\n</script>\n<style scoped>\n::v-deep .svg-content {\n  outline: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewDirectedGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewDirectedGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewDirectedGraph.vue?vue&type=template&id=0130075c&scoped=true&\"\nimport script from \"./ChartViewDirectedGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewDirectedGraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChartViewDirectedGraph.vue?vue&type=style&index=0&id=0130075c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0130075c\",\n  null\n  \n)\n\nexport default component.exports","var BezierEasing = require('bezier-easing')\n\n// Predefined set of animations. Similar to CSS easing functions\nvar animations = {\n  ease:  BezierEasing(0.25, 0.1, 0.25, 1),\n  easeIn: BezierEasing(0.42, 0, 1, 1),\n  easeOut: BezierEasing(0, 0, 0.58, 1),\n  easeInOut: BezierEasing(0.42, 0, 0.58, 1),\n  linear: BezierEasing(0, 0, 1, 1)\n}\n\n\nmodule.exports = animate;\nmodule.exports.makeAggregateRaf = makeAggregateRaf;\nmodule.exports.sharedScheduler = makeAggregateRaf();\n\n\nfunction animate(source, target, options) {\n  var start = Object.create(null)\n  var diff = Object.create(null)\n  options = options || {}\n  // We let clients specify their own easing function\n  var easing = (typeof options.easing === 'function') ? options.easing : animations[options.easing]\n\n  // if nothing is specified, default to ease (similar to CSS animations)\n  if (!easing) {\n    if (options.easing) {\n      console.warn('Unknown easing function in amator: ' + options.easing);\n    }\n    easing = animations.ease\n  }\n\n  var step = typeof options.step === 'function' ? options.step : noop\n  var done = typeof options.done === 'function' ? options.done : noop\n\n  var scheduler = getScheduler(options.scheduler)\n\n  var keys = Object.keys(target)\n  keys.forEach(function(key) {\n    start[key] = source[key]\n    diff[key] = target[key] - source[key]\n  })\n\n  var durationInMs = typeof options.duration === 'number' ? options.duration : 400\n  var durationInFrames = Math.max(1, durationInMs * 0.06) // 0.06 because 60 frames pers 1,000 ms\n  var previousAnimationId\n  var frame = 0\n\n  previousAnimationId = scheduler.next(loop)\n\n  return {\n    cancel: cancel\n  }\n\n  function cancel() {\n    scheduler.cancel(previousAnimationId)\n    previousAnimationId = 0\n  }\n\n  function loop() {\n    var t = easing(frame/durationInFrames)\n    frame += 1\n    setValues(t)\n    if (frame <= durationInFrames) {\n      previousAnimationId = scheduler.next(loop)\n      step(source)\n    } else {\n      previousAnimationId = 0\n      setTimeout(function() { done(source) }, 0)\n    }\n  }\n\n  function setValues(t) {\n    keys.forEach(function(key) {\n      source[key] = diff[key] * t + start[key]\n    })\n  }\n}\n\nfunction noop() { }\n\nfunction getScheduler(scheduler) {\n  if (!scheduler) {\n    var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame\n    return canRaf ? rafScheduler() : timeoutScheduler()\n  }\n  if (typeof scheduler.next !== 'function') throw new Error('Scheduler is supposed to have next(cb) function')\n  if (typeof scheduler.cancel !== 'function') throw new Error('Scheduler is supposed to have cancel(handle) function')\n\n  return scheduler\n}\n\nfunction rafScheduler() {\n  return {\n    next: window.requestAnimationFrame.bind(window),\n    cancel: window.cancelAnimationFrame.bind(window)\n  }\n}\n\nfunction timeoutScheduler() {\n  return {\n    next: function(cb) {\n      return setTimeout(cb, 1000/60)\n    },\n    cancel: function (id) {\n      return clearTimeout(id)\n    }\n  }\n}\n\nfunction makeAggregateRaf() {\n  var frontBuffer = new Set();\n  var backBuffer = new Set();\n  var frameToken = 0;\n\n  return {\n    next: next,\n    cancel: next,\n    clearAll: clearAll\n  }\n\n  function clearAll() {\n    frontBuffer.clear();\n    backBuffer.clear();\n    cancelAnimationFrame(frameToken);\n    frameToken = 0;\n  }\n\n  function next(callback) {\n    backBuffer.add(callback);\n    renderNextFrame();\n  }\n\n  function renderNextFrame() {\n    if (!frameToken) frameToken = requestAnimationFrame(renderFrame);\n  }\n\n  function renderFrame() {\n    frameToken = 0;\n\n    var t = backBuffer;\n    backBuffer = frontBuffer;\n    frontBuffer = t;\r\n\n    frontBuffer.forEach(function(callback) {\n      callback();\n    });\n    frontBuffer.clear();\n  }\n\n  function cancel(callback) {\n    backBuffer.delete(callback);\n  }\n}\n","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n","module.exports = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n","'use strict';\n/**\n * Allows to drag and zoom svg elements\n */\nvar wheel = require('wheel');\nvar animate = require('amator');\nvar eventify = require('ngraph.events');\nvar kinetic = require('./lib/kinetic.js');\nvar createTextSelectionInterceptor = require('./lib/createTextSelectionInterceptor.js');\nvar domTextSelectionInterceptor = createTextSelectionInterceptor();\nvar fakeTextSelectorInterceptor = createTextSelectionInterceptor(true);\nvar Transform = require('./lib/transform.js');\nvar makeSvgController = require('./lib/svgController.js');\nvar makeDomController = require('./lib/domController.js');\n\nvar defaultZoomSpeed = 1;\nvar defaultDoubleTapZoomSpeed = 1.75;\nvar doubleTapSpeedInMS = 300;\nvar clickEventTimeInMS = 200;\n\nmodule.exports = createPanZoom;\n\n/**\n * Creates a new instance of panzoom, so that an object can be panned and zoomed\n *\n * @param {DOMElement} domElement where panzoom should be attached.\n * @param {Object} options that configure behavior.\n */\nfunction createPanZoom(domElement, options) {\n  options = options || {};\n\n  var panController = options.controller;\n\n  if (!panController) {\n    if (makeSvgController.canAttach(domElement)) {\n      panController = makeSvgController(domElement, options);\n    } else if (makeDomController.canAttach(domElement)) {\n      panController = makeDomController(domElement, options);\n    }\n  }\n\n  if (!panController) {\n    throw new Error(\n      'Cannot create panzoom for the current type of dom element'\n    );\n  }\n  var owner = panController.getOwner();\n  // just to avoid GC pressure, every time we do intermediate transform\n  // we return this object. For internal use only. Never give it back to the consumer of this library\n  var storedCTMResult = { x: 0, y: 0 };\n\n  var isDirty = false;\n  var transform = new Transform();\n\n  if (panController.initTransform) {\n    panController.initTransform(transform);\n  }\n\n  var filterKey = typeof options.filterKey === 'function' ? options.filterKey : noop;\n  // TODO: likely need to unite pinchSpeed with zoomSpeed\n  var pinchSpeed = typeof options.pinchSpeed === 'number' ? options.pinchSpeed : 1;\n  var bounds = options.bounds;\n  var maxZoom = typeof options.maxZoom === 'number' ? options.maxZoom : Number.POSITIVE_INFINITY;\n  var minZoom = typeof options.minZoom === 'number' ? options.minZoom : 0;\n\n  var boundsPadding = typeof options.boundsPadding === 'number' ? options.boundsPadding : 0.05;\n  var zoomDoubleClickSpeed = typeof options.zoomDoubleClickSpeed === 'number' ? options.zoomDoubleClickSpeed : defaultDoubleTapZoomSpeed;\n  var beforeWheel = options.beforeWheel || noop;\n  var beforeMouseDown = options.beforeMouseDown || noop;\n  var speed = typeof options.zoomSpeed === 'number' ? options.zoomSpeed : defaultZoomSpeed;\n  var transformOrigin = parseTransformOrigin(options.transformOrigin);\n  var textSelection = options.enableTextSelection ? fakeTextSelectorInterceptor : domTextSelectionInterceptor;\n\n  validateBounds(bounds);\n\n  if (options.autocenter) {\n    autocenter();\n  }\n\n  var frameAnimation;\n  var lastTouchEndTime = 0;\n  var lastTouchStartTime = 0;\n  var pendingClickEventTimeout = 0;\n  var lastMouseDownedEvent = null;\n  var lastMouseDownTime = new Date();\n  var lastSingleFingerOffset;\n  var touchInProgress = false;\n\n  // We only need to fire panstart when actual move happens\n  var panstartFired = false;\n\n  // cache mouse coordinates here\n  var mouseX;\n  var mouseY;\n\n  // Where the first click has happened, so that we can differentiate\n  // between pan and click\n  var clickX;\n  var clickY;\n\n  var pinchZoomLength;\n\n  var smoothScroll;\n  if ('smoothScroll' in options && !options.smoothScroll) {\n    // If user explicitly asked us not to use smooth scrolling, we obey\n    smoothScroll = rigidScroll();\n  } else {\n    // otherwise we use forward smoothScroll settings to kinetic API\n    // which makes scroll smoothing.\n    smoothScroll = kinetic(getPoint, scroll, options.smoothScroll);\n  }\n\n  var moveByAnimation;\n  var zoomToAnimation;\n\n  var multiTouch;\n  var paused = false;\n\n  listenForEvents();\n\n  var api = {\n    dispose: dispose,\n    moveBy: internalMoveBy,\n    moveTo: moveTo,\n    smoothMoveTo: smoothMoveTo, \n    centerOn: centerOn,\n    zoomTo: publicZoomTo,\n    zoomAbs: zoomAbs,\n    smoothZoom: smoothZoom,\n    smoothZoomAbs: smoothZoomAbs,\n    showRectangle: showRectangle,\n\n    pause: pause,\n    resume: resume,\n    isPaused: isPaused,\n\n    getTransform: getTransformModel,\n\n    getMinZoom: getMinZoom,\n    setMinZoom: setMinZoom,\n\n    getMaxZoom: getMaxZoom,\n    setMaxZoom: setMaxZoom,\n\n    getTransformOrigin: getTransformOrigin,\n    setTransformOrigin: setTransformOrigin,\n\n    getZoomSpeed: getZoomSpeed,\n    setZoomSpeed: setZoomSpeed\n  };\n\n  eventify(api);\n  \n  var initialX = typeof options.initialX === 'number' ? options.initialX : transform.x;\n  var initialY = typeof options.initialY === 'number' ? options.initialY : transform.y;\n  var initialZoom = typeof options.initialZoom === 'number' ? options.initialZoom : transform.scale;\n\n  if(initialX != transform.x || initialY != transform.y || initialZoom != transform.scale){\n    zoomAbs(initialX, initialY, initialZoom);\n  }\n\n  return api;\n\n  function pause() {\n    releaseEvents();\n    paused = true;\n  }\n\n  function resume() {\n    if (paused) {\n      listenForEvents();\n      paused = false;\n    }\n  }\n\n  function isPaused() {\n    return paused;\n  }\n\n  function showRectangle(rect) {\n    // TODO: this duplicates autocenter. I think autocenter should go.\n    var clientRect = owner.getBoundingClientRect();\n    var size = transformToScreen(clientRect.width, clientRect.height);\n\n    var rectWidth = rect.right - rect.left;\n    var rectHeight = rect.bottom - rect.top;\n    if (!Number.isFinite(rectWidth) || !Number.isFinite(rectHeight)) {\n      throw new Error('Invalid rectangle');\n    }\n\n    var dw = size.x / rectWidth;\n    var dh = size.y / rectHeight;\n    var scale = Math.min(dw, dh);\n    transform.x = -(rect.left + rectWidth / 2) * scale + size.x / 2;\n    transform.y = -(rect.top + rectHeight / 2) * scale + size.y / 2;\n    transform.scale = scale;\n  }\n\n  function transformToScreen(x, y) {\n    if (panController.getScreenCTM) {\n      var parentCTM = panController.getScreenCTM();\n      var parentScaleX = parentCTM.a;\n      var parentScaleY = parentCTM.d;\n      var parentOffsetX = parentCTM.e;\n      var parentOffsetY = parentCTM.f;\n      storedCTMResult.x = x * parentScaleX - parentOffsetX;\n      storedCTMResult.y = y * parentScaleY - parentOffsetY;\n    } else {\n      storedCTMResult.x = x;\n      storedCTMResult.y = y;\n    }\n\n    return storedCTMResult;\n  }\n\n  function autocenter() {\n    var w; // width of the parent\n    var h; // height of the parent\n    var left = 0;\n    var top = 0;\n    var sceneBoundingBox = getBoundingBox();\n    if (sceneBoundingBox) {\n      // If we have bounding box - use it.\n      left = sceneBoundingBox.left;\n      top = sceneBoundingBox.top;\n      w = sceneBoundingBox.right - sceneBoundingBox.left;\n      h = sceneBoundingBox.bottom - sceneBoundingBox.top;\n    } else {\n      // otherwise just use whatever space we have\n      var ownerRect = owner.getBoundingClientRect();\n      w = ownerRect.width;\n      h = ownerRect.height;\n    }\n    var bbox = panController.getBBox();\n    if (bbox.width === 0 || bbox.height === 0) {\n      // we probably do not have any elements in the SVG\n      // just bail out;\n      return;\n    }\n    var dh = h / bbox.height;\n    var dw = w / bbox.width;\n    var scale = Math.min(dw, dh);\n    transform.x = -(bbox.left + bbox.width / 2) * scale + w / 2 + left;\n    transform.y = -(bbox.top + bbox.height / 2) * scale + h / 2 + top;\n    transform.scale = scale;\n  }\n\n  function getTransformModel() {\n    // TODO: should this be read only?\n    return transform;\n  }\n\n  function getMinZoom() {\n    return minZoom;\n  }\n\n  function setMinZoom(newMinZoom) {\n    minZoom = newMinZoom;\n  }\n\n  function getMaxZoom() {\n    return maxZoom;\n  }\n\n  function setMaxZoom(newMaxZoom) {\n    maxZoom = newMaxZoom;\n  }\n\n  function getTransformOrigin() {\n    return transformOrigin;\n  }\n\n  function setTransformOrigin(newTransformOrigin) {\n    transformOrigin = parseTransformOrigin(newTransformOrigin);\n  }\n\n  function getZoomSpeed() {\n    return speed;\n  }\n\n  function setZoomSpeed(newSpeed) {\n    if (!Number.isFinite(newSpeed)) {\n      throw new Error('Zoom speed should be a number');\n    }\n    speed = newSpeed;\n  }\n\n  function getPoint() {\n    return {\n      x: transform.x,\n      y: transform.y\n    };\n  }\n\n  function moveTo(x, y) {\n    transform.x = x;\n    transform.y = y;\n\n    keepTransformInsideBounds();\n\n    triggerEvent('pan');\n    makeDirty();\n  }\n\n  function moveBy(dx, dy) {\n    moveTo(transform.x + dx, transform.y + dy);\n  }\n\n  function keepTransformInsideBounds() {\n    var boundingBox = getBoundingBox();\n    if (!boundingBox) return;\n\n    var adjusted = false;\n    var clientRect = getClientRect();\n\n    var diff = boundingBox.left - clientRect.right;\n    if (diff > 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n    // check the other side:\n    diff = boundingBox.right - clientRect.left;\n    if (diff < 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n\n    // y axis:\n    diff = boundingBox.top - clientRect.bottom;\n    if (diff > 0) {\n      // we adjust transform, so that it matches exactly our bounding box:\n      // transform.y = boundingBox.top - (boundingBox.height + boundingBox.y) * transform.scale =>\n      // transform.y = boundingBox.top - (clientRect.bottom - transform.y) =>\n      // transform.y = diff + transform.y =>\n      transform.y += diff;\n      adjusted = true;\n    }\n\n    diff = boundingBox.bottom - clientRect.top;\n    if (diff < 0) {\n      transform.y += diff;\n      adjusted = true;\n    }\n    return adjusted;\n  }\n\n  /**\n   * Returns bounding box that should be used to restrict scene movement.\n   */\n  function getBoundingBox() {\n    if (!bounds) return; // client does not want to restrict movement\n\n    if (typeof bounds === 'boolean') {\n      // for boolean type we use parent container bounds\n      var ownerRect = owner.getBoundingClientRect();\n      var sceneWidth = ownerRect.width;\n      var sceneHeight = ownerRect.height;\n\n      return {\n        left: sceneWidth * boundsPadding,\n        top: sceneHeight * boundsPadding,\n        right: sceneWidth * (1 - boundsPadding),\n        bottom: sceneHeight * (1 - boundsPadding)\n      };\n    }\n\n    return bounds;\n  }\n\n  function getClientRect() {\n    var bbox = panController.getBBox();\n    var leftTop = client(bbox.left, bbox.top);\n\n    return {\n      left: leftTop.x,\n      top: leftTop.y,\n      right: bbox.width * transform.scale + leftTop.x,\n      bottom: bbox.height * transform.scale + leftTop.y\n    };\n  }\n\n  function client(x, y) {\n    return {\n      x: x * transform.scale + transform.x,\n      y: y * transform.scale + transform.y\n    };\n  }\n\n  function makeDirty() {\n    isDirty = true;\n    frameAnimation = window.requestAnimationFrame(frame);\n  }\n\n  function zoomByRatio(clientX, clientY, ratio) {\n    if (isNaN(clientX) || isNaN(clientY) || isNaN(ratio)) {\n      throw new Error('zoom requires valid numbers');\n    }\n\n    var newScale = transform.scale * ratio;\n\n    if (newScale < minZoom) {\n      if (transform.scale === minZoom) return;\n\n      ratio = minZoom / transform.scale;\n    }\n    if (newScale > maxZoom) {\n      if (transform.scale === maxZoom) return;\n\n      ratio = maxZoom / transform.scale;\n    }\n\n    var size = transformToScreen(clientX, clientY);\n\n    transform.x = size.x - ratio * (size.x - transform.x);\n    transform.y = size.y - ratio * (size.y - transform.y);\n\n    // TODO: https://github.com/anvaka/panzoom/issues/112\n    if (bounds && boundsPadding === 1 && minZoom === 1) {\n      transform.scale *= ratio;\n      keepTransformInsideBounds();\n    } else {\n      var transformAdjusted = keepTransformInsideBounds();\n      if (!transformAdjusted) transform.scale *= ratio;\n    }\n\n    triggerEvent('zoom');\n\n    makeDirty();\n  }\n\n  function zoomAbs(clientX, clientY, zoomLevel) {\n    var ratio = zoomLevel / transform.scale;\n    zoomByRatio(clientX, clientY, ratio);\n  }\n\n  function centerOn(ui) {\n    var parent = ui.ownerSVGElement;\n    if (!parent)\n      throw new Error('ui element is required to be within the scene');\n\n    // TODO: should i use controller's screen CTM?\n    var clientRect = ui.getBoundingClientRect();\n    var cx = clientRect.left + clientRect.width / 2;\n    var cy = clientRect.top + clientRect.height / 2;\n\n    var container = parent.getBoundingClientRect();\n    var dx = container.width / 2 - cx;\n    var dy = container.height / 2 - cy;\n\n    internalMoveBy(dx, dy, true);\n  }\n\n  function smoothMoveTo(x, y){\n    internalMoveBy(x - transform.x, y - transform.y, true);\n  }\n\n  function internalMoveBy(dx, dy, smooth) {\n    if (!smooth) {\n      return moveBy(dx, dy);\n    }\n\n    if (moveByAnimation) moveByAnimation.cancel();\n\n    var from = { x: 0, y: 0 };\n    var to = { x: dx, y: dy };\n    var lastX = 0;\n    var lastY = 0;\n\n    moveByAnimation = animate(from, to, {\n      step: function (v) {\n        moveBy(v.x - lastX, v.y - lastY);\n\n        lastX = v.x;\n        lastY = v.y;\n      }\n    });\n  }\n\n  function scroll(x, y) {\n    cancelZoomAnimation();\n    moveTo(x, y);\n  }\n\n  function dispose() {\n    releaseEvents();\n  }\n\n  function listenForEvents() {\n    owner.addEventListener('mousedown', onMouseDown, { passive: false });\n    owner.addEventListener('dblclick', onDoubleClick, { passive: false });\n    owner.addEventListener('touchstart', onTouch, { passive: false });\n    owner.addEventListener('keydown', onKeyDown, { passive: false });\n\n    // Need to listen on the owner container, so that we are not limited\n    // by the size of the scrollable domElement\n    wheel.addWheelListener(owner, onMouseWheel, { passive: false });\n\n    makeDirty();\n  }\n\n  function releaseEvents() {\n    wheel.removeWheelListener(owner, onMouseWheel);\n    owner.removeEventListener('mousedown', onMouseDown);\n    owner.removeEventListener('keydown', onKeyDown);\n    owner.removeEventListener('dblclick', onDoubleClick);\n    owner.removeEventListener('touchstart', onTouch);\n\n    if (frameAnimation) {\n      window.cancelAnimationFrame(frameAnimation);\n      frameAnimation = 0;\n    }\n\n    smoothScroll.cancel();\n\n    releaseDocumentMouse();\n    releaseTouches();\n    textSelection.release();\n\n    triggerPanEnd();\n  }\n\n  function frame() {\n    if (isDirty) applyTransform();\n  }\n\n  function applyTransform() {\n    isDirty = false;\n\n    // TODO: Should I allow to cancel this?\n    panController.applyTransform(transform);\n\n    triggerEvent('transform');\n    frameAnimation = 0;\n  }\n\n  function onKeyDown(e) {\n    var x = 0,\n      y = 0,\n      z = 0;\n    if (e.keyCode === 38) {\n      y = 1; // up\n    } else if (e.keyCode === 40) {\n      y = -1; // down\n    } else if (e.keyCode === 37) {\n      x = 1; // left\n    } else if (e.keyCode === 39) {\n      x = -1; // right\n    } else if (e.keyCode === 189 || e.keyCode === 109) {\n      // DASH or SUBTRACT\n      z = 1; // `-` -  zoom out\n    } else if (e.keyCode === 187 || e.keyCode === 107) {\n      // EQUAL SIGN or ADD\n      z = -1; // `=` - zoom in (equal sign on US layout is under `+`)\n    }\n\n    if (filterKey(e, x, y, z)) {\n      // They don't want us to handle the key: https://github.com/anvaka/panzoom/issues/45\n      return;\n    }\n\n    if (x || y) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var clientRect = owner.getBoundingClientRect();\n      // movement speed should be the same in both X and Y direction:\n      var offset = Math.min(clientRect.width, clientRect.height);\n      var moveSpeedRatio = 0.05;\n      var dx = offset * moveSpeedRatio * x;\n      var dy = offset * moveSpeedRatio * y;\n\n      // TODO: currently we do not animate this. It could be better to have animation\n      internalMoveBy(dx, dy);\n    }\n\n    if (z) {\n      var scaleMultiplier = getScaleMultiplier(z * 100);\n      var offset = transformOrigin ? getTransformOriginOffset() : midPoint();\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n    }\n  }\n\n  function midPoint() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width / 2,\n      y: ownerRect.height / 2\n    };\n  }\n\n  function onTouch(e) {\n    // let them override the touch behavior\n    beforeTouch(e);\n    clearPendingClickEventTimeout();\n\n    if (e.touches.length === 1) {\n      return handleSingleFingerTouch(e, e.touches[0]);\n    } else if (e.touches.length === 2) {\n      // handleTouchMove() will care about pinch zoom.\n      pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n      multiTouch = true;\n      startTouchListenerIfNeeded();\n    }\n  }\n\n  function beforeTouch(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeTouch`\n    if (options.onTouch && !options.onTouch(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/12\n      return;\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function beforeDoubleClick(e) {\n    clearPendingClickEventTimeout();\n\n    // TODO: Need to unify this filtering names. E.g. use `beforeDoubleClick``\n    if (options.onDoubleClick && !options.onDoubleClick(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/46\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function handleSingleFingerTouch(e) {\n    lastTouchStartTime = new Date();\n    var touch = e.touches[0];\n    var offset = getOffsetXY(touch);\n    lastSingleFingerOffset = offset;\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n    clickX = mouseX;\n    clickY = mouseY;\n\n    smoothScroll.cancel();\n    startTouchListenerIfNeeded();\n  }\n\n  function startTouchListenerIfNeeded() {\n    if (touchInProgress) {\n      // no need to do anything, as we already listen to events;\n      return;\n    }\n\n    touchInProgress = true;\n    document.addEventListener('touchmove', handleTouchMove);\n    document.addEventListener('touchend', handleTouchEnd);\n    document.addEventListener('touchcancel', handleTouchEnd);\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length === 1) {\n      e.stopPropagation();\n      var touch = e.touches[0];\n\n      var offset = getOffsetXY(touch);\n      var point = transformToScreen(offset.x, offset.y);\n\n      var dx = point.x - mouseX;\n      var dy = point.y - mouseY;\n\n      if (dx !== 0 && dy !== 0) {\n        triggerPanStart();\n      }\n      mouseX = point.x;\n      mouseY = point.y;\n      internalMoveBy(dx, dy);\n    } else if (e.touches.length === 2) {\n      // it's a zoom, let's find direction\n      multiTouch = true;\n      var t1 = e.touches[0];\n      var t2 = e.touches[1];\n      var currentPinchLength = getPinchZoomLength(t1, t2);\n\n      // since the zoom speed is always based on distance from 1, we need to apply\n      // pinch speed only on that distance from 1:\n      var scaleMultiplier =\n        1 + (currentPinchLength / pinchZoomLength - 1) * pinchSpeed;\n\n      var firstTouchPoint = getOffsetXY(t1);\n      var secondTouchPoint = getOffsetXY(t2);\n      mouseX = (firstTouchPoint.x + secondTouchPoint.x) / 2;\n      mouseY = (firstTouchPoint.y + secondTouchPoint.y) / 2;\n      if (transformOrigin) {\n        var offset = getTransformOriginOffset();\n        mouseX = offset.x;\n        mouseY = offset.y;\n      }\n\n      publicZoomTo(mouseX, mouseY, scaleMultiplier);\n\n      pinchZoomLength = currentPinchLength;\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  function clearPendingClickEventTimeout() {\n    if (pendingClickEventTimeout) {\n      clearTimeout(pendingClickEventTimeout);\n      pendingClickEventTimeout = 0;\n    }\n  }\n\n  function handlePotentialClickEvent(e) {\n    // we could still be in the double tap mode, let's wait until double tap expires,\n    // and then notify:\n    if (!options.onClick) return;\n    clearPendingClickEventTimeout();\n    var dx = mouseX - clickX;\n    var dy = mouseY - clickY;\n    var l = Math.sqrt(dx * dx + dy * dy);\n    if (l > 5) return; // probably they are panning, ignore it\n\n    pendingClickEventTimeout = setTimeout(function() {\n      pendingClickEventTimeout = 0;\n      options.onClick(e);\n    }, doubleTapSpeedInMS);\n  }\n\n  function handleTouchEnd(e) {\n    clearPendingClickEventTimeout();\n    if (e.touches.length > 0) {\n      var offset = getOffsetXY(e.touches[0]);\n      var point = transformToScreen(offset.x, offset.y);\n      mouseX = point.x;\n      mouseY = point.y;\n    } else {\n      var now = new Date();\n      if (now - lastTouchEndTime < doubleTapSpeedInMS) {\n        // They did a double tap here\n        if (transformOrigin) {\n          var offset = getTransformOriginOffset();\n          smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n        } else {\n          // We want untransformed x/y here.\n          smoothZoom(lastSingleFingerOffset.x, lastSingleFingerOffset.y, zoomDoubleClickSpeed);\n        }\n      } else if (now - lastTouchStartTime < clickEventTimeInMS) {\n        handlePotentialClickEvent(e);\n      }\n\n      lastTouchEndTime = now;\n\n      triggerPanEnd();\n      releaseTouches();\n    }\n  }\n\n  function getPinchZoomLength(finger1, finger2) {\n    var dx = finger1.clientX - finger2.clientX;\n    var dy = finger1.clientY - finger2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function onDoubleClick(e) {\n    beforeDoubleClick(e);\n    var offset = getOffsetXY(e);\n    if (transformOrigin) {\n      // TODO: looks like this is duplicated in the file.\n      // Need to refactor\n      offset = getTransformOriginOffset();\n    }\n    smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n  }\n\n  function onMouseDown(e) {\n    clearPendingClickEventTimeout();\n\n    // if client does not want to handle this event - just ignore the call\n    if (beforeMouseDown(e)) return;\n\n    lastMouseDownedEvent = e;\n    lastMouseDownTime = new Date();\n\n    if (touchInProgress) {\n      // modern browsers will fire mousedown for touch events too\n      // we do not want this: touch is handled separately.\n      e.stopPropagation();\n      return false;\n    }\n    // for IE, left click == 1\n    // for Firefox, left click == 0\n    var isLeftButton =\n      (e.button === 1 && window.event !== null) || e.button === 0;\n    if (!isLeftButton) return;\n\n    smoothScroll.cancel();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    clickX = mouseX = point.x;\n    clickY = mouseY = point.y;\n\n    // We need to listen on document itself, since mouse can go outside of the\n    // window, and we will loose it\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    textSelection.capture(e.target || e.srcElement);\n\n    return false;\n  }\n\n  function onMouseMove(e) {\n    // no need to worry about mouse events when touch is happening\n    if (touchInProgress) return;\n\n    triggerPanStart();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    var dx = point.x - mouseX;\n    var dy = point.y - mouseY;\n\n    mouseX = point.x;\n    mouseY = point.y;\n\n    internalMoveBy(dx, dy);\n  }\n\n  function onMouseUp() {\n    var now = new Date();\n    if (now - lastMouseDownTime < clickEventTimeInMS) handlePotentialClickEvent(lastMouseDownedEvent);\n    textSelection.release();\n    triggerPanEnd();\n    releaseDocumentMouse();\n  }\n\n  function releaseDocumentMouse() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    panstartFired = false;\n  }\n\n  function releaseTouches() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n    panstartFired = false;\n    multiTouch = false;\n    touchInProgress = false;\n  }\n\n  function onMouseWheel(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeWheel(e)) return;\n\n    smoothScroll.cancel();\n\n    var delta = e.deltaY;\n    if (e.deltaMode > 0) delta *= 100;\n\n    var scaleMultiplier = getScaleMultiplier(delta);\n\n    if (scaleMultiplier !== 1) {\n      var offset = transformOrigin\n        ? getTransformOriginOffset()\n        : getOffsetXY(e);\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n      e.preventDefault();\n    }\n  }\n\n  function getOffsetXY(e) {\n    var offsetX, offsetY;\n    // I tried using e.offsetX, but that gives wrong results for svg, when user clicks on a path.\n    var ownerRect = owner.getBoundingClientRect();\n    offsetX = e.clientX - ownerRect.left;\n    offsetY = e.clientY - ownerRect.top;\n\n    return { x: offsetX, y: offsetY };\n  }\n\n  function smoothZoom(clientX, clientY, scaleMultiplier) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: scaleMultiplier * fromValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      },\n      done: triggerZoomEnd\n    });\n  }\n\n  function smoothZoomAbs(clientX, clientY, toScaleValue) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: toScaleValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      }\n    });\n  }\n\n  function getTransformOriginOffset() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width * transformOrigin.x,\n      y: ownerRect.height * transformOrigin.y\n    };\n  }\n\n  function publicZoomTo(clientX, clientY, scaleMultiplier) {\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n    return zoomByRatio(clientX, clientY, scaleMultiplier);\n  }\n\n  function cancelZoomAnimation() {\n    if (zoomToAnimation) {\n      zoomToAnimation.cancel();\n      zoomToAnimation = null;\n    }\n  }\n\n  function getScaleMultiplier(delta) {\n    var sign = Math.sign(delta);\n    var deltaAdjustedSpeed = Math.min(0.25, Math.abs(speed * delta / 128));\n    return 1 - sign * deltaAdjustedSpeed;\n  }\n\n  function triggerPanStart() {\n    if (!panstartFired) {\n      triggerEvent('panstart');\n      panstartFired = true;\n      smoothScroll.start();\n    }\n  }\n\n  function triggerPanEnd() {\n    if (panstartFired) {\n      // we should never run smooth scrolling if it was multiTouch (pinch zoom animation):\n      if (!multiTouch) smoothScroll.stop();\n      triggerEvent('panend');\n    }\n  }\n\n  function triggerZoomEnd() {\n    triggerEvent('zoomend');\n  }\n\n  function triggerEvent(name) {\n    api.fire(name, api);\n  }\n}\n\nfunction parseTransformOrigin(options) {\n  if (!options) return;\n  if (typeof options === 'object') {\n    if (!isNumber(options.x) || !isNumber(options.y))\n      failTransformOrigin(options);\n    return options;\n  }\n\n  failTransformOrigin();\n}\n\nfunction failTransformOrigin(options) {\n  console.error(options);\n  throw new Error(\n    [\n      'Cannot parse transform origin.',\n      'Some good examples:',\n      '  \"center center\" can be achieved with {x: 0.5, y: 0.5}',\n      '  \"top center\" can be achieved with {x: 0.5, y: 0}',\n      '  \"bottom right\" can be achieved with {x: 1, y: 1}'\n    ].join('\\n')\n  );\n}\n\nfunction noop() { }\n\nfunction validateBounds(bounds) {\n  var boundsType = typeof bounds;\n  if (boundsType === 'undefined' || boundsType === 'boolean') return; // this is okay\n  // otherwise need to be more thorough:\n  var validBounds =\n    isNumber(bounds.left) &&\n    isNumber(bounds.top) &&\n    isNumber(bounds.bottom) &&\n    isNumber(bounds.right);\n\n  if (!validBounds)\n    throw new Error(\n      'Bounds object is not valid. It can be: ' +\n      'undefined, boolean (true|false) or an object {left, top, right, bottom}'\n    );\n}\n\nfunction isNumber(x) {\n  return Number.isFinite(x);\n}\n\n// IE 11 does not support isNaN:\nfunction isNaN(value) {\n  if (Number.isNaN) {\n    return Number.isNaN(value);\n  }\n\n  return value !== value;\n}\n\nfunction rigidScroll() {\n  return {\n    start: noop,\n    stop: noop,\n    cancel: noop\n  };\n}\n\nfunction autoRun() {\n  if (typeof document === 'undefined') return;\n\n  var scripts = document.getElementsByTagName('script');\n  if (!scripts) return;\n  var panzoomScript;\n\n  for (var i = 0; i < scripts.length; ++i) {\n    var x = scripts[i];\n    if (x.src && x.src.match(/\\bpanzoom(\\.min)?\\.js/)) {\n      panzoomScript = x;\n      break;\n    }\n  }\n\n  if (!panzoomScript) return;\n\n  var query = panzoomScript.getAttribute('query');\n  if (!query) return;\n\n  var globalName = panzoomScript.getAttribute('name') || 'pz';\n  var started = Date.now();\n\n  tryAttach();\n\n  function tryAttach() {\n    var el = document.querySelector(query);\n    if (!el) {\n      var now = Date.now();\n      var elapsed = now - started;\n      if (elapsed < 2000) {\n        // Let's wait a bit\n        setTimeout(tryAttach, 100);\n        return;\n      }\n      // If we don't attach within 2 seconds to the target element, consider it a failure\n      console.error('Cannot find the panzoom element', globalName);\n      return;\n    }\n    var options = collectOptions(panzoomScript);\n    console.log(options);\n    window[globalName] = createPanZoom(el, options);\n  }\n\n  function collectOptions(script) {\n    var attrs = script.attributes;\n    var options = {};\n    for (var j = 0; j < attrs.length; ++j) {\n      var attr = attrs[j];\n      var nameValue = getPanzoomAttributeNameValue(attr);\n      if (nameValue) {\n        options[nameValue.name] = nameValue.value;\n      }\n    }\n\n    return options;\n  }\n\n  function getPanzoomAttributeNameValue(attr) {\n    if (!attr.name) return;\n    var isPanZoomAttribute =\n      attr.name[0] === 'p' && attr.name[1] === 'z' && attr.name[2] === '-';\n\n    if (!isPanZoomAttribute) return;\n\n    var name = attr.name.substr(3);\n    var value = JSON.parse(attr.value);\n    return { name: name, value: value };\n  }\n}\n\nautoRun();\n\t","/**\n * Disallows selecting text.\n */\nmodule.exports = createTextSelectionInterceptor;\n\nfunction createTextSelectionInterceptor(useFake) {\n  if (useFake) {\n    return {\n      capture: noop,\n      release: noop\n    };\n  }\n\n  var dragObject;\n  var prevSelectStart;\n  var prevDragStart;\n  var wasCaptured = false;\n\n  return {\n    capture: capture,\n    release: release\n  };\n\n  function capture(domObject) {\n    wasCaptured = true;\n    prevSelectStart = window.document.onselectstart;\n    prevDragStart = window.document.ondragstart;\n\n    window.document.onselectstart = disabled;\n\n    dragObject = domObject;\n    dragObject.ondragstart = disabled;\n  }\n\n  function release() {\n    if (!wasCaptured) return;\n    \n    wasCaptured = false;\n    window.document.onselectstart = prevSelectStart;\n    if (dragObject) dragObject.ondragstart = prevDragStart;\n  }\n}\n\nfunction disabled(e) {\n  e.stopPropagation();\n  return false;\n}\n\nfunction noop() {}\n","module.exports = makeDomController;\n\nmodule.exports.canAttach = isDomElement;\n\nfunction makeDomController(domElement, options) {\n  var elementValid = isDomElement(domElement); \n  if (!elementValid) {\n    throw new Error('panzoom requires DOM element to be attached to the DOM tree');\n  }\n\n  var owner = domElement.parentElement;\n  domElement.scrollTop = 0;\n  \n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n  };\n  \n  return api;\n\n  function getOwner() {\n    return owner;\n  }\n\n  function getBBox() {\n    // TODO: We should probably cache this?\n    return  {\n      left: 0,\n      top: 0,\n      width: domElement.clientWidth,\n      height: domElement.clientHeight\n    };\n  }\n\n  function applyTransform(transform) {\n    // TODO: Should we cache this?\n    domElement.style.transformOrigin = '0 0 0';\n    domElement.style.transform = 'matrix(' +\n      transform.scale + ', 0, 0, ' +\n      transform.scale + ', ' +\n      transform.x + ', ' + transform.y + ')';\n  }\n}\n\nfunction isDomElement(element) {\n  return element && element.parentElement && element.style;\n}\n","/**\n * Allows smooth kinetic scrolling of the surface\n */\nmodule.exports = kinetic;\n\nfunction kinetic(getPoint, scroll, settings) {\n  if (typeof settings !== 'object') {\n    // setting could come as boolean, we should ignore it, and use an object.\n    settings = {};\n  }\n\n  var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;\n  var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;\n  var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function' ? settings.cancelAnimationFrame : getCancelAnimationFrame();\n  var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function' ? settings.requestAnimationFrame : getRequestAnimationFrame();\n\n  var lastPoint;\n  var timestamp;\n  var timeConstant = 342;\n\n  var ticker;\n  var vx, targetX, ax;\n  var vy, targetY, ay;\n\n  var raf;\n\n  return {\n    start: start,\n    stop: stop,\n    cancel: dispose\n  };\n\n  function dispose() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n  }\n\n  function start() {\n    lastPoint = getPoint();\n\n    ax = ay = vx = vy = 0;\n    timestamp = new Date();\n\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n    ticker = requestAnimationFrame(track);\n  }\n\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n\n    var currentPoint = getPoint();\n\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n\n    lastPoint = currentPoint;\n\n    var dt = 1000 / (1 + elapsed);\n\n    // moving average\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n\n    ticker = requestAnimationFrame(track);\n  }\n\n  function stop() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    var currentPoint = getPoint();\n\n    targetX = currentPoint.x;\n    targetY = currentPoint.y;\n    timestamp = Date.now();\n\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n      targetX += ax;\n    }\n\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n      targetY += ay;\n    }\n\n    raf = requestAnimationFrame(autoScroll);\n  }\n\n  function autoScroll() {\n    var elapsed = Date.now() - timestamp;\n\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n\n    if (ax) {\n      dx = -ax * Math.exp(-elapsed / timeConstant);\n\n      if (dx > 0.5 || dx < -0.5) moving = true;\n      else dx = ax = 0;\n    }\n\n    if (ay) {\n      dy = -ay * Math.exp(-elapsed / timeConstant);\n\n      if (dy > 0.5 || dy < -0.5) moving = true;\n      else dy = ay = 0;\n    }\n\n    if (moving) {\n      scroll(targetX + dx, targetY + dy);\n      raf = requestAnimationFrame(autoScroll);\n    }\n  }\n}\n\nfunction getCancelAnimationFrame() {\n  if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;\n  return clearTimeout;\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;\n\n  return function (handler) {\n    return setTimeout(handler, 16);\n  };\n}","module.exports = makeSvgController;\nmodule.exports.canAttach = isSVGElement;\n\nfunction makeSvgController(svgElement, options) {\n  if (!isSVGElement(svgElement)) {\n    throw new Error('svg element is required for svg.panzoom to work');\n  }\n\n  var owner = svgElement.ownerSVGElement;\n  if (!owner) {\n    throw new Error(\n      'Do not apply panzoom to the root <svg> element. ' +\n      'Use its child instead (e.g. <g></g>). ' +\n      'As of March 2016 only FireFox supported transform on the root element');\n  }\n\n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getScreenCTM: getScreenCTM,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n    initTransform: initTransform\n  };\n  \n  return api;\n\n  function getOwner() {\n    return owner;\n  }\n\n  function getBBox() {\n    var bbox =  svgElement.getBBox();\n    return {\n      left: bbox.x,\n      top: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    };\n  }\n\n  function getScreenCTM() {\n    var ctm = owner.getCTM();\n    if (!ctm) {\n      // This is likely firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=873106\n      // The code below is not entirely correct, but still better than nothing\n      return owner.getScreenCTM();\n    }\n    return ctm;\n  }\n\n  function initTransform(transform) {\n    var screenCTM = svgElement.getCTM();\n\n    // The above line returns null on Firefox\n    if (screenCTM === null) {\n      screenCTM = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").createSVGMatrix();\n    }\n\n    transform.x = screenCTM.e;\n    transform.y = screenCTM.f;\n    transform.scale = screenCTM.a;\n    owner.removeAttributeNS(null, 'viewBox');\n  }\n\n  function applyTransform(transform) {\n    svgElement.setAttribute('transform', 'matrix(' +\n      transform.scale + ' 0 0 ' +\n      transform.scale + ' ' +\n      transform.x + ' ' + transform.y + ')');\n  }\n}\n\nfunction isSVGElement(element) {\n  return element && element.ownerSVGElement && element.getCTM;\n}","module.exports = Transform;\n\nfunction Transform() {\n  this.x = 0;\n  this.y = 0;\n  this.scale = 1;\n}\n","/**\n * This module used to unify mouse wheel behavior between different browsers in 2014\n * Now it's just a wrapper around addEventListener('wheel');\n *\n * Usage:\n *  var addWheelListener = require('wheel').addWheelListener;\n *  var removeWheelListener = require('wheel').removeWheelListener;\n *  addWheelListener(domElement, function (e) {\n *    // mouse wheel event\n *  });\n *  removeWheelListener(domElement, function);\n */\n\nmodule.exports = addWheelListener;\n\n// But also expose \"advanced\" api with unsubscribe:\nmodule.exports.addWheelListener = addWheelListener;\nmodule.exports.removeWheelListener = removeWheelListener;\n\n\nfunction addWheelListener(element, listener, useCapture) {\n  element.addEventListener('wheel', listener, useCapture);\n}\n\nfunction removeWheelListener( element, listener, useCapture ) {\n  element.removeEventListener('wheel', listener, useCapture);\n}"],"names":["render","_vm","this","_c","_self","staticClass","attrs","graphId","_v","_s","$t","staticRenderFns","name","mixins","mixin","props","width","type","Number","default","height","padding","margin","nodeStrength","data","jsonData","values","nodes","links","methods","zoomToFit","bounds","svg","node","getBBox","parent","parentElement","fullWidth","clientWidth","fullHeight","clientHeight","midX","x","midY","y","scale","Math","max","translate","transform","attr","drawViz","window","innerHeight","remove","append","classed","updateViz","sizeExtent","d","weight","size","domain","range","weightExtent","forceNode","forceLink","id","forceCollide","radius","iterations","strength","linkStrength","simulation","force","link","selectAll","enter","ticked","source","target","dragstarted","evt","active","alphaTarget","restart","subject","fx","fy","dragged","dragended","color","call","on","text","style","element","document","getElementById","component","BezierEasing","animations","ease","easeIn","easeOut","easeInOut","linear","animate","options","start","Object","create","diff","easing","console","warn","step","noop","done","scheduler","getScheduler","keys","forEach","key","previousAnimationId","durationInMs","duration","durationInFrames","frame","next","loop","cancel","t","setValues","setTimeout","canRaf","requestAnimationFrame","rafScheduler","timeoutScheduler","Error","bind","cancelAnimationFrame","cb","clearTimeout","makeAggregateRaf","frontBuffer","Set","backBuffer","frameToken","clearAll","clear","callback","add","renderNextFrame","renderFrame","module","exports","sharedScheduler","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","LinearEasing","mY1","mY2","sampleValues","Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","createEventsStorage","registeredEvents","eventName","ctx","handlers","push","off","wantToRemoveAll","deleteAllCallbacksForEvent","callbacks","length","splice","fire","fireArguments","arguments","prototype","callbackInfo","apply","validateSubject","reservedWords","hasOwnProperty","eventsStorage","wheel","eventify","kinetic","createTextSelectionInterceptor","domTextSelectionInterceptor","fakeTextSelectorInterceptor","Transform","makeSvgController","makeDomController","defaultZoomSpeed","defaultDoubleTapZoomSpeed","doubleTapSpeedInMS","clickEventTimeInMS","createPanZoom","domElement","panController","controller","canAttach","owner","getOwner","storedCTMResult","isDirty","initTransform","frameAnimation","filterKey","pinchSpeed","maxZoom","POSITIVE_INFINITY","minZoom","boundsPadding","zoomDoubleClickSpeed","beforeWheel","beforeMouseDown","speed","zoomSpeed","transformOrigin","parseTransformOrigin","textSelection","enableTextSelection","validateBounds","autocenter","lastSingleFingerOffset","mouseX","mouseY","clickX","clickY","pinchZoomLength","smoothScroll","moveByAnimation","zoomToAnimation","multiTouch","lastTouchEndTime","lastTouchStartTime","pendingClickEventTimeout","lastMouseDownedEvent","lastMouseDownTime","Date","touchInProgress","panstartFired","rigidScroll","getPoint","scroll","paused","listenForEvents","api","dispose","moveBy","internalMoveBy","moveTo","smoothMoveTo","centerOn","zoomTo","publicZoomTo","zoomAbs","smoothZoom","smoothZoomAbs","showRectangle","pause","resume","isPaused","getTransform","getTransformModel","getMinZoom","setMinZoom","getMaxZoom","setMaxZoom","getTransformOrigin","setTransformOrigin","getZoomSpeed","setZoomSpeed","initialX","initialY","initialZoom","releaseEvents","rect","clientRect","getBoundingClientRect","transformToScreen","rectWidth","right","left","rectHeight","bottom","top","isFinite","dw","dh","min","getScreenCTM","parentCTM","parentScaleX","a","parentScaleY","parentOffsetX","e","parentOffsetY","f","w","h","sceneBoundingBox","getBoundingBox","ownerRect","bbox","newMinZoom","newMaxZoom","newTransformOrigin","newSpeed","keepTransformInsideBounds","triggerEvent","makeDirty","dx","dy","boundingBox","adjusted","getClientRect","sceneWidth","sceneHeight","leftTop","client","zoomByRatio","clientX","clientY","ratio","isNaN","newScale","transformAdjusted","zoomLevel","ui","ownerSVGElement","cx","cy","container","smooth","from","to","lastX","lastY","v","cancelZoomAnimation","addEventListener","onMouseDown","passive","onDoubleClick","onTouch","onKeyDown","addWheelListener","onMouseWheel","removeWheelListener","removeEventListener","releaseDocumentMouse","releaseTouches","release","triggerPanEnd","applyTransform","z","keyCode","preventDefault","stopPropagation","offset","moveSpeedRatio","scaleMultiplier","getScaleMultiplier","getTransformOriginOffset","midPoint","beforeTouch","clearPendingClickEventTimeout","touches","handleSingleFingerTouch","getPinchZoomLength","startTouchListenerIfNeeded","beforeDoubleClick","touch","getOffsetXY","point","handleTouchMove","handleTouchEnd","triggerPanStart","t1","t2","currentPinchLength","firstTouchPoint","secondTouchPoint","handlePotentialClickEvent","onClick","l","sqrt","now","finger1","finger2","isLeftButton","button","event","onMouseMove","onMouseUp","capture","srcElement","delta","deltaY","deltaMode","offsetX","offsetY","fromValue","triggerZoomEnd","toScaleValue","sign","deltaAdjustedSpeed","stop","isNumber","failTransformOrigin","error","join","boundsType","validBounds","value","autoRun","scripts","getElementsByTagName","panzoomScript","src","match","query","getAttribute","globalName","started","tryAttach","el","querySelector","elapsed","collectOptions","log","script","attributes","j","nameValue","getPanzoomAttributeNameValue","isPanZoomAttribute","substr","JSON","parse","useFake","dragObject","prevSelectStart","prevDragStart","wasCaptured","domObject","onselectstart","ondragstart","disabled","elementValid","isDomElement","scrollTop","disableKeyboardInteraction","setAttribute","settings","lastPoint","timestamp","ticker","vx","targetX","ax","vy","targetY","ay","raf","minVelocity","amplitude","getCancelAnimationFrame","getRequestAnimationFrame","timeConstant","track","currentPoint","dt","autoScroll","moving","exp","handler","svgElement","isSVGElement","ctm","getCTM","screenCTM","createElementNS","createSVGMatrix","removeAttributeNS","listener","useCapture"],"sourceRoot":""}