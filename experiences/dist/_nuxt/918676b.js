(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1039:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return x}));var r=n(5),o=(n(22),n(67),n(15),n(3),n(729)),c=n.n(o),l=n(872),d=n(1045),f=n.n(d),m=n(917),h=new(n.n(m).a),v=c.a.posix||c.a;function w(e,t,n){var r={};return e&&(r.filePath=e),t&&(r.jsonPath=t),n&&(r.jsonSchema=n),r}function _(e,pattern){var t=v.normalize(pattern);return f.a.isMatch(e,t)}function k(e){if(!e)throw new Error('cannot create glob for file path "'.concat(e,'"'));return e.replace(/([[\]{}*!()])/g,"\\$1")}function x(e,t){var n=t.jsonPath,o=t.jsonSchema;if(!n&&o)throw new Error("jsonPath missing");if(n&&"object"!==Object(r.a)(e))throw new Error("jsonPath requires fileContent of type object");if(!n)return[e];var c=Object(l.JSONPath)({path:n,json:e});if(o){var d=h.compile(o);c=c.filter((function(e){return d(e)}))}return 0===c.length?null:c}},1216:function(e,t,n){"use strict";n.r(t);var r=n(27),o=(n(22),n(299),n(89),n(1556)),c=n.n(o),l=n(7),d=n(854),f=n(920),m=n(1226);function h(){return new Worker(n.p+"0a84d61.worker.js")}var v=n(663),w=n(1039),_=n(721),k={name:"UnitFileExplorerViewerJson",mixins:[d.a,f.a],data:function(){return{jsonText:"",items:[],open:[],foundItems:[],error:!1,search:"",searchCooldownTime:200,filteredItems:[],searching:!1,useOldSearch:!1}},computed:{delayedUpdateFilteredItems:function(){return c()(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.searching=!0,e.next=3,this.updateFilteredItems();case 3:this.searching=!1;case 4:case"end":return e.stop()}}),e,this)}))),this.searchCooldownTime)}},watch:{filename:{handler:function(e){this.getContentFromFilename(e)},immediate:!0},search:function(){this.delayedUpdateFilteredItems.cancel(),this.delayedUpdateFilteredItems()}},methods:{onFoundItemRowClick:function(e){this.open=e.trail},createItemAcessor:function(e){var t=Object(w.b)(this.filename),n=Object(_.f)(e.path);return Object(w.a)(t,n)},copyAccessor:function(e){try{var t=JSON.stringify(this.createItemAcessor(e));navigator.clipboard.writeText(t)}catch(e){console.error(e)}},onNodeClick:function(e){try{this.$emit("select-accessor",this.createItemAcessor(e))}catch(e){console.error(e)}},iconForNode:function(e){switch(e){case _.e.TREE:return l.q;case _.e.LIST:return l.L;case _.e.LEAF:return l.P}},isUndef:function(e){return void 0===e},getContentFromFilename:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setLoading(!0),n.next=3,t.fileManager.getPreprocessedText(e);case 3:return t.jsonText=n.sent,n.prev=4,n.next=7,t.fileManager.getJsonItems(e);case 7:t.items=n.sent,t.filteredItems=t.items,t.error=!1,n.next=16;break;case 12:n.prev=12,n.t0=n.catch(4),console.error(n.t0),t.error=!0;case 16:t.setLoading(!1);case 17:case"end":return n.stop()}}),n,null,[[4,12]])})))()},updateFilteredItems:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.search){t.next=12;break}if(!e.useOldSearch){t.next=7;break}return t.next=4,Object(v.i)(new m.a,[e.jsonText,e.search]);case 4:e.filteredItems=t.sent,t.next=10;break;case 7:return t.next=9,Object(v.i)(new h,[e.search,e.items]);case 9:e.foundItems=t.sent;case 10:t.next=13;break;case 12:e.filteredItems=e.items;case 13:case"end":return t.stop()}}),t)})))()}}},x=k,I=(n(1538),n(33)),j=n(34),y=n.n(j),C=n(868),T=n(290),F=n(271),O=n(644),S=n(1489),component=Object(I.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("div",[e._v("\n  Loading\n")]):e.error?n("div",[n("p",[e._v('Could not parse the file. Please use the "RAW" tab to visualise it.')])]):n("div",[n("BaseSearchBar",{attrs:{loading:e.searching},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("VExpandTransition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.foundItems.length>0,expression:"foundItems.length > 0"}]},[n("VDataTable",{staticClass:"elevation-1",attrs:{dense:"",headers:[{text:"Found items (click to show in tree)",value:"item"}],items:e.foundItems,"items-per-page":5},on:{"click:row":e.onFoundItemRowClick},scopedSlots:e._u([{key:"item.item",fn:function(t){var r=t.item;return[n("div",{staticClass:"clickable"},[e.isUndef(r.name)?e._e():n("span",[e._v("\n              "+e._s(r.name+":")+"\n            ")]),e._v(" "),n("span",{staticClass:"font-italic"},[e._v(e._s(r.value))])])]}}])})],1)]),e._v(" "),n("VTreeview",{attrs:{dense:"",transition:"",items:e.filteredItems,open:e.open},on:{"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var r=t.item;return[e.isUndef(r.type)?e._e():n("VIcon",[e._v("\n        "+e._s(e.iconForNode(r.type))+"\n      ")])]}},{key:"label",fn:function(t){var r=t.item,o=t.leaf;return[n("span",[o?n("span",{attrs:{title:r.value}},[e.isUndef(r.name)?e._e():n("span",[e._v("\n            "+e._s(r.name+":")+"\n          ")]),e._v(" "),n("span",{staticClass:"font-italic"},[e._v(e._s(r.value))])]):n("span",[e._v(e._s(r.name))]),e._v(" "),n("VTooltip",{attrs:{bottom:"","open-delay":"200"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("VIcon",e._g({staticClass:"clickable",on:{click:function(t){return e.copyAccessor(r)}}},o),[e._v("\n              $vuetify.icons.mdiContentCopy\n            ")])]}}],null,!0)},[e._v(" "),n("span",[e._v("Copy accessor to clipboard")])]),e._v(" "),n("VTooltip",{attrs:{bottom:"","open-delay":"200"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("VIcon",e._g({staticClass:"clickable",on:{click:function(t){return e.onNodeClick(r)}}},o),[e._v("\n              $vuetify.icons.mdiTable\n            ")])]}}],null,!0)},[e._v(" "),n("span",[e._v("Show as table")])])],1)]}}])})],1)}),[],!1,null,"b6512ad6",null);t.default=component.exports;y()(component,{BaseSearchBar:n(742).default}),y()(component,{VDataTable:C.a,VExpandTransition:T.a,VIcon:F.a,VTooltip:O.a,VTreeview:S.a})},1226:function(e,t,n){"use strict";function r(){return new Worker(n.p+"cac3d20.worker.js")}n.d(t,"a",(function(){return r}))},1361:function(e,t,n){var content=n(1539);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(21).default)("49bc8356",content,!0,{sourceMap:!1})},1538:function(e,t,n){"use strict";n(1361)},1539:function(e,t,n){var r=n(20)(!1);r.push([e.i,".clickable[data-v-b6512ad6]{cursor:pointer}",""]),e.exports=r}}]);