(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[2238],{42238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(23279),o=n.n(r),c=n(55317),l=n(46187),f=n(35619),d=n(91303);function h(){return new Worker(n.p+"find-items.worker.c06b86f.js")}var m=n(45484),v=n(48832),y=n(84151),x={name:"UnitFileExplorerViewerJson",components:{BaseSearchBar:n(99262).Z},mixins:[l.Z,f.Z],data:()=>({jsonText:"",items:[],open:[],foundItems:[],error:!1,search:"",searchCooldownTime:200,filteredItems:[],searching:!1,useOldSearch:!1}),computed:{delayedUpdateFilteredItems(){return o()((async function(){this.searching=!0,await this.updateFilteredItems(),this.searching=!1}),this.searchCooldownTime)}},watch:{filename:{handler(e){this.getContentFromFilename(e)},immediate:!0},search(){this.delayedUpdateFilteredItems.cancel(),this.delayedUpdateFilteredItems()}},methods:{k:e=>`file-explorer.viewer.json.${e}`,onFoundItemRowClick(e){this.open=e.trail},createItemAcessor(e){const t=(0,v.cg)(this.filename),n=(0,y.Rn)(e.path);return(0,v.$0)(t,n)},copyAccessor(e){try{const t=JSON.stringify(this.createItemAcessor(e));navigator.clipboard.writeText(t)}catch(e){console.error(e)}},onNodeClick(e){try{this.$emit("select-accessor",this.createItemAcessor(e))}catch(e){console.error(e)}},iconForNode(e){switch(e){case y.zR.TREE:return c.UgG;case y.zR.LIST:return c.BkA;case y.zR.LEAF:return c.EaN}},isUndef:e=>void 0===e,async getContentFromFilename(e){this.setLoading(!0),this.jsonText=await this.fileManager.getPreprocessedText(e);try{this.items=await this.fileManager.getJsonItems(e),this.filteredItems=this.items,this.error=!1}catch(e){console.error(e),this.error=!0}this.setLoading(!1)},async updateFilteredItems(){this.search?this.useOldSearch?this.filteredItems=await(0,m.YX)(new d.Z,[this.jsonText,this.search]):this.foundItems=await(0,m.YX)(new h,[this.search,this.items]):this.filteredItems=this.items}}},w=x,k=(0,n(1001).Z)(w,(function(){var e=this,t=e._self._c;return e.loading?t("div",{directives:[{name:"t",rawName:"v-t",value:"Loading",expression:"'Loading'"}]}):e.error?t("div",[t("p",{directives:[{name:"t",rawName:"v-t",value:e.k("errorText"),expression:"k('errorText')"}]})]):t("div",[t("BaseSearchBar",{attrs:{loading:e.searching,label:e.$t(e.k("content-search-name")),placeholder:e.$t(e.k("content-search-placeholder"))},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("VExpandTransition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.foundItems.length>0,expression:"foundItems.length > 0"}]},[t("VDataTable",{staticClass:"elevation-1",attrs:{dense:"",headers:[{text:e.$t(e.k("found-items-header")),value:"item"}],items:e.foundItems,"items-per-page":5},on:{"click:row":e.onFoundItemRowClick},scopedSlots:e._u([{key:"item.item",fn:function({item:n}){return[t("div",{staticClass:"clickable"},[e.isUndef(n.name)?e._e():t("span",[e._v(" "+e._s(`${n.name}:`)+" ")]),t("span",{staticClass:"font-italic"},[e._v(e._s(n.value))])])]}}])})],1)]),t("VTreeview",{attrs:{dense:"",transition:"",items:e.filteredItems,open:e.open},on:{"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function({item:n}){return[e.isUndef(n.type)?e._e():t("VIcon",[e._v(" "+e._s(e.iconForNode(n.type))+" ")])]}},{key:"label",fn:function({item:n,leaf:r}){return[t("span",[r?t("span",{attrs:{title:n.value}},[e.isUndef(n.name)?e._e():t("span",[e._v(" "+e._s(`${n.name}:`)+" ")]),t("span",{staticClass:"font-italic"},[e._v(e._s(n.value))])]):t("span",[e._v(e._s(n.name))]),t("VTooltip",{attrs:{bottom:"","open-delay":"200"},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t("VIcon",e._g({staticClass:"clickable",on:{click:function(t){return e.copyAccessor(n)}}},r),[e._v(" $vuetify.icons.mdiContentCopy ")])]}}],null,!0)},[t("span",[e._v(e._s(e.$t(e.k("Copy accessor to clipboard"))))])]),t("VTooltip",{attrs:{bottom:"","open-delay":"200"},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t("VIcon",e._g({staticClass:"clickable",on:{click:function(t){return e.onNodeClick(n)}}},r),[e._v(" $vuetify.icons.mdiTable ")])]}}],null,!0)},[t("span",[e._v(e._s(e.$t(e.k("Show as table"))))])])],1)]}}])})],1)}),[],!1,null,"714a4d56",null).exports},62705:function(e,t,n){var r=n(55639).Symbol;e.exports=r},44239:function(e,t,n){var r=n(62705),o=n(89607),c=n(2333),l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?o(e):c(e)}},27561:function(e,t,n){var r=n(67990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},89607:function(e,t,n){var r=n(62705),o=Object.prototype,c=o.hasOwnProperty,l=o.toString,f=r?r.toStringTag:void 0;e.exports=function(e){var t=c.call(e,f),n=e[f];try{e[f]=void 0;var r=!0}catch(e){}var o=l.call(e);return r&&(t?e[f]=n:delete e[f]),o}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:function(e,t,n){var r=n(31957),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();e.exports=c},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:function(e,t,n){var r=n(13218),o=n(7771),c=n(14841),l=Math.max,f=Math.min;e.exports=function(e,t,n){var d,h,m,v,y,x,w=0,k=!1,_=!1,I=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function T(time){var t=d,n=h;return d=h=void 0,w=time,v=e.apply(n,t)}function j(time){return w=time,y=setTimeout(S,t),k?T(time):v}function C(time){var e=time-x;return void 0===x||e>=t||e<0||_&&time-w>=m}function S(){var time=o();if(C(time))return F(time);y=setTimeout(S,function(time){var e=t-(time-x);return _?f(e,m-(time-w)):e}(time))}function F(time){return y=void 0,I&&d?T(time):(d=h=void 0,v)}function $(){var time=o(),e=C(time);if(d=arguments,h=this,x=time,e){if(void 0===y)return j(x);if(_)return clearTimeout(y),y=setTimeout(S,t),T(x)}return void 0===y&&(y=setTimeout(S,t)),v}return t=c(t)||0,r(n)&&(k=!!n.leading,m=(_="maxWait"in n)?l(c(n.maxWait)||0,t):m,I="trailing"in n?!!n.trailing:I),$.cancel=function(){void 0!==y&&clearTimeout(y),w=0,d=x=h=y=void 0},$.flush=function(){return void 0===y?v:F(o())},$}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(55639);e.exports=function(){return r.Date.now()}},14841:function(e,t,n){var r=n(27561),o=n(13218),c=n(33448),l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(c(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=f.test(e);return n||d.test(e)?h(e.slice(2),n?2:8):l.test(e)?NaN:+e}}}]);