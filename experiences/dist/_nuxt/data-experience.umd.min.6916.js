"use strict";(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[6916,1297],{96916:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var a=s(21297),l=s(99319),i=s(82768),r=s(96963),u={components:{UnitKepler:i.Z,UnitFilterableTable:r.Z},mixins:[a.default],props:{keplerConfig:{type:Object,default:()=>null},showButton:{type:Boolean,default:()=>!1},doKAnonymity:{type:Boolean,default:()=>!1},groupKey:{type:Array,default:()=>[]},otherKeys:{type:Array,default:()=>[]},label:{type:String,default:()=>""}},data(){return{menu:!1,sliderValue:0,filteredRows:[],results:this.doKAnonymity?(0,l.a)(this.values,this.groupKey,this.otherKeys):this.values,label_:this.label}},computed:{total(){return this.results.length},filtered(){return this.filteredRows.length},keplerData(){return{fields:this.headers.map((t=>({name:t}))),rows:this.filteredRows.map((t=>this.headers.map((e=>t[e]))))}},keplerArgs(){return{keplerData:this.keplerData,config:this.keplerConfig}}},methods:{k:t=>`chart-view.generic-map.${t}`,increment(){this.sliderValue+=1},decrement(){this.sliderValue-=1},addNoise(){this.menu=!1;const t=this.sliderValue;this.results=this.results.map((e=>({...e,longitude:e.longitude+(.5-Math.random())/(40075e3*Math.cos(Math.radians(e.latitude))/360)*2*t,latitude:e.latitude+(.5-Math.random())/111320*2*t})))},clear(){this.menu=!1,this.results=this.values,this.sliderValue=0},onTableFilter(t){this.filteredRows=t}}},n=u,o=(0,s(1001).Z)(n,(function(){var t=this,e=t._self._c;return t.values.length>0?e("VContainer",[e("VRow",[e("VCol",{attrs:{cols:"12"}},[0===t.total?e("p",{staticClass:"text-subtitle-2"},[t._v(" "+t._s(t.$t("no-records"))+" ")]):""!==t.label_?e("p",{staticClass:"text-subtitle-2"},[t._v(" "+t._s(t.$t("found"))+" "),e("strong",[t._v(t._s(t.total))]),t._v(" "+t._s(t.label_)+" "+t._s(t.$t("in-files"))+". ")]):t._e()])],1),t.total>0?[e("VRow",[e("VCol",{attrs:{cols:"12"}},[e("UnitKepler",{attrs:{args:t.keplerArgs}})],1)],1),1==t.showButton?[e("VMenu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:l}){return[e("VBtn",t._g(t._b({staticClass:"ma-2",attrs:{color:"primary",outlined:""}},"VBtn",l,!1),s),[t._v(" "+t._s(t.$t(t.k("add-noise")))+" ")])]}}],null,!1,13010733),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e("VCard",{staticClass:"mx-auto",attrs:{"max-width":"600"}},[e("VCardTitle",[t._v(t._s(t.$t(t.k("noise-level"))))]),e("VCardText",[e("VRow",{staticClass:"mb-4",attrs:{justify:"space-between"}},[e("VCol",{staticClass:"text-left"},[e("span",{staticClass:"text-h2 font-weight-light",domProps:{textContent:t._s(t.sliderValue)}}),e("span",{staticClass:"subheading font-weight-light mr-1"},[t._v(t._s(t.$t(t.k("meters"))))])])],1),e("VSlider",{attrs:{max:100,min:0,step:"1","track-color":"grey","always-dirty":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("VIcon",{on:{click:t.decrement}},[t._v(" $vuetify.icons.mdiMinus ")])]},proxy:!0},{key:"append",fn:function(){return[e("VIcon",{on:{click:t.increment}},[t._v(" $vuetify.icons.mdiPlus ")])]},proxy:!0}],null,!1,214408879),model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1),e("VCardActions",[e("VSpacer"),e("VBtn",{on:{click:t.clear}},[t._v(" "+t._s(t.$t("Clear"))+" ")]),e("VBtn",{attrs:{color:"primary"},on:{click:t.addNoise}},[t._v(" "+t._s(t.$t("Save"))+" ")])],1)],1)],1)]:t._e(),e("VRow",[e("VCol",{attrs:{cols:"12"}},[e("UnitFilterableTable",t._b({on:{"current-items":t.onTableFilter}},"UnitFilterableTable",{headers:t.headers,items:t.results},!1))],1)],1)]:t._e()],2):t._e()}),[],!1,null,null,null),p=o.exports},21297:function(t,e,s){s.r(e);var l=s(40290),r=s(18651),a=s(659);const n={props:{values:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},messages:{type:Object,default:()=>({})}},data(){return{graphId:"graph_"+this.$store.state.xp.currentTab,totalCount:0,filterCount:0}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{drawViz(){},createTextFilterWidget(t,e="Search"){const s=new l.TextFilterWidget(t);return s.placeHolder(this.$tev(e,e)),s}}};e.default=(0,r.Z)(n,a.Z)},99319:function(t,e,s){s.d(e,{a:function(){return i}});var l=s(15643);function r(t){let e=0;for(let s=1;s<=Math.max.apply(Math,t);s++){if(t.filter((t=>t<=s)).length>=s){e=s;break}}return e}function a(t){return t.reduce(((t,e)=>t+e),0)/t.length||0}function n(t,e){return t.filter((t=>t.k<=e))}function i(t,e,s){const i=[],o=(0,l.Z)(t,(t=>e.map((e=>t[e])))),u=Object.keys(o);for(let t=0;t<u.length;t++){const l=u[t],d={},c=l.split(",");for(let s=0;s<e.length;s++)d[e[s]]=c[s];const h=r(o[l].map((t=>t.k))),p=n(o[l],h);for(let t=0;t<s.length;t++)d[s[t]]=a(p.map((e=>e[s[t]])));d.k=h,i.push(d)}const d=i.filter((t=>t.k>0));return d}}}]);