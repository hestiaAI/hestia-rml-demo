"use strict";(("undefined"!=typeof self?self:this).webpackChunkDataExperience=("undefined"!=typeof self?self:this).webpackChunkDataExperience||[]).push([[5858],{35858:function(t,e,r){r.r(e),r.d(e,{default:function(){return o}});var n=r(60194),l={mixins:[r(74097).default],props:{groupsAccessor:{type:String,required:!0},valuesAccessor:{type:Array,required:!0},title:{type:String,default:""},margin:{type:Number,default:5},adjVertical:{type:Array,default:()=>[20,50]},adjHorizontal:{type:Array,default:()=>[150,150]},xLabel:{type:String,default:"Sexual Orientation"},yLabel:{type:String,default:"Number of action per day and user"},formatNumber:{type:String,default:".2f"}},data:()=>({}),computed:{validProps(){let t=!0;return this.values.length?(Object.keys(this.values[0]).includes(this.groupsAccessor)||(console.error("Group Accessor not found:",this.groupsAccessor),t=!1),this.valuesAccessor.forEach((e=>{Object.keys(this.values[0]).includes(e)||(console.error("X Accessor not found:",e),t=!1)})),t):(console.error("Values is empty"),!1)}},methods:{drawViz(){try{const t=500,e=380,r=n.format(this.formatNumber);n.select("#"+this.graphId+" svg").remove(),this.svg=n.select("#"+this.graphId).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.adjHorizontal[0]+" -"+this.adjVertical[0]+" "+(t+n.sum(this.adjHorizontal))+" "+(e+n.sum(this.adjVertical))).style("margin",this.margin).classed("svg-content",!0);const l=[...new Set(this.values.map((t=>t[this.groupsAccessor])))],o=n.scaleBand().domain(l).range([0,t]).padding([.2]);this.svg.append("g").attr("class","xAxis").attr("transform","translate(0,"+e+")").call(n.axisBottom(o).tickSize(0)).append("text").attr("y",30).attr("x",t/2).style("text-anchor","middle").text(this.xLabel);const c=n.max(this.values,(t=>Math.max(...this.valuesAccessor.map((e=>t[e]))))),d=n.scaleLinear().domain([0,c]).range([e,0]);this.svg.append("g").attr("class","yAxis").call(n.axisLeft(d)).append("text").attr("dy",".75em").attr("y",-50).attr("x",-e/2).attr("transform","rotate(-90)").style("text-anchor","middle").text(this.yLabel);const h=n.scaleBand().domain(this.valuesAccessor).range([0,o.bandwidth()]).padding([.05]),f=n.scaleOrdinal().domain(this.valuesAccessor).range(this.colorPalette);this.svg.append("g").selectAll("g").data(this.values).enter().append("g").attr("transform",(t=>"translate("+o(t[this.groupsAccessor])+",0)")).selectAll("rect").data((t=>this.valuesAccessor.map((function(e){return{key:e,value:t[e]}})))).enter().append("rect").attr("x",(t=>h(t.key))).attr("y",(function(t){return d(t.value)})).attr("width",h.bandwidth()).attr("height",(t=>e-d(t.value))).attr("fill",(t=>f(t.key))).on("mouseover",(function(t,e){n.select(this).style("opacity",.7),n.select(this.parentNode).append("text").attr("class","barsLabel").text(r(e.value)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("x",h(e.key)+h.bandwidth()/2).attr("y",d(e.value)-10).style("font-size","0.8rem").style("font-weight","bold").style("fill","#0A0A0A")})).on("mouseleave",(function(t,e){n.select(this).style("opacity",1),n.select(".barsLabel").remove()}));const y=10,m=t-20,v=0;this.svg.selectAll("legendSquare").data(this.valuesAccessor).enter().append("rect").attr("x",m).attr("y",(function(t,i){return v+i*(y+5)})).attr("width",y).attr("height",y).style("fill",(function(t){return f(t)})),this.svg.selectAll("legendLabels").data(this.valuesAccessor).enter().append("text").attr("x",m+1.2*y).attr("y",(function(t,i){return v+i*(y+5)+y/2})).style("fill",(function(t){return f(t)})).text((function(t){return t})).attr("text-anchor","left").style("alignment-baseline","middle")}catch(t){console.error(t)}}}},o=(0,r(1001).Z)(l,(function(){var t=this,e=t._self._c;return t.validProps?e("VContainer",[e("p",{staticClass:"overline font-weight-bold text-subtitle-1 text-center"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticStyle:{position:"relative"},attrs:{id:t.graphId}})]):t._e()}),[],!1,null,"558adf62",null).exports}}]);