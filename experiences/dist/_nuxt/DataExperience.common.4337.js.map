{"version":3,"file":"DataExperience.common.4337.js","mappings":";;;;;;;;;;;;;;;AAAA,+BAA+B,6BAA6B,mCAAmC,6BAA6B,qBAAqB,UAAU,uDAAuD,gBAAgB,OAAO,uBAAuB,KAAK,2BAA2B,QAAQ,qDAAqD,wBAAwB,+BAA+B,+CAA+C,OAAO,sBAAsB,wBAAwB,OAAO,uBAAuB,YAAY,OAAO,oBAAoB,aAAa,yCAAyC,2DAA2D,uCAAuC,OAAO,mBAAmB,6CAA6C,aAAa,4DAA4D,mCAAmC,kBAAkB,oCAAoC,OAAO,sBAAsB,YAAY,OAAO,sBAAsB,aAAa,yCAAyC,oDAAoD,0CAA0C,OAAO,sBAAsB,YAAY,OAAO,mBAAmB,aAAa,yCAAyC,mDAAmD,0CAA0C,OAAO,sBAAsB,YAAY,OAAO,sBAAsB,aAAa,yCAAyC,0DAA0D,kDAAkD,OAAO,sBAAsB,cAAc,2BAA2B,yIAAyI,OAAO,YAAY,aAAa,OAAO,sBAAsB,eAAe,OAAO,wDAAwD,cAAc,OAAO,+BAA+B,mBAAmB,0CAA0C,uFAAuF,kCAAkC,YAAY,OAAO,oBAAoB,aAAa,wCAAwC,6CAA6C,2BAA2B,OAAO,sBAAsB,eAAe,OAAO,wDAAwD,cAAc,OAAO,+BAA+B,mBAAmB,0CAA0C,sFAAsF,kCAAkC,YAAY,sCAAsC,yBAAyB,aAAa,wCAAwC,2CAA2C,2CAA2C,OAAO,WAAW,sBAAsB,4BAA4B,sCAAsC,wBAAwB,WAAW,kCAAkC,6CAA6C,WAAW,kCAAkC,+CAA+C,oCAAoC,yCAAyC,6CAA6C,WAAW,gCAAgC,4CAA4C,WAAW,gCAAgC,0CAA0C,mDAAmD,sBAAsB,EAAE,gBAAgB,YAAY,WAAW,UAAU,6CAA6C,4BAA4B,gBAAgB,OAAO,aAAa,6BAA6B,SAAS,yBAAyB,UAAU,4CAA4C,IAAI,MAAM,OAAO,YAAY,GAAG,0CAA0C,OAAO,uDAAuD,KAAK,yBAAyB,wBAAwB,oGAAoG,OAAO,aAAa,oCAAoC,yBAAyB,qEAAqE;AAC5tI;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACgIwB;AACA;AACc;AACX;AAC8C;AACV;AACmB;AACrB;AACG;AAC4B;AAC5F;;AAEA;AACA,uBAAuB,CAAC,gBAAe;;AAEvC,kFAAe;AACf,qCAAqC,gEAA8B,2DAAkB,yCAAY,gDAAqB;AACtH,WAAW,gBAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,MAAM,YAAY;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,aAAY;AAC3C,yBAAyB,cAAa;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAU;AAC1B,iBAAiB,YAAW;AAC5B,qBAAqB,oBAAmB;AACxC,wBAAwB,oBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,WAAW;AACvC,+BAA+B,WAAW;AAC1C,4BAA4B,WAAW;AACvC,6BAA6B,YAAY;AACzC,+BAA+B,WAAW;AAC1C,6BAA6B,gBAAgB;AAC7C,8BAA8B,gBAAgB;AAC9C,sCAAsC,gBAAgB;AACtD,oCAAoC,gBAAgB;AACpD,sCAAsC,gBAAgB;AACtD,oCAAoC,gBAAgB;AACpD,qCAAqC,gBAAgB;AACrD,mCAAmC,gBAAgB;AACnD;AACA,MAAM,UAAS;AACf;AACA,QAAQ,YAAY;AACpB;AACA,MAAM,UAAS;AACf;AACA,QAAQ,YAAY;AACpB;AACA,MAAM,UAAS;AACf;AACA,QAAQ,YAAY;AACpB;AACA,MAAM,UAAS;AACf;AACA,QAAQ,YAAY;AACpB;AACA,MAAM,UAAS;AACf;AACA,QAAQ,YAAY;AACpB;AACA,kBAAkB,uBAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,2DAAwB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA,+BAA+B,2DAAwB;AACvD;AACA;AACA;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA;AACA;AACA,sBAAsB,UAAS;AAC/B;AACA;AACA,eAAe,UAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAS;AACxB;AACA,eAAe,kBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB;AACA;AACA,CAAC;;;AChfsJ,CAAC,uFAAe,6CAAG,EAAC;;ACA3K;;;;;;;AEAgH;AACvC;AACL;AACpE,CAA8G;;;AAG9G;AACyG;AACzG,gBAAgB,sCAAU;AAC1B,EAAE,kDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAAe;;;;;;;;;;;;;;;;ACnBf,+BAA+B,6BAA6B,yBAAyB,qBAAqB,wDAAwD,0DAA0D,aAAa,YAAY,sCAAsC,0BAA0B,OAAO,mCAAmC,KAAK,yBAAyB,gBAAgB,8DAA8D,uBAAuB,wCAAwC,uCAAuC,4BAA4B,uFAAuF,uBAAuB,qCAAqC,+BAA+B,OAAO,iBAAiB,qBAAqB,wCAAwC;AACp1B;AACA;;;;;;;;;;;;;AC0ByE;AACT;AACiC;AACvB;;AAE1E,kFAAe;AACf,0BAA0B,mDAAwB,wDAAiB;AACnE,WAAW,6CAAuB;AAClC,CAAC;;;ACpCsJ,CAAC,uFAAe,6CAAG,EAAC;;;;ACAvE;AAC3B;AACL;;;AAGpE;AACA,CAAyG;AACzG,gBAAgB,sCAAU;AAC1B,EAAE,kDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAAe;;;;;;;;;;;;;;;;AClBf,+BAA+B,6BAA6B,eAAe,sBAAsB,yEAAyE,qBAAqB,YAAY,aAAa,4DAA4D,mCAAmC,kBAAkB;AACzU;AACA;;;;;ACSA,6EAAe;;AAEf,CAAC;;;ACboJ,CAAC,qFAAe,wCAAG,EAAC;;;;ACA1E;AAC3B;AACL;;;AAG/D;AACA,CAA4G;AAC5G,gBAAgB,sCAAU;AAC1B,EAAE,gDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAe;;;;;;;;;;;;;;;;AClBf,+BAA+B,6BAA6B,eAAe,yDAAyD,aAAa,UAAU,iDAAiD;AAC5M;AACA;;;;;;ACF2G;AAC3G;;;AAGA;AACA,CAA4G;AAC5G,gBAAgB,sCAAU;AAC1B;AACA,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe","sources":["webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewOverviewUber.vue?43a9","webpack://@hestia.ai/data-experience/src/components/chart/view/ChartViewOverviewUber.vue","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewOverviewUber.vue?59f5","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewOverviewUber.vue?b76b","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewOverviewUber.vue?697d","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewOverviewUber.vue","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewVRowWebShare.vue?c65c","webpack://@hestia.ai/data-experience/src/components/chart/view/ChartViewVRowWebShare.vue","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewVRowWebShare.vue?2101","webpack://@hestia.ai/data-experience/./src/components/chart/view/ChartViewVRowWebShare.vue","webpack://@hestia.ai/data-experience/./src/components/chart/view/filters/ChartViewFilters.vue?cff0","webpack://@hestia.ai/data-experience/src/components/chart/view/filters/ChartViewFilters.vue","webpack://@hestia.ai/data-experience/./src/components/chart/view/filters/ChartViewFilters.vue?e912","webpack://@hestia.ai/data-experience/./src/components/chart/view/filters/ChartViewFilters.vue","webpack://@hestia.ai/data-experience/./src/components/chart/view/text/ChartViewTextSelectTimeRange.vue?13ad","webpack://@hestia.ai/data-experience/./src/components/chart/view/text/ChartViewTextSelectTimeRange.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VContainer',[_c('VRow',{staticClass:\"justify-center\"},[_c('p',[_c('span',{domProps:{\"textContent\":_vm._s(_vm.messages['select-currency'])}}),_c('VSelect',{attrs:{\"items\":_vm.currencies},on:{\"input\":_vm.filterCurrency},model:{value:(_vm.currentCurrency),callback:function ($$v) {_vm.currentCurrency=$$v},expression:\"currentCurrency\"}})],1)]),_c('ChartViewVRowWebShare',[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('div',{attrs:{\"id\":\"price-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Cumulative expenses'])}}),_c('ChartViewFilters')],1),_c('div',{attrs:{\"id\":\"hour-chart\"}},[_c('ChartViewTextSelectTimeRange',[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('reset'),expression:\"'reset'\"}],staticClass:\"reset\",staticStyle:{\"display\":\"none\"}})])],1)])],1),_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('div',{attrs:{\"id\":\"service-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Service used'])}}),_c('ChartViewFilters')],1)]),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('div',{attrs:{\"id\":\"week-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Day of week'])}}),_c('ChartViewFilters')],1)]),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('div',{attrs:{\"id\":\"address-chart\"}},[_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Begin trip address'])}}),_c('ChartViewFilters')],1)])],1)],1),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('VCard',{staticClass:\"general-info\"},[_c('VCardTitle',[_vm._v(_vm._s(_vm.messages['General information']))]),_c('VCardSubtitle'),_c('VCardText',[_c('VContainer',[_c('VRow',{attrs:{\"dense\":\"\"}},[_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('VSheet',{attrs:{\"outlined\":\"\",\"color\":_vm.colorPalette[0],\"rounded\":\"\"}},[_c('VCard',{attrs:{\"elevation\":\"0\",\"outlined\":\"\"}},[_c('VCardTitle',{staticClass:\"justify-center text-caption\"},[_vm._v(\" \"+_vm._s(_vm.messages['Orders'])+\" \")]),_c('VCardSubtitle'),_c('VCardText',{staticClass:\"text-h4 text-center\"},[_c('div',{attrs:{\"id\":\"number-trip\"}}),_c('span',{staticClass:\"text-subtitle-1\",domProps:{\"textContent\":_vm._s(_vm.messages['trips'])}})])],1)],1)],1),_c('VCol',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('VSheet',{attrs:{\"outlined\":\"\",\"color\":_vm.colorPalette[0],\"rounded\":\"\"}},[_c('VCard',{attrs:{\"elevation\":\"0\",\"outlined\":\"\"}},[_c('VCardTitle',{staticClass:\"justify-center text-caption\"},[_vm._v(\" \"+_vm._s(_vm.messages['Speed'])+\" \")]),_c('VCardSubtitle'),_c('VCardText',{staticClass:\"text-h4 text-center\"},[_c('div',{staticClass:\"font-weight-bold\",attrs:{\"id\":\"number-speed-avg\"}}),_c('span',{staticClass:\"text-subtitle-1\",domProps:{\"textContent\":_vm._s(_vm.messages['mph'])}})])],1)],1)],1)],1)],1),_c('VSimpleTable',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"}),_c('th',{staticClass:\"text-left\",domProps:{\"textContent\":_vm._s(_vm.messages['Total'])}}),_c('th',{staticClass:\"text-left\",domProps:{\"textContent\":_vm._s(_vm.messages['Average'])}})])]),_c('tbody',[_c('tr',[_c('td',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.messages['Price'])}}),_c('td',{staticClass:\"text-h6\",domProps:{\"textContent\":_vm._s(_vm.priceTotalNumber)}}),_c('td',{staticClass:\"text-h6\",domProps:{\"textContent\":_vm._s(_vm.priceAvgNumber)}})]),_vm._l((_vm.generalInformationRows),function({ heading, ids, metric }){return _c('tr',{key:heading},[_c('td',{domProps:{\"textContent\":_vm._s(_vm.messages[heading])}}),_vm._l((ids),function(id){return _c('td',{key:id},[_c('span',{staticClass:\"text-h6\",attrs:{\"id\":id}}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.messages[metric])}})])})],2)})],2)]},proxy:true}])})],1),_c('VCardActions',[_c('BaseButton',{attrs:{\"elevation\":\"2\",\"block\":\"\",\"color\":_vm.colorPalette[0]},on:{\"click\":function($event){return _vm.resetAll()}}},[_vm._v(\" \"+_vm._s(_vm.messages['Reset all filters'])+\" \")])],1)],1)],1)],1),_c('VRow',[_c('VCol',{attrs:{\"cols\":\"12\"}},[_c('UnitFilterableTable',_vm._b({},'UnitFilterableTable',{ headers: _vm.header, items: _vm.results, kViewBlock: _vm.kViewBlock },false))],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <VContainer>\n    <VRow class=\"justify-center\">\n      <p>\n        <span v-text=\"messages['select-currency']\" />\n        <VSelect\n          v-model=\"currentCurrency\"\n          :items=\"currencies\"\n          @input=\"filterCurrency\"\n        />\n      </p>\n    </VRow>\n    <ChartViewVRowWebShare>\n      <VCol cols=\"12\" md=\"8\">\n        <VRow>\n          <VCol cols=\"12\" md=\"12\">\n            <div id=\"price-chart\">\n              <span class=\"font-weight-bold\" v-text=\"messages['Cumulative expenses']\" />\n              <ChartViewFilters />\n            </div>\n            <div id=\"hour-chart\">\n              <ChartViewTextSelectTimeRange>\n                <a v-t=\"'reset'\" class=\"reset\" style=\"display: none\" />\n              </ChartViewTextSelectTimeRange>\n            </div>\n          </VCol>\n        </VRow>\n        <VRow>\n          <VCol cols=\"12\" md=\"4\">\n            <div id=\"service-chart\">\n              <span class=\"font-weight-bold\" v-text=\"messages['Service used']\" />\n              <ChartViewFilters />\n            </div>\n          </VCol>\n          <VCol cols=\"12\" md=\"4\">\n            <div id=\"week-chart\">\n              <span class=\"font-weight-bold\" v-text=\"messages['Day of week']\" />\n              <ChartViewFilters />\n            </div>\n          </VCol>\n          <VCol cols=\"12\" md=\"4\">\n            <div id=\"address-chart\">\n              <span class=\"font-weight-bold\" v-text=\"messages['Begin trip address']\" />\n              <ChartViewFilters />\n            </div>\n          </VCol>\n        </VRow>\n      </VCol>\n      <VCol cols=\"12\" md=\"4\">\n        <VCard class=\"general-info\">\n          <VCardTitle>{{ messages['General information'] }}</VCardTitle>\n          <VCardSubtitle />\n          <VCardText>\n            <VContainer>\n              <VRow dense>\n                <VCol cols=\"12\" md=\"6\">\n                  <VSheet outlined :color=\"colorPalette[0]\" rounded>\n                    <VCard elevation=\"0\" outlined>\n                      <VCardTitle class=\"justify-center text-caption\">\n                        {{ messages['Orders'] }}\n                      </VCardTitle>\n                      <VCardSubtitle />\n                      <VCardText class=\"text-h4 text-center\">\n                        <div id=\"number-trip\" />\n                        <span class=\"text-subtitle-1\" v-text=\"messages['trips']\" />\n                      </VCardText>\n                    </VCard>\n                  </VSheet>\n                </VCol>\n                <VCol cols=\"12\" md=\"6\">\n                  <VSheet outlined :color=\"colorPalette[0]\" rounded>\n                    <VCard elevation=\"0\" outlined>\n                      <VCardTitle class=\"justify-center text-caption\">\n                        {{ messages['Speed'] }}\n                      </VCardTitle>\n                      <VCardSubtitle />\n                      <VCardText class=\"text-h4 text-center\">\n                        <div id=\"number-speed-avg\" class=\"font-weight-bold\" />\n                        <span class=\"text-subtitle-1\" v-text=\"messages['mph']\" />\n                      </VCardText>\n                    </VCard>\n                  </VSheet>\n                </VCol>\n              </VRow>\n            </VContainer>\n            <VSimpleTable dense>\n              <template #default>\n                <thead>\n                  <tr>\n                    <th class=\"text-left\" />\n                    <th class=\"text-left\" v-text=\"messages['Total']\" />\n                    <th class=\"text-left\" v-text=\"messages['Average']\" />\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td class=\"font-weight-bold\" v-text=\"messages['Price']\" />\n                    <td class=\"text-h6\" v-text=\"priceTotalNumber\" />\n                    <td class=\"text-h6\" v-text=\"priceAvgNumber\" />\n                  </tr>\n                  <tr\n                    v-for=\"{ heading, ids, metric } in generalInformationRows\"\n                    :key=\"heading\"\n                  >\n                    <td v-text=\"messages[heading]\" />\n                    <td v-for=\"id in ids\" :key=\"id\">\n                      <span :id=\"id\" class=\"text-h6\" /> <span v-text=\"messages[metric]\" />\n                    </td>\n                  </tr>\n                </tbody>\n              </template>\n            </VSimpleTable>\n          </VCardText>\n          <VCardActions>\n            <BaseButton elevation=\"2\" block @click=\"resetAll()\" :color=\"colorPalette[0]\">\n              {{ messages['Reset all filters'] }}\n            </BaseButton>\n          </VCardActions>\n        </VCard>\n      </VCol>\n    </ChartViewVRowWebShare>\n    <VRow>\n      <VCol cols=\"12\">\n        <UnitFilterableTable v-bind=\"{ headers: header, items: results, kViewBlock }\" />\n      </VCol>\n    </VRow>\n  </VContainer>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport * as dc from 'dc'\nimport crossfilter from 'crossfilter2'\nimport mixin from './mixin'\nimport { findNumberFormatIETFCode } from '@/i18n/vue-i18n-number-formats'\nimport ChartViewVRowWebShare from './ChartViewVRowWebShare.vue'\nimport ChartViewTextSelectTimeRange from './text/ChartViewTextSelectTimeRange.vue'\nimport ChartViewFilters from './filters/ChartViewFilters.vue'\nimport BaseButton from '@/components/base/button/BaseButton.vue'\nimport UnitFilterableTable from '@/components/unit/filterable-table/UnitFilterableTable.vue'\n// import regression from 'regression'\n\n// Remove warning on default colorscheme, even if not used..\ndc.config.defaultColors(d3.schemePaired)\n\nexport default {\n  components: { ChartViewVRowWebShare, ChartViewTextSelectTimeRange, ChartViewFilters, BaseButton, UnitFilterableTable },\n  mixins: [mixin],\n  data() {\n    return {\n      header: [\n        ['City', 'city'],\n        ['Service', 'service'],\n        ['Status', 'tripOrOrderStatus'],\n        ['Request Time', 'dateRequestStr'],\n        ['From', 'beginTripAddress'],\n        ['To', 'dropoffAddress'],\n        ['Waiting time (min)', 'waitingTime'],\n        ['Distance (miles)', 'distanceMiles'],\n        ['Duration (min)', 'duration'],\n        ['Price', 'priceStr']\n      ].map(([text, value]) => ({ text, value })),\n      generalInformationRows: [{\n        heading: 'Distance',\n        metric: 'miles',\n        ids: ['number-distance-total', 'number-distance-avg']\n      }, {\n        heading: 'Duration',\n        metric: 'min',\n        ids: ['number-duration-total', 'number-duration-avg']\n      }, {\n        heading: 'Waiting time',\n        metric: 'min',\n        ids: ['number-waiting-total', 'number-waiting-avg']\n      }],\n      results: [],\n      currencies: [],\n      currentCurrency: null,\n      currencyDimension: null,\n      priceAvgNumber: null,\n      priceTotalNumber: null\n    }\n  },\n  methods: {\n    k(key, prefix = '') {\n      return `chart-view.overview-uber.${prefix ? `${prefix}.` : ''}${key}`\n    },\n    filterCurrency(newCurr) {\n      this.currencyDimension.filter(newCurr)\n      this.currentCurrency = newCurr\n      this.resetAll()\n    },\n    resetAll() {\n      dc.filterAll()\n      dc.renderAll()\n    },\n    drawViz() {\n      // Add data to table\n      this.results = this.values.filter(d => d.tripOrOrderStatus === 'COMPLETED')\n      // Define color palette for the graphs\n      /*\n      const colorPalette = [\n        '#254b7f',\n        '#1c6488',\n        '#287a8c',\n        '#40908e',\n        '#59a590',\n        '#7dba91'\n      ]\n      */\n      // Parse and format data\n      const dateFormatParser = d3.timeParse('%Y-%m-%d %H:%M:%S %Z UTC')\n      const formatTime = d3.timeFormat(`%B %d, %Y ${this.$t('at')} %H:%M:%S`)\n      this.results.forEach((d) => {\n        d.service =\n                    d.productType.charAt(0).toUpperCase() + d.productType.slice(1)\n        d.dateRequest = dateFormatParser(d.requestTime)\n        d.dateStart = dateFormatParser(d.beginTripTime)\n        d.dateEnd = dateFormatParser(d.dropoffTime)\n        d.dateRequestStr = formatTime(d.dateRequest)\n        d.dateStartStr = formatTime(d.dateStart)\n        d.dateEndStr = formatTime(d.dateEnd)\n        d.day = d3.timeDay(d.dateStart) // pre-calculate days for better performance\n        d.hour = d3.timeHour(d.dateStart).getHours()\n        d.duration = d3.timeMinute.count(d.dateStart, d.dateEnd)\n        d.waitingTime = d3.timeMinute.count(d.dateRequest, d.dateStart)\n        // https://kazupon.github.io/vue-i18n/guide/number.html#number-localization\n        d.priceStr = this.$n(Number(d.fareAmount), 'currency', d.fareCurrency)\n        d.price = +d.fareAmount\n        d.distance = +d.distanceMiles\n        d.address = d.beginTripAddress.replace(/[0-9]/g, '').split(',')[0]\n      })\n      // Create and bind charts to their respective divs\n      const hourChart = new dc.BarChart('#hour-chart')\n      const serviceChart = new dc.PieChart('#service-chart')\n      const weekChart = new dc.RowChart('#week-chart')\n      const priceChart = new dc.LineChart('#price-chart')\n      const addressChart = new dc.RowChart('#address-chart')\n      const tripNumber = new dc.NumberDisplay('#number-trip')\n      const speedNumber = new dc.NumberDisplay('#number-speed-avg')\n      const distanceTotalNumber = new dc.NumberDisplay('#number-distance-total')\n      const distanceAvgNumber = new dc.NumberDisplay('#number-distance-avg')\n      const durationTotalNumber = new dc.NumberDisplay('#number-duration-total')\n      const durationAvgNumber = new dc.NumberDisplay('#number-duration-avg')\n      const waitingTotalNumber = new dc.NumberDisplay('#number-waiting-total')\n      const waitingAvgNumber = new dc.NumberDisplay('#number-waiting-avg')\n      // Bind reset filters links\n      d3.select('#hour-chart a.reset').on('click', function() {\n        hourChart.filterAll()\n        dc.redrawAll()\n      })\n      d3.select('#service-chart a.reset').on('click', function() {\n        serviceChart.filterAll()\n        dc.redrawAll()\n      })\n      d3.select('#week-chart a.reset').on('click', function() {\n        weekChart.filterAll()\n        dc.redrawAll()\n      })\n      d3.select('#price-chart a.reset').on('click', function() {\n        priceChart.filterAll()\n        dc.redrawAll()\n      })\n      d3.select('#address-chart a.reset').on('click', function() {\n        addressChart.filterAll()\n        dc.redrawAll()\n      })\n      const ndx = crossfilter(this.results)\n      // Create dimensions\n      const allDimension = ndx.groupAll()\n      const dayOfWeekDimension = ndx.dimension((d) => {\n        const day = d.dateStart.getDay()\n        const name = this.$days()\n        return `${name[day]}`\n      })\n      const serviceDimension = ndx.dimension(d => d.service)\n      const addressDimension = ndx.dimension(d => d.address)\n      const dayDimension = ndx.dimension(d => d.day)\n      const hourDimension = ndx.dimension(d => d.hour)\n      this.currencyDimension = ndx.dimension(d => d.fareCurrency)\n      // Create groups\n      const allGroup = allDimension.reduce(\n        /* Add elem to dim */\n        (p, v) => {\n          ++p.count\n          p.distanceTotal += v.distance\n          p.waitingTotal += v.waitingTime\n          p.priceTotal += v.price\n          p.durationTotal += v.duration\n          return p\n        },\n        /* Remove elem from dim */\n        (p, v) => {\n          --p.count\n          p.distanceTotal -= v.distance\n          p.waitingTotal -= v.waitingTime\n          p.priceTotal -= v.price\n          p.durationTotal -= v.duration\n          return p\n        },\n        /* initialize p */\n        () => ({\n          count: 0,\n          distanceTotal: 0,\n          waitingTotal: 0,\n          durationTotal: 0,\n          priceTotal: 0\n        }))\n      const dayOfWeekGroup = dayOfWeekDimension.group().reduceCount()\n      const serviceGroup = serviceDimension.group().reduceCount()\n      const priceGroup = dayDimension.group().reduceSum(d => d.price)\n      const addressGroup = addressDimension.group().reduceCount()\n      const hourGroup = hourDimension.group().reduceCount()\n      const currencyGroup = this.currencyDimension.group()\n      this.currentCurrency = currencyGroup.top(1)[0].key\n      this.currencyDimension.filter(this.currentCurrency)\n      currencyGroup.top(Infinity).forEach(({ key }) => {\n        const currencySymbol = this.$n(undefined, 'currency', findNumberFormatIETFCode(key)).replace(/\\s*NaN\\s*/, '')\n        const text = currencySymbol ? `${key} (${currencySymbol})` : key\n        this.currencies.push({\n          value: key,\n          text\n        })\n      })\n      // Render general Information numbers\n      tripNumber\n        .group(allGroup)\n        .valueAccessor(p => p.count)\n        .formatNumber(d3.format('~s'))\n        .on('pretransition', (chart, filter) => {\n          this.results = serviceDimension.top(Infinity)\n        })\n      speedNumber\n        .group(allGroup)\n        .valueAccessor((p) => {\n          return p.durationTotal ? (p.distanceTotal * 60) / p.durationTotal : 0\n        })\n        .formatNumber(d3.format('.1f'))\n      const { priceTotal, count } = allGroup.value()\n      const numberFormatIETF = findNumberFormatIETFCode(this.currentCurrency)\n      this.priceAvgNumber = this.$n(count ? priceTotal / count : 0, { key: 'currency', locale: numberFormatIETF, maximumFractionDigits: 1 })\n      this.priceTotalNumber = this.$n(priceTotal, { key: 'currency', locale: numberFormatIETF, maximumSignificantDigits: 3 })\n      distanceAvgNumber\n        .group(allGroup)\n        .valueAccessor(p => (p.count ? p.distanceTotal / p.count : 0))\n        .formatNumber(d3.format('.1f'))\n      distanceTotalNumber\n        .group(allGroup)\n        .valueAccessor(p => p.distanceTotal)\n        .formatNumber(d3.format('.3s'))\n      durationTotalNumber\n        .group(allGroup)\n        .valueAccessor(p => p.durationTotal)\n        .formatNumber(d3.format('.3s'))\n      durationAvgNumber\n        .group(allGroup)\n        .valueAccessor(p => (p.durationTotal ? p.durationTotal / p.count : 0))\n        .formatNumber(d3.format('.1f'))\n      waitingTotalNumber\n        .group(allGroup)\n        .valueAccessor(p => p.waitingTotal)\n        .formatNumber(d3.format('.3s'))\n      waitingAvgNumber\n        .group(allGroup)\n        .valueAccessor(p => (p.count ? p.waitingTotal / p.count : 0))\n        .formatNumber(d3.format('.1f'))\n      // Render hour bar chart\n      hourChart\n        .width(d3.select('#hour-chart').node().getBoundingClientRect().width)\n        .height(40)\n        .margins({ top: 0, right: 10, bottom: 20, left: 40 })\n        .dimension(hourDimension)\n        .group(hourGroup)\n        .centerBar(true)\n        .gap(1)\n        .x(d3.scaleLinear().domain([0, 23]))\n        .ordinalColors(this.colorPalette)\n        .yAxis()\n        .ticks(0)\n      hourChart\n        .xAxis()\n        .tickFormat(d => d + ':00')\n        .ticks(7)\n      // Render days of week row chart\n      function removeEmptyBins(group) {\n        return {\n          top(n) {\n            return group\n              .top(Infinity)\n              .filter(function(d) {\n                return d.value.count !== 0 && d.value !== 0\n              })\n              .slice(0, n)\n          }\n        }\n      }\n      weekChart\n        .width(d3.select('#week-chart').node().getBoundingClientRect().width)\n        .height(180)\n        .margins({ top: 10, left: 10, right: 10, bottom: 20 })\n        .group(dayOfWeekGroup)\n        .dimension(dayOfWeekDimension)\n        .ordinalColors(this.colorPalette)\n        .label(d => d.key)\n        .title(d => d.value)\n        .elasticX(true)\n        .xAxis()\n        .ticks(4)\n      weekChart.ordering(d => this.$days().indexOf(d.key))\n      // Render service pie chart\n      serviceChart\n        .width(d3.select('#service-chart').node().getBoundingClientRect().width)\n        .height(180)\n        .radius(180 / 2)\n        .innerRadius(0)\n        .dimension(serviceDimension)\n        .group(serviceGroup)\n        .valueAccessor((d) => {\n          return d.value\n        })\n        .title(d => d.key + ': ' + d.value + ' trips')\n        .ordinalColors(this.colorPalette)\n        .label((d) => {\n          let label = d.key\n          if (label.length > 8) {\n            label = label.substring(0, 8) + '.. '\n          }\n          if (serviceChart.hasFilter() && !serviceChart.hasFilter(d.key)) {\n            return `${label} (0%)`\n          }\n          if (allDimension.value()) {\n            label += ` (${Math.round((d.value / allGroup.value().count) * 100)}%)`\n          }\n          return label\n        })\n      // Render CumPrice line chart\n      const minDate = dayDimension.bottom(1).length > 0 ? dayDimension.bottom(1)[0].day : null\n      const maxDate = dayDimension.top(1).length > 0 ? dayDimension.top(1)[0].day : null\n      function createCumulativeGroup(group) {\n        return {\n          all() {\n            const cumulate = {}\n            return group.all().map(function(d) {\n              if (cumulate[d.key[0]]) {\n                cumulate[d.key[0]] += d.value\n              } else {\n                cumulate[d.key[0]] = d.value\n              }\n              return { key: d.key, value: cumulate[d.key[0]] }\n            })\n          }\n        }\n      }\n      priceChart\n        .margins({ top: 20, left: 40, right: 20, bottom: 20 })\n        .width(d3.select('#price-chart').node().getBoundingClientRect().width)\n        .turnOnControls(false)\n        .curve(d3.curveMonotoneX)\n        .xyTipsOn(true)\n        .height(180)\n        .brushOn(false)\n        .renderArea(true)\n        .dimension(dayDimension)\n        .group(createCumulativeGroup(priceGroup))\n        .x(d3.scaleTime().domain([minDate, maxDate]))\n        .elasticX(true)\n        .elasticY(true)\n        .renderDataPoints({\n          radius: 3,\n          fillOpaaddress: 0.8,\n          strokeOpaaddress: 0\n        })\n        .clipPadding(10)\n        .yAxisLabel(this.$t(this.k('Total price')))\n        .brushOn(true)\n        .ordinalColors(this.colorPalette)\n      priceChart.xAxis().ticks(10)\n      priceChart.yAxis().ticks(6)\n      priceChart.filterAll()\n      // Render address row chart\n      addressChart\n        .width(d3.select('#address-chart').node().getBoundingClientRect().width)\n        .height(180)\n        .margins({ top: 20, left: 10, right: 10, bottom: 20 })\n        .group(removeEmptyBins(addressGroup))\n        .dimension(addressDimension)\n        .ordinalColors(this.colorPalette)\n        .label(d => d.key)\n        .title(d => d.value)\n        .data(group => group.top(10))\n        .elasticX(true)\n        .xAxis()\n        .ticks(4)\n      dc.renderAll()\n    }\n  }\n}\n</script>\n<style scoped>\n::v-deep #hour-chart g.y {\n  display: none;\n}\n\n::v-deep ul.list-inline {\n  list-style: none;\n  padding-left: 0;\n}\n\n::v-deep ul.list-inline > li {\n  display: inline-block;\n}\n\n::v-deep li.border-right {\n  border-right: 1px solid #90a4ae;\n}\n\n::v-deep .pl-2 {\n  padding-left: 1.5rem;\n}\n::v-deep .pr-2 {\n  padding-right: 1.5rem;\n}\n\n::v-deep .stat-info {\n  font-style: italic;\n  font-size: 0.8em;\n}\n::v-deep p.stat-title {\n  margin: 0.5rem;\n  padding: 0;\n}\n\n::v-deep .stat-elem {\n  padding: 1rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-12.use[0]!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-12.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewOverviewUber.vue?vue&type=style&index=0&id=16dbcb0c&prod&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./ChartViewOverviewUber.vue?vue&type=template&id=16dbcb0c&scoped=true&\"\nimport script from \"./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewOverviewUber.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChartViewOverviewUber.vue?vue&type=style&index=0&id=16dbcb0c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16dbcb0c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('VRow',_vm._b({ref:\"domToImageNode\"},'VRow',_vm.$attrs,false),[_vm._t(\"default\"),_c('VCol',{staticClass:\"dom-to-image-exclude webshare d-flex\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"webshare__export-button\"},[_c('BaseButton',_vm._b({attrs:{\"icon\":\"mdiExport\",\"text\":\"Export\"},on:{\"click\":_vm.exportImage}},'BaseButton',{ progress: _vm.progress, status: _vm.status, error: _vm.error },false))],1),_c('div',{staticClass:\"webshare__download-button\"},[_c('BaseButtonDownloadData',_vm._b({},'BaseButtonDownloadData',{ disabled: !_vm.blob, extension: _vm.extension, filename: _vm.filename, data: _vm.blob },false))],1),_c('div',{staticClass:\"webshare__share-button\"},[_c('BaseButtonShare',_vm._b({attrs:{\"file-share\":\"\"}},'BaseButtonShare',{ files: _vm.files, disabled: !_vm.files },false))],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <VRow ref=\"domToImageNode\" v-bind=\"$attrs\">\n      <slot />\n      <VCol cols=\"12\" class=\"dom-to-image-exclude webshare d-flex\">\n        <div class=\"webshare__export-button\">\n          <BaseButton\n            icon=\"mdiExport\"\n            text=\"Export\"\n            v-bind=\"{ progress, status, error }\"\n            @click=\"exportImage\"\n          />\n        </div>\n        <div class=\"webshare__download-button\">\n        <BaseButtonDownloadData\n          v-bind=\"{ disabled: !blob, extension, filename, data: blob }\"\n        />\n        </div>\n        <div class=\"webshare__share-button\">\n        <BaseButtonShare\n          file-share\n          v-bind=\"{ files, disabled: !files }\"\n        />\n        </div>\n      </VCol>\n    </VRow>\n</template>\n\n<script>\nimport exportImageMixinFactory from '@/mixins/export-image-mixin-factory'\nimport BaseButton from '@/components/base/button/BaseButton.vue'\nimport BaseButtonDownloadData from '@/components/base/button/download/BaseButtonDownloadData.vue'\nimport BaseButtonShare from '@/components/base/button/BaseButtonShare.vue'\n\nexport default {\n  components: { BaseButton, BaseButtonDownloadData, BaseButtonShare },\n  mixins: [exportImageMixinFactory()]\n}\n</script>\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewVRowWebShare.vue?vue&type=template&id=67579568&\"\nimport script from \"./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewVRowWebShare.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"filters\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('Current filter'))+\" \"),_c('span',{staticClass:\"filter\"})]),_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('reset'),expression:\"'reset'\"}],staticClass:\"reset\",staticStyle:{\"display\":\"none\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <p class=\"filters\">\n    <span>\n      {{ $t('Current filter') }}\n      <span class=\"filter\" />\n    </span>\n    <a v-t=\"'reset'\" class=\"reset\" style=\"display: none\" />\n  </p>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartViewFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartViewFilters.vue?vue&type=template&id=2f9280d1&\"\nimport script from \"./ChartViewFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartViewFilters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"muted pull-right text-subtitle-2 mr-4 mb-1\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$t('select-time-range'))}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ChartViewTextSelectTimeRange.vue?vue&type=template&id=46f28fc2&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":[],"sourceRoot":""}